<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steven P. Sanderson II, MPH">
<meta name="dcterms.date" content="2024-10-18">
<meta name="keywords" content="Programming, Shell expansion examples, Linux command-line tips, Bash shell expansion tutorial, Using echo in Linux, Preventing shell expansion, Variable expansion in bash, Command substitution examples, Pathname expansion in Linux, Brace expansion tutorial, Tilde expansion in bash, Shell expansion Linux, Echo command Linux, Bash expansion tutorial, Linux command line expansion, Shell scripting expansion, Pathname expansion examples, Brace expansion Linux, Variable expansion bash, Command substitution Linux, Tilde expansion shell">
<meta name="description" content="Discover the power of shell expansion in Linux with our beginner-friendly guide. Learn how to use echo and other commands to enhance your command-line skills.">

<title>Understanding Expansion in the Linux Shell – Steve’s Data Tips and Tricks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JSJCM62KQJ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JSJCM62KQJ', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Understanding Expansion in the Linux Shell – Steve’s Data Tips and Tricks">
<meta property="og:description" content="Discover the power of shell expansion in Linux with our beginner-friendly guide. Learn how to use echo and other commands to enhance your command-line skills.">
<meta property="og:site_name" content="Steve's Data Tips and Tricks">
<meta name="twitter:title" content="Understanding Expansion in the Linux Shell – Steve’s Data Tips and Tricks">
<meta name="twitter:description" content="Discover the power of shell expansion in Linux with our beginner-friendly guide. Learn how to use echo and other commands to enhance your command-line skills.">
<meta name="twitter:creator" content="@steveondata">
<meta name="twitter:site" content="@steveondata">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Steve’s Data Tips and Tricks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/spsanderson"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://t.me/steveondata"> <i class="bi bi-telegram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://feeds.feedburner.com/RBloggers"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-bloggers.com/"> <i class="bi bi-book" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-users.com/"> <i class="bi bi-briefcase" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Understanding Expansion in the Linux Shell</h1>
                  <div>
        <div class="description">
          Discover the power of shell expansion in Linux with our beginner-friendly guide. Learn how to use echo and other commands to enhance your command-line skills.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">rtip</div>
                <div class="quarto-category">linux</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Steven P. Sanderson II, MPH </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 18, 2024</p>
      </div>
    </div>
    
      
    </div>
    

  <div>
    <div class="keywords">
      <div class="block-title">Keywords</div>
      <p>Programming, Shell expansion examples, Linux command-line tips, Bash shell expansion tutorial, Using echo in Linux, Preventing shell expansion, Variable expansion in bash, Command substitution examples, Pathname expansion in Linux, Brace expansion tutorial, Tilde expansion in bash, Shell expansion Linux, Echo command Linux, Bash expansion tutorial, Linux command line expansion, Shell scripting expansion, Pathname expansion examples, Brace expansion Linux, Variable expansion bash, Command substitution Linux, Tilde expansion shell</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#what-is-shell-expansion" id="toc-what-is-shell-expansion" class="nav-link" data-scroll-target="#what-is-shell-expansion">What is Shell Expansion?</a>
  <ul class="collapse">
  <li><a href="#defining-shell-expansion" id="toc-defining-shell-expansion" class="nav-link" data-scroll-target="#defining-shell-expansion">Defining Shell Expansion</a></li>
  </ul></li>
  <li><a href="#the-role-of-echo-in-shell-expansion" id="toc-the-role-of-echo-in-shell-expansion" class="nav-link" data-scroll-target="#the-role-of-echo-in-shell-expansion">The Role of <code>echo</code> in Shell Expansion</a>
  <ul class="collapse">
  <li><a href="#using-echo-for-displaying-expansions" id="toc-using-echo-for-displaying-expansions" class="nav-link" data-scroll-target="#using-echo-for-displaying-expansions">Using <code>echo</code> for Displaying Expansions</a></li>
  </ul></li>
  <li><a href="#pathname-expansion" id="toc-pathname-expansion" class="nav-link" data-scroll-target="#pathname-expansion">Pathname Expansion</a>
  <ul class="collapse">
  <li><a href="#understanding-pathname-expansion" id="toc-understanding-pathname-expansion" class="nav-link" data-scroll-target="#understanding-pathname-expansion">Understanding Pathname Expansion</a></li>
  </ul></li>
  <li><a href="#brace-expansion" id="toc-brace-expansion" class="nav-link" data-scroll-target="#brace-expansion">Brace Expansion</a>
  <ul class="collapse">
  <li><a href="#exploring-brace-expansion" id="toc-exploring-brace-expansion" class="nav-link" data-scroll-target="#exploring-brace-expansion">Exploring Brace Expansion</a></li>
  </ul></li>
  <li><a href="#tilde-expansion" id="toc-tilde-expansion" class="nav-link" data-scroll-target="#tilde-expansion">Tilde Expansion</a>
  <ul class="collapse">
  <li><a href="#utilizing-tilde-expansion" id="toc-utilizing-tilde-expansion" class="nav-link" data-scroll-target="#utilizing-tilde-expansion">Utilizing Tilde Expansion</a></li>
  </ul></li>
  <li><a href="#variable-expansion" id="toc-variable-expansion" class="nav-link" data-scroll-target="#variable-expansion">Variable Expansion</a>
  <ul class="collapse">
  <li><a href="#mastering-variable-expansion" id="toc-mastering-variable-expansion" class="nav-link" data-scroll-target="#mastering-variable-expansion">Mastering Variable Expansion</a></li>
  </ul></li>
  <li><a href="#command-substitution" id="toc-command-substitution" class="nav-link" data-scroll-target="#command-substitution">Command Substitution</a>
  <ul class="collapse">
  <li><a href="#command-substitution-in-shell-expansion" id="toc-command-substitution-in-shell-expansion" class="nav-link" data-scroll-target="#command-substitution-in-shell-expansion">Command Substitution in Shell Expansion</a></li>
  </ul></li>
  <li><a href="#arithmetic-expansion" id="toc-arithmetic-expansion" class="nav-link" data-scroll-target="#arithmetic-expansion">Arithmetic Expansion</a>
  <ul class="collapse">
  <li><a href="#performing-arithmetic-expansion" id="toc-performing-arithmetic-expansion" class="nav-link" data-scroll-target="#performing-arithmetic-expansion">Performing Arithmetic Expansion</a></li>
  </ul></li>
  <li><a href="#preventing-expansion" id="toc-preventing-expansion" class="nav-link" data-scroll-target="#preventing-expansion">Preventing Expansion</a>
  <ul class="collapse">
  <li><a href="#techniques-to-prevent-expansion" id="toc-techniques-to-prevent-expansion" class="nav-link" data-scroll-target="#techniques-to-prevent-expansion">Techniques to Prevent Expansion</a></li>
  </ul></li>
  <li><a href="#common-pitfalls-and-how-to-avoid-them" id="toc-common-pitfalls-and-how-to-avoid-them" class="nav-link" data-scroll-target="#common-pitfalls-and-how-to-avoid-them">Common Pitfalls and How to Avoid Them</a>
  <ul class="collapse">
  <li><a href="#avoiding-common-mistakes-in-shell-expansion" id="toc-avoiding-common-mistakes-in-shell-expansion" class="nav-link" data-scroll-target="#avoiding-common-mistakes-in-shell-expansion">Avoiding Common Mistakes in Shell Expansion</a></li>
  </ul></li>
  <li><a href="#practical-examples" id="toc-practical-examples" class="nav-link" data-scroll-target="#practical-examples">Practical Examples</a>
  <ul class="collapse">
  <li><a href="#practical-examples-of-shell-expansion" id="toc-practical-examples-of-shell-expansion" class="nav-link" data-scroll-target="#practical-examples-of-shell-expansion">Practical Examples of Shell Expansion</a></li>
  </ul></li>
  <li><a href="#visuals" id="toc-visuals" class="nav-link" data-scroll-target="#visuals">Visuals</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your Turn!</a>
  <ul class="collapse">
  <li><a href="#try-it-yourself-practice-shell-expansion" id="toc-try-it-yourself-practice-shell-expansion" class="nav-link" data-scroll-target="#try-it-yourself-practice-shell-expansion">Try It Yourself: Practice Shell Expansion</a></li>
  </ul></li>
  <li><a href="#quick-takeaways" id="toc-quick-takeaways" class="nav-link" data-scroll-target="#quick-takeaways">Quick Takeaways</a>
  <ul class="collapse">
  <li><a href="#key-points-to-remember" id="toc-key-points-to-remember" class="nav-link" data-scroll-target="#key-points-to-remember">Key Points to Remember</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a>
  <ul class="collapse">
  <li><a href="#wrapping-up-shell-expansion" id="toc-wrapping-up-shell-expansion" class="nav-link" data-scroll-target="#wrapping-up-shell-expansion">Wrapping Up Shell Expansion</a></li>
  </ul></li>
  <li><a href="#faqs" id="toc-faqs" class="nav-link" data-scroll-target="#faqs">FAQs</a>
  <ul class="collapse">
  <li><a href="#frequently-asked-questions" id="toc-frequently-asked-questions" class="nav-link" data-scroll-target="#frequently-asked-questions">Frequently Asked Questions</a></li>
  </ul></li>
  <li><a href="#share-your-thoughts" id="toc-share-your-thoughts" class="nav-link" data-scroll-target="#share-your-thoughts">Share Your Thoughts</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>For beginners venturing into the world of Linux, understanding shell expansion is a crucial step towards mastering the command line. Shell expansion is a powerful feature that allows users to generate complex commands and manipulate data efficiently. At the heart of demonstrating this functionality is the <code>echo</code> command, a simple yet versatile tool that helps us visualize how expansion works in practice.</p>
<p>In this comprehensive guide, we’ll explore the ins and outs of shell expansion, with a particular focus on how the <code>echo</code> command interacts with various types of expansions. Whether you’re just starting out or looking to solidify your understanding, this article will equip you with the knowledge to leverage shell expansion effectively in your Linux journey.</p>
<section id="what-is-shell-expansion" class="level2">
<h2 class="anchored" data-anchor-id="what-is-shell-expansion">What is Shell Expansion?</h2>
<section id="defining-shell-expansion" class="level3">
<h3 class="anchored" data-anchor-id="defining-shell-expansion">Defining Shell Expansion</h3>
<p>Shell expansion is a process where the shell interprets and replaces certain expressions before executing a command. This powerful feature allows users to write more concise and flexible commands, automating repetitive tasks and handling complex file operations with ease.</p>
<p>There are several types of shell expansions, each serving a unique purpose:</p>
<ol type="1">
<li>Pathname Expansion</li>
<li>Brace Expansion</li>
<li>Tilde Expansion</li>
<li>Variable Expansion</li>
<li>Command Substitution</li>
<li>Arithmetic Expansion</li>
</ol>
<p>Understanding these expansions is key to becoming proficient in the Linux command line environment.</p>
</section>
</section>
<section id="the-role-of-echo-in-shell-expansion" class="level2">
<h2 class="anchored" data-anchor-id="the-role-of-echo-in-shell-expansion">The Role of <code>echo</code> in Shell Expansion</h2>
<section id="using-echo-for-displaying-expansions" class="level3">
<h3 class="anchored" data-anchor-id="using-echo-for-displaying-expansions">Using <code>echo</code> for Displaying Expansions</h3>
<p>The <code>echo</code> command is a fundamental tool in Linux that prints its arguments to the standard output. When combined with shell expansions, <code>echo</code> becomes an invaluable tool for understanding and debugging how the shell interprets various expressions.</p>
<p>Here’s a simple example to get us started:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> Hello, World!</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command will output:</p>
<pre><code>Hello, World!</code></pre>
<p>Now, let’s see how <code>echo</code> works with different types of expansions.</p>
</section>
</section>
<section id="pathname-expansion" class="level2">
<h2 class="anchored" data-anchor-id="pathname-expansion">Pathname Expansion</h2>
<section id="understanding-pathname-expansion" class="level3">
<h3 class="anchored" data-anchor-id="understanding-pathname-expansion">Understanding Pathname Expansion</h3>
<p>Pathname expansion, also known as globbing, allows you to specify multiple filenames using wildcard characters. The most common wildcards are:</p>
<ul>
<li><code>*</code>: Matches any number of characters</li>
<li><code>?</code>: Matches any single character</li>
</ul>
<p>Let’s see pathname expansion in action using <code>echo</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="pp">*</span>.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command will list all files in the current directory with a <code>.txt</code> extension. For example, if you have files named <code>note1.txt</code>, <code>note2.txt</code>, and <code>readme.txt</code>, the output would be:</p>
<pre><code>note1.txt note2.txt readme.txt</code></pre>
</section>
</section>
<section id="brace-expansion" class="level2">
<h2 class="anchored" data-anchor-id="brace-expansion">Brace Expansion</h2>
<section id="exploring-brace-expansion" class="level3">
<h3 class="anchored" data-anchor-id="exploring-brace-expansion">Exploring Brace Expansion</h3>
<p>Brace expansion generates multiple strings from a pattern containing braces. This is particularly useful for creating sets of files or directories.</p>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> file<span class="dt">{</span><span class="dv">1</span><span class="dt">..</span><span class="dv">3</span><span class="dt">}</span>.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>file1.txt file2.txt file3.txt</code></pre>
<p>You can also use brace expansion with letters:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="dt">{</span>a<span class="dt">..</span>c<span class="dt">}{</span><span class="dv">1</span><span class="dt">..</span><span class="dv">3</span><span class="dt">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>a1 a2 a3 b1 b2 b3 c1 c2 c3</code></pre>
</section>
</section>
<section id="tilde-expansion" class="level2">
<h2 class="anchored" data-anchor-id="tilde-expansion">Tilde Expansion</h2>
<section id="utilizing-tilde-expansion" class="level3">
<h3 class="anchored" data-anchor-id="utilizing-tilde-expansion">Utilizing Tilde Expansion</h3>
<p>Tilde expansion is a convenient way to refer to home directories. The tilde (<code>~</code>) character is expanded to the current user’s home directory.</p>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> ~</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will output the path to your home directory, such as:</p>
<pre><code>/home/username</code></pre>
<p>You can also use tilde expansion to refer to other users’ home directories:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> ~otheruser</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will show the home directory of <code>otheruser</code>.</p>
</section>
</section>
<section id="variable-expansion" class="level2">
<h2 class="anchored" data-anchor-id="variable-expansion">Variable Expansion</h2>
<section id="mastering-variable-expansion" class="level3">
<h3 class="anchored" data-anchor-id="mastering-variable-expansion">Mastering Variable Expansion</h3>
<p>Variables in the shell can be expanded using the <code>$</code> symbol. This is useful for accessing environment variables or variables you’ve set yourself.</p>
<p>Example:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$HOME</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will output your home directory path, similar to the tilde expansion example.</p>
<p>You can also use curly braces for more complex variable names:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="va">name</span><span class="op">=</span><span class="st">"John"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">${name}</span><span class="st">'s home directory is </span><span class="va">$HOME</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>John's home directory is /home/john</code></pre>
</section>
</section>
<section id="command-substitution" class="level2">
<h2 class="anchored" data-anchor-id="command-substitution">Command Substitution</h2>
<section id="command-substitution-in-shell-expansion" class="level3">
<h3 class="anchored" data-anchor-id="command-substitution-in-shell-expansion">Command Substitution in Shell Expansion</h3>
<p>Command substitution allows you to use the output of a command as an argument to another command. There are two syntaxes for command substitution:</p>
<ol type="1">
<li>Using backticks (`)</li>
<li>Using $()</li>
</ol>
<p>The second syntax is preferred in modern scripts. Here’s an example:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Today's date is </span><span class="va">$(</span><span class="fu">date</span><span class="va">)</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>Today's date is Fri Oct 18 11:34:56 UTC 2024</code></pre>
</section>
</section>
<section id="arithmetic-expansion" class="level2">
<h2 class="anchored" data-anchor-id="arithmetic-expansion">Arithmetic Expansion</h2>
<section id="performing-arithmetic-expansion" class="level3">
<h3 class="anchored" data-anchor-id="performing-arithmetic-expansion">Performing Arithmetic Expansion</h3>
<p>Arithmetic expansion allows you to perform mathematical operations directly in the shell. It uses the syntax <code>$((expression))</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"5 + 3 = </span><span class="va">$((</span><span class="dv">5</span> <span class="op">+</span> <span class="dv">3</span><span class="va">))</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>5 + 3 = 8</code></pre>
<p>You can use variables in arithmetic expansions as well:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="va">x</span><span class="op">=</span>5</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="va">y</span><span class="op">=</span>3</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"x + y = </span><span class="va">$((x</span> <span class="op">+</span> <span class="va">y))</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>x + y = 8</code></pre>
</section>
</section>
<section id="preventing-expansion" class="level2">
<h2 class="anchored" data-anchor-id="preventing-expansion">Preventing Expansion</h2>
<section id="techniques-to-prevent-expansion" class="level3">
<h3 class="anchored" data-anchor-id="techniques-to-prevent-expansion">Techniques to Prevent Expansion</h3>
<p>Sometimes, you may want to prevent the shell from expanding certain expressions. You can do this using quotes or escape characters.</p>
<p>Single quotes prevent all expansions:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'$HOME'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>$HOME</code></pre>
<p>Double quotes prevent some expansions but allow variable and command substitution:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">$HOME</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>/home/username</code></pre>
<p>The backslash can be used to escape individual characters:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="dt">\$</span>HOME</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>$HOME</code></pre>
</section>
</section>
<section id="common-pitfalls-and-how-to-avoid-them" class="level2">
<h2 class="anchored" data-anchor-id="common-pitfalls-and-how-to-avoid-them">Common Pitfalls and How to Avoid Them</h2>
<section id="avoiding-common-mistakes-in-shell-expansion" class="level3">
<h3 class="anchored" data-anchor-id="avoiding-common-mistakes-in-shell-expansion">Avoiding Common Mistakes in Shell Expansion</h3>
<ol type="1">
<li><p><strong>Forgetting to quote variables</strong>: Always quote your variables to prevent word splitting and globbing.</p>
<p>Incorrect: <code>echo $filename</code> Correct: <code>echo "$filename"</code></p></li>
<li><p><strong>Misusing single and double quotes</strong>: Remember that single quotes prevent all expansion, while double quotes allow some.</p></li>
<li><p><strong>Neglecting to escape special characters</strong>: When you want to use characters like <code>*</code>, <code>?</code>, or <code>$</code> literally, remember to escape them or use quotes.</p></li>
<li><p><strong>Assuming spaces in filenames</strong>: Be cautious when using pathname expansion, as spaces in filenames can lead to unexpected results.</p></li>
<li><p><strong>Overusing <code>eval</code></strong>: While <code>eval</code> can be powerful, it can also be dangerous. Avoid it when possible, and be extremely careful when you must use it.</p></li>
</ol>
</section>
</section>
<section id="practical-examples" class="level2">
<h2 class="anchored" data-anchor-id="practical-examples">Practical Examples</h2>
<section id="practical-examples-of-shell-expansion" class="level3">
<h3 class="anchored" data-anchor-id="practical-examples-of-shell-expansion">Practical Examples of Shell Expansion</h3>
<p>Let’s look at some real-world scenarios where shell expansion proves useful:</p>
<ol type="1">
<li><p><strong>Batch renaming files</strong>:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> file <span class="kw">in</span> <span class="pp">*</span>.jpg<span class="kw">;</span> <span class="cf">do</span> <span class="fu">mv</span> <span class="st">"</span><span class="va">$file</span><span class="st">"</span> <span class="st">"renamed_</span><span class="va">${file}</span><span class="st">"</span><span class="kw">;</span> <span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This renames all <code>.jpg</code> files by adding “renamed_” to the beginning.</p></li>
<li><p><strong>Creating a dated backup</strong>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> important_file.txt <span class="st">"backup_</span><span class="va">$(</span><span class="fu">date</span> +%Y%m%d<span class="va">)</span><span class="st">.txt"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This creates a backup of <code>important_file.txt</code> with the current date in the filename.</p></li>
<li><p><strong>Searching for files modified in the last day</strong>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-mtime</span> <span class="at">-1</span> <span class="at">-print</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This uses command substitution to find files modified in the last 24 hours.</p></li>
</ol>
</section>
</section>
<section id="visuals" class="level2">
<h2 class="anchored" data-anchor-id="visuals">Visuals</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="flowchart.png" class="img-fluid figure-img"></p>
<figcaption>Expansion Flowchart</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="infographic.png" class="img-fluid figure-img"></p>
<figcaption>Expansion Infographic</figcaption>
</figure>
</div>
</section>
<section id="your-turn" class="level2">
<h2 class="anchored" data-anchor-id="your-turn">Your Turn!</h2>
<section id="try-it-yourself-practice-shell-expansion" class="level3">
<h3 class="anchored" data-anchor-id="try-it-yourself-practice-shell-expansion">Try It Yourself: Practice Shell Expansion</h3>
<p>Now it’s time for you to practice! Here’s a challenge:</p>
<p><strong>Problem</strong>: Create a command that generates a list of numbered backup files for today’s date.</p>
<p>Try to solve this using brace expansion, command substitution, and pathname expansion. Write your solution before looking at the one provided below.</p>
<p><strong>Solution</strong>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"backup_</span><span class="va">$(</span><span class="fu">date</span> +%Y%m%d<span class="va">)</span><span class="st">_{1..5}.txt"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command will output:</p>
<pre><code>backup_20241018_1.txt backup_20241018_2.txt backup_20241018_3.txt backup_20241018_4.txt backup_20241018_5.txt</code></pre>
</section>
</section>
<section id="quick-takeaways" class="level2">
<h2 class="anchored" data-anchor-id="quick-takeaways">Quick Takeaways</h2>
<section id="key-points-to-remember" class="level3">
<h3 class="anchored" data-anchor-id="key-points-to-remember">Key Points to Remember</h3>
<ul>
<li>Shell expansion happens before command execution.</li>
<li>The <code>echo</code> command is useful for understanding how expansions work.</li>
<li>Pathname expansion uses wildcards to match multiple files.</li>
<li>Brace expansion generates sets of strings.</li>
<li>Tilde expansion is a shortcut for home directories.</li>
<li>Variable expansion allows access to variable values.</li>
<li>Command substitution embeds command output within other commands.</li>
<li>Arithmetic expansion performs mathematical operations.</li>
<li>Quotes and escape characters can prevent unwanted expansions.</li>
</ul>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<section id="wrapping-up-shell-expansion" class="level3">
<h3 class="anchored" data-anchor-id="wrapping-up-shell-expansion">Wrapping Up Shell Expansion</h3>
<p>Understanding shell expansion is a fundamental skill for any Linux user. It allows you to write more efficient and powerful commands, automate tasks, and fully leverage the capabilities of the command line. By mastering the various types of expansions and how they interact with commands like <code>echo</code>, you’ll be well on your way to becoming a proficient Linux user.</p>
<p>As you continue your Linux journey with me, keep experimenting with different expansions and how they can be combined. Practice regularly, and don’t be afraid to consult the manual pages (<code>man</code>) for more detailed information. The more you use these features, the more natural they’ll become, and you’ll find yourself writing complex commands with ease.</p>
<p>Remember, the shell is a powerful tool at your fingertips. Use it wisely, and it will greatly enhance your productivity and understanding of the Linux operating system.</p>
</section>
</section>
<section id="faqs" class="level2">
<h2 class="anchored" data-anchor-id="faqs">FAQs</h2>
<section id="frequently-asked-questions" class="level3">
<h3 class="anchored" data-anchor-id="frequently-asked-questions">Frequently Asked Questions</h3>
<ol type="1">
<li><p><strong>What is shell expansion in Linux?</strong> Shell expansion is a process where the shell interprets and replaces certain expressions in command lines before executing them. This includes expanding wildcards, variables, and performing arithmetic operations.</p></li>
<li><p><strong>How does <code>echo</code> work with shell expansions?</strong> The <code>echo</code> command simply prints its arguments to the standard output. When used with shell expansions, it displays the result of the expansion, making it a useful tool for understanding and debugging how the shell interprets various expressions.</p></li>
<li><p><strong>Can shell expansion be disabled?</strong> While you can’t completely disable shell expansion, you can prevent specific expansions using quotes or escape characters. Single quotes prevent all expansions, double quotes allow some expansions (like variable expansion), and backslashes can escape individual characters.</p></li>
<li><p><strong>What are some common uses of brace expansion?</strong> Brace expansion is often used for batch file operations, creating sets of files or directories, and generating sequences of numbers or letters. It’s particularly useful in loops and for tasks that require working with multiple similar filenames.</p></li>
<li><p><strong>How can I practice shell expansion effectively?</strong> The best way to practice is by using the command line regularly. Start with simple expansions and gradually increase complexity. Use <code>echo</code> to see how different expansions work, and challenge yourself to solve real-world problems using various expansion techniques.</p></li>
</ol>
</section>
</section>
<section id="share-your-thoughts" class="level2">
<h2 class="anchored" data-anchor-id="share-your-thoughts">Share Your Thoughts</h2>
<p>We hope this guide has been helpful in understanding shell expansion and the <code>echo</code> command in Linux. If you found this article useful, please consider sharing it on social media to help others learn about these important concepts. Do you have any questions or experiences with shell expansion you’d like to share? Leave a comment below – we’d love to hear from you and continue the discussion!</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ol type="1">
<li>Shotts, W. (2019). <em>The Linux Command Line: A Complete Introduction</em>. No Starch Press.</li>
<li>“Bash Reference Manual.” GNU Operating System, www.gnu.org/software/bash/manual/bash.html.</li>
<li>Cooper, M. (2014). <em>Advanced Bash-Scripting Guide</em>. The Linux Documentation Project.</li>
<li>Newham, C., &amp; Rosenblatt, B. (2005). <em>Learning the bash Shell: Unix Shell Programming</em>. O’Reilly Media.</li>
<li>“Echo.” Linux man page, linux.die.net/man/1/echo.</li>
</ol>
<hr>
<p>Happy Coding! 🚀</p>
<hr>
<p><em>You can connect with me at any one of the below</em>:</p>
<p><em>Telegram Channel here</em>: <a href="https://t.me/steveondata" class="uri">https://t.me/steveondata</a></p>
<p><em>LinkedIn Network here</em>: <a href="https://www.linkedin.com/in/spsanderson/" class="uri">https://www.linkedin.com/in/spsanderson/</a></p>
<p><em>Mastadon Social here</em>: <a href="https://mstdn.social/@stevensanderson">https://mstdn.social/@stevensanderson</a></p>
<p><em>RStats Network here</em>: <a href="https://rstats.me/@spsanderson">https://rstats.me/@spsanderson</a></p>
<p><em>GitHub Network here</em>: <a href="https://github.com/spsanderson" class="uri">https://github.com/spsanderson</a></p>
<hr>
<script src="https://giscus.app/client.js" data-repo="spsanderson/steveondata" data-repo-id="R_kgDOIIxnLw" data-category="Comments" data-category-id="DIC_kwDOIIxnL84ChTk8" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.spsanderson\.com\/steveondata\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>