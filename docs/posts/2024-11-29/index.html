<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steven P. Sanderson II, MPH">
<meta name="dcterms.date" content="2024-11-29">
<meta name="keywords" content="Programming, Linux bash prompt, Customizing bash prompt, PS1 environment variable, ANSI escape codes, Bash prompt commands, Bash prompt colors, Bash special characters, Prompt cursor movement, .bashrc prompt settings, Terminal customization, Customizing Linux command line prompt, Adding date and time to bash prompt, Colorizing bash prompt with ANSI codes, Bash prompt cursor positioning escape sequences, Creating a personalized Linux terminal experience">
<meta name="description" content="Customize your Linux bash prompt with colors, symbols, time, and more. Learn to use PS1 variables, ANSI escape codes, and cursor positioning to create a personalized command line experience.">

<title>Mastering Linux: A Beginner’s Guide to Customizing the Bash Prompt – Steve's Data Tips and Tricks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JSJCM62KQJ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JSJCM62KQJ', { 'anonymize_ip': true});
</script>
<meta name="quarto:status" content="draft">


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Mastering Linux: A Beginner’s Guide to Customizing the Bash Prompt – Steve’s Data Tips and Tricks">
<meta property="og:description" content="Customize your Linux bash prompt with colors, symbols, time, and more. Learn to use PS1 variables, ANSI escape codes, and cursor positioning to create a personalized command line experience.">
<meta property="og:site_name" content="Steve's Data Tips and Tricks">
<meta name="twitter:title" content="Mastering Linux: A Beginner’s Guide to Customizing the Bash Prompt – Steve’s Data Tips and Tricks">
<meta name="twitter:description" content="Customize your Linux bash prompt with colors, symbols, time, and more. Learn to use PS1 variables, ANSI escape codes, and cursor positioning to create a personalized command line experience.">
<meta name="twitter:creator" content="@steveondata">
<meta name="twitter:site" content="@steveondata">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><div id="quarto-draft-alert" class="alert alert-warning"><i class="bi bi-pencil-square"></i>Draft</div>
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Steve’s Data Tips and Tricks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/spsanderson"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://t.me/steveondata"> <i class="bi bi-telegram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://feeds.feedburner.com/RBloggers"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-bloggers.com/"> <i class="bi bi-book" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-users.com/"> <i class="bi bi-briefcase" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Mastering Linux: A Beginner’s Guide to Customizing the Bash Prompt</h1>
                  <div>
        <div class="description">
          Customize your Linux bash prompt with colors, symbols, time, and more. Learn to use PS1 variables, ANSI escape codes, and cursor positioning to create a personalized command line experience.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">linux</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Steven P. Sanderson II, MPH </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 29, 2024</p>
      </div>
    </div>
    
      
    </div>
    

  <div>
    <div class="keywords">
      <div class="block-title">Keywords</div>
      <p>Programming, Linux bash prompt, Customizing bash prompt, PS1 environment variable, ANSI escape codes, Bash prompt commands, Bash prompt colors, Bash special characters, Prompt cursor movement, .bashrc prompt settings, Terminal customization, Customizing Linux command line prompt, Adding date and time to bash prompt, Colorizing bash prompt with ANSI codes, Bash prompt cursor positioning escape sequences, Creating a personalized Linux terminal experience</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#understanding-the-anatomy-of-the-bash-prompt" id="toc-understanding-the-anatomy-of-the-bash-prompt" class="nav-link" data-scroll-target="#understanding-the-anatomy-of-the-bash-prompt">Understanding the Anatomy of the Bash Prompt</a></li>
  <li><a href="#trying-out-alternative-prompt-designs" id="toc-trying-out-alternative-prompt-designs" class="nav-link" data-scroll-target="#trying-out-alternative-prompt-designs">Trying Out Alternative Prompt Designs</a></li>
  <li><a href="#adding-color-to-your-bash-prompt" id="toc-adding-color-to-your-bash-prompt" class="nav-link" data-scroll-target="#adding-color-to-your-bash-prompt">Adding Color to Your Bash Prompt</a></li>
  <li><a href="#positioning-the-cursor-and-displaying-information" id="toc-positioning-the-cursor-and-displaying-information" class="nav-link" data-scroll-target="#positioning-the-cursor-and-displaying-information">Positioning the Cursor and Displaying Information</a></li>
  <li><a href="#making-your-custom-prompt-permanent" id="toc-making-your-custom-prompt-permanent" class="nav-link" data-scroll-target="#making-your-custom-prompt-permanent">Making Your Custom Prompt Permanent</a></li>
  <li><a href="#advanced-prompt-customization-techniques" id="toc-advanced-prompt-customization-techniques" class="nav-link" data-scroll-target="#advanced-prompt-customization-techniques">Advanced Prompt Customization Techniques</a></li>
  <li><a href="#troubleshooting-common-issues" id="toc-troubleshooting-common-issues" class="nav-link" data-scroll-target="#troubleshooting-common-issues">Troubleshooting Common Issues</a></li>
  <li><a href="#quick-takeaways" id="toc-quick-takeaways" class="nav-link" data-scroll-target="#quick-takeaways">Quick Takeaways</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#frequently-asked-questions" id="toc-frequently-asked-questions" class="nav-link" data-scroll-target="#frequently-asked-questions">Frequently Asked Questions</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your Turn!</a></li>
  <li><a href="#what-will-you-create" id="toc-what-will-you-create" class="nav-link" data-scroll-target="#what-will-you-create">What Will You Create?</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a>
  <ul class="collapse">
  <li><a href="#some-escape-codes-used-in-shell-prompts" id="toc-some-escape-codes-used-in-shell-prompts" class="nav-link" data-scroll-target="#some-escape-codes-used-in-shell-prompts">Some Escape Codes Used In Shell Prompts</a></li>
  <li><a href="#colors" id="toc-colors" class="nav-link" data-scroll-target="#colors">Colors!</a></li>
  <li><a href="#movement" id="toc-movement" class="nav-link" data-scroll-target="#movement">Movement</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The command line is an essential part of working with Linux, and the bash prompt is your gateway to this powerful interface. While the default prompt gets the job done, customizing it can greatly enhance your productivity and make your terminal experience more enjoyable. In this guide, we’ll explore the benefits of personalizing your bash prompt and walk through the process step-by-step.</p>
</section>
<section id="understanding-the-anatomy-of-the-bash-prompt" class="level1">
<h1>Understanding the Anatomy of the Bash Prompt</h1>
<p>The appearance of your bash prompt is controlled by an environment variable called PS1 (short for “prompt string one”). By default, it usually contains information like your username, hostname, and current working directory. To see what your PS1 variable looks like, use the echo command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$PS1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The output will likely include a combination of plain text characters and special backslash-escaped sequences. These sequences represent various pieces of information that the shell inserts into your prompt.</p>
</section>
<section id="trying-out-alternative-prompt-designs" class="level1">
<h1>Trying Out Alternative Prompt Designs</h1>
<p>Before we dive into customizing the prompt, it’s a good idea to backup your existing prompt string. You can do this by copying the value of PS1 into a new variable:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">ps1_old</span><span class="op">=</span><span class="st">"</span><span class="va">$PS1</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now, let’s experiment with a few different prompt designs. For example, you can try an empty prompt:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or a minimal prompt with just a dollar sign:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"</span><span class="dt">\$</span><span class="st"> "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can even add a bell sound to your prompt:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\[\a\]</span><span class="dt">\$</span><span class="st"> "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note the use of [ and ] to wrap non-printing characters like . This helps bash correctly calculate the width of the prompt.</p>
<p>For a more informative prompt, try including the time and hostname:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\A \h </span><span class="dt">\$</span><span class="st"> "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And here’s a variation that resembles the default prompt:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"&lt;\u@\h \W&gt;</span><span class="dt">\$</span><span class="st"> "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Feel free to experiment with the various backslash-escaped sequences to create a prompt that suits your needs.</p>
</section>
<section id="adding-color-to-your-bash-prompt" class="level1">
<h1>Adding Color to Your Bash Prompt</h1>
<p>Modern terminal emulators support color through the use of ANSI escape codes. These special sequences are embedded in the character stream and instruct the terminal to change text attributes, move the cursor, and more.</p>
<p>To set the text color, use the following format:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">\033[X</span><span class="kw">;</span><span class="ex">YYm</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Where X is the character attribute (like bold) and YY is the color code. For example, to make the prompt text red, use:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\[\033[0;31m\]&lt;\u@\h \W&gt;</span><span class="dt">\$</span><span class="st"> "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But now everything you type after the prompt is also red! To fix this, add another escape code at the end to reset the color:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\[\033[0;31m\]&lt;\u@\h \W&gt;</span><span class="dt">\$</span><span class="st">\[\033[0m\] "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can also change the background color using codes like \033[0;41m for red.</p>
</section>
<section id="positioning-the-cursor-and-displaying-information" class="level1">
<h1>Positioning the Cursor and Displaying Information</h1>
<p>ANSI escape codes also allow you to move the cursor around the terminal screen. This is handy for displaying information in a different location, like a clock in the upper corner.</p>
<p>Here’s an example prompt that draws a red bar at the top of the screen with a yellow clock:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\[\033[s\033[0;0H\033[0;41m\033[K\033[1;33m\t\033[0m\033[u\]&lt;\u@\h \W&gt;</span><span class="dt">\$</span><span class="st"> "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s break down what each part does:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Sequence</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>[</td>
<td>Begin non-printing characters</td>
</tr>
<tr class="even">
<td>\033[s</td>
<td>Save cursor position</td>
</tr>
<tr class="odd">
<td>\033[0;0H</td>
<td>Move cursor to upper left corner</td>
</tr>
<tr class="even">
<td>\033[0;41m</td>
<td>Set background color to red</td>
</tr>
<tr class="odd">
<td>\033[K</td>
<td>Clear line from cursor to end</td>
</tr>
<tr class="even">
<td>\033[1;33m</td>
<td>Set text color to yellow</td>
</tr>
<tr class="odd">
<td> Display current time</td>
<td></td>
</tr>
<tr class="even">
<td>\033[0m</td>
<td>Reset color</td>
</tr>
<tr class="odd">
<td>\033[u</td>
<td>Restore cursor position</td>
</tr>
<tr class="even">
<td>]</td>
<td>End non-printing characters</td>
</tr>
</tbody>
</table>
</section>
<section id="making-your-custom-prompt-permanent" class="level1">
<h1>Making Your Custom Prompt Permanent</h1>
<p>To make your prompt customizations stick, add them to your .bashrc file. Open the file in a text editor and insert these lines:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\[\033[s\033[0;0H\033[0;41m\033[K\033[1;33m\t\033[0m\033[u\]&lt;\u@\h \W&gt;</span><span class="dt">\$</span><span class="st"> "</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PS1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Save the file, then either restart your terminal or run <code>source ~/.bashrc</code> to reload the settings.</p>
</section>
<section id="advanced-prompt-customization-techniques" class="level1">
<h1>Advanced Prompt Customization Techniques</h1>
<p>Once you’ve mastered the basics, you can take your prompt to the next level with shell functions and scripts. For example, you could write a function to display the current Git branch or dynamically change colors based on the exit status of the last command.</p>
<p>When crafting your perfect prompt, keep these tips in mind:</p>
<ul>
<li>Be mindful of prompt length, especially if you often work in deep directory structures.</li>
<li>Avoid using expensive operations that could slow down the prompt’s rendering.</li>
<li>Use colors judiciously to enhance rather than distract.</li>
<li>Test your prompt in different terminal emulators to ensure compatibility.</li>
</ul>
</section>
<section id="troubleshooting-common-issues" class="level1">
<h1>Troubleshooting Common Issues</h1>
<p>If your prompt customization isn’t working as expected, check for these common pitfalls:</p>
<ul>
<li>Forgetting to wrap non-printing sequences in [ and ].</li>
<li>Using an incompatible or incorrectly formatted ANSI escape code.</li>
<li>Exceeding the maximum prompt length, causing wrapping or overlap.</li>
</ul>
<p>When in doubt, consult the comprehensive Bash Prompt HOWTO or try a web-based prompt generator to get back on track.</p>
</section>
<section id="quick-takeaways" class="level1">
<h1>Quick Takeaways</h1>
<ul>
<li>The bash prompt is highly customizable using the PS1 variable.</li>
<li>Special backslash-escaped characters represent prompt elements like username, hostname, and time.</li>
<li>ANSI escape codes enable color and cursor movement control.</li>
<li>Thoughtful prompt customization can boost productivity and visual appeal.</li>
<li>Permanent changes are made by editing the .bashrc file.</li>
</ul>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Customizing your bash prompt is a fun way to personalize your Linux terminal experience while learning valuable skills. By mastering prompt crafting, you’ll gain a deeper understanding of how the shell works and be able to tailor it to your unique workflow. So go ahead and experiment – and don’t forget to share your custom creations with the community!</p>
</section>
<section id="frequently-asked-questions" class="level1">
<h1>Frequently Asked Questions</h1>
<ol type="1">
<li><p><strong>Can I use these prompt customization techniques on other shells like Zsh?</strong> Yes, most of these concepts translate well to other shells, though the exact syntax and feature set may differ. Consult your shell’s documentation for specifics.</p></li>
<li><p><strong>Are there any tools or websites that help generate custom prompt strings?</strong> Absolutely! Search for “bash prompt generator” to find web-based tools that provide a GUI for building your prompt. Some even include presets for popular styles.</p></li>
<li><p><strong>How can I display the current Git branch in my prompt?</strong> You’ll need to write a shell function that calls git commands to extract the branch name, then include that function in your PS1 string. The Bash Prompt HOWTO has detailed examples of this technique.</p></li>
<li><p><strong>Is it possible to have different prompts for different directories?</strong> Yes, you can use a shell script in your prompt to check the current directory and conditionally set PS1 to different values. This is handy for color-coding directories or highlighting when you’re in version-controlled projects.</p></li>
<li><p><strong>Can I use emojis or special symbols in my bash prompt?</strong> Modern terminal emulators do support Unicode characters, so you can include emojis and other symbols in your prompt. However, be aware that not all fonts render these characters consistently, so test thoroughly before committing to an emoji-based design.</p></li>
</ol>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p>Now that you’ve learned the basics of customizing your bash prompt, it’s time to put your skills to the test. Try creating a prompt that displays the following:</p>
<ul>
<li>Your username in green</li>
<li>The @ symbol in white</li>
<li>Your hostname in magenta</li>
<li>The current working directory in blue</li>
<li>A dollar sign ($) in red</li>
</ul>
<p>Hint: Use the , and $ special characters along with the appropriate ANSI color codes. Don’t forget to wrap the non-printing characters in [ and ].</p>
<p>Solution:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="va">PS1</span><span class="op">=</span><span class="st">"\[\033[0;32m\]\u\[\033[0;37m\]@\[\033[0;35m\]\h \[\033[0;34m\]\W\[\033[0;31m\]</span><span class="dt">\$</span><span class="st">\[\033[0m\] "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Feel free to experiment with different colors, attributes (like bold), and additional information to make your prompt truly unique!</p>
</section>
<section id="what-will-you-create" class="level1">
<h1>What Will You Create?</h1>
<p>Now that you’re equipped to customize your bash prompt, I want to see what you come up with! Share your creative designs in the comments below, and don’t hesitate to ask if you run into any challenges along the way. Let’s learn from each other and make the Linux terminal a more colorful and expressive place!</p>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li>Bash Prompt HOWTO: <a href="http://tldp.org/HOWTO/Bash-Prompt-HOWTO/">http://tldp.org/HOWTO/Bash-Prompt-HOWTO/</a></li>
<li>Wikipedia - ANSI escape code: <a href="https://en.wikipedia.org/wiki/ANSI_escape_code">https://en.wikipedia.org/wiki/ANSI_escape_code</a></li>
<li>Bash Reference Manual: <a href="https://www.gnu.org/software/bash/manual/">https://www.gnu.org/software/bash/manual/</a></li>
</ul>
<p>I hope this guide has inspired you to take control of your bash prompt and make it your own. Happy customizing!</p>
<section id="some-escape-codes-used-in-shell-prompts" class="level2">
<h2 class="anchored" data-anchor-id="some-escape-codes-used-in-shell-prompts">Some Escape Codes Used In Shell Prompts</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 59%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>Escape Code</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>\a</code></td>
<td>ASCII bell. This makes the computer beep when it is encountered.</td>
</tr>
<tr class="even">
<td><code>\d</code></td>
<td>Current date in day, month, date format. For example, “Mon May 26.”</td>
</tr>
<tr class="odd">
<td><code>\h</code></td>
<td>Hostname of the local machine minus the trailing domain name.</td>
</tr>
<tr class="even">
<td><code>\H</code></td>
<td>Full hostname.</td>
</tr>
<tr class="odd">
<td><code>\j</code></td>
<td>Number of jobs running in the current shell session.</td>
</tr>
<tr class="even">
<td><code>\l</code></td>
<td>Name of the current terminal device.</td>
</tr>
<tr class="odd">
<td><code>\n</code></td>
<td>A newline character.</td>
</tr>
<tr class="even">
<td><code>\r</code></td>
<td>A carriage return.</td>
</tr>
<tr class="odd">
<td><code>\s</code></td>
<td>Name of the shell program.</td>
</tr>
<tr class="even">
<td><code>\t</code></td>
<td>Current time in 24 hour hours:minutes:seconds format.</td>
</tr>
<tr class="odd">
<td><code>\T</code></td>
<td>Current time in 12 hour format.</td>
</tr>
<tr class="even">
<td><code>\@</code></td>
<td>Current time in 12 hour AM/PM format.</td>
</tr>
<tr class="odd">
<td><code>\A</code></td>
<td>Current time in 24 hour hours:minutes format.</td>
</tr>
<tr class="even">
<td><code>\u</code></td>
<td>Username of the current user.</td>
</tr>
<tr class="odd">
<td><code>\v</code></td>
<td>Version number of the shell.</td>
</tr>
<tr class="even">
<td><code>\V</code></td>
<td>Version and release numbers of the shell.</td>
</tr>
<tr class="odd">
<td><code>\w</code></td>
<td>Name of the current working directory.</td>
</tr>
<tr class="even">
<td><code>\W</code></td>
<td>Last part of the current working directory name.</td>
</tr>
<tr class="odd">
<td><code>\!</code></td>
<td>History number of the current command.</td>
</tr>
<tr class="even">
<td><code>\#</code></td>
<td>Number of commands entered during this shell session.</td>
</tr>
<tr class="odd">
<td><code>\$</code></td>
<td>This displays a “$” character unless you have superuser privileges. In that case, it displays a “#” instead.</td>
</tr>
<tr class="even">
<td><code>\[</code></td>
<td>Signals the start of a series of one or more non-printing characters. This is used to embed non-printing control characters which manipulate the terminal emulator in some way, such as moving the cursor or changing text colors.</td>
</tr>
<tr class="odd">
<td><code>\]</code></td>
<td>Signals the end of a non-printing character sequence.</td>
</tr>
</tbody>
</table>
</section>
<section id="colors" class="level2">
<h2 class="anchored" data-anchor-id="colors">Colors!</h2>
<p>Here is a markdown table of the escape sequences used to set text colors in shell prompts:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Sequence</th>
<th>Text Color</th>
<th>Sequence</th>
<th>Text Color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>\033[0;30m</code></td>
<td>Black</td>
<td><code>\033[1;30m</code></td>
<td>Dark Gray</td>
</tr>
<tr class="even">
<td><code>\033[0;31m</code></td>
<td>Red</td>
<td><code>\033[1;31m</code></td>
<td>Light Red</td>
</tr>
<tr class="odd">
<td><code>\033[0;32m</code></td>
<td>Green</td>
<td><code>\033[1;32m</code></td>
<td>Light Green</td>
</tr>
<tr class="even">
<td><code>\033[0;33m</code></td>
<td>Brown</td>
<td><code>\033[1;33m</code></td>
<td>Yellow</td>
</tr>
<tr class="odd">
<td><code>\033[0;34m</code></td>
<td>Blue</td>
<td><code>\033[1;34m</code></td>
<td>Light Blue</td>
</tr>
<tr class="even">
<td><code>\033[0;35m</code></td>
<td>Purple</td>
<td><code>\033[1;35m</code></td>
<td>Light Purple</td>
</tr>
<tr class="odd">
<td><code>\033[0;36m</code></td>
<td>Cyan</td>
<td><code>\033[1;36m</code></td>
<td>Light Cyan</td>
</tr>
<tr class="even">
<td><code>\033[0;37m</code></td>
<td>Light Grey</td>
<td><code>\033[1;37m</code></td>
<td>White</td>
</tr>
</tbody>
</table>
<p>And here is a table of the escape sequences used to set background colors in shell prompts:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Sequence</th>
<th>Background Color</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>\033[0;40m</code></td>
<td>Black</td>
</tr>
<tr class="even">
<td><code>\033[0;41m</code></td>
<td>Red</td>
</tr>
<tr class="odd">
<td><code>\033[0;42m</code></td>
<td>Green</td>
</tr>
<tr class="even">
<td><code>\033[0;43m</code></td>
<td>Brown</td>
</tr>
<tr class="odd">
<td><code>\033[0;44m</code></td>
<td>Blue</td>
</tr>
<tr class="even">
<td><code>\033[0;45m</code></td>
<td>Purple</td>
</tr>
<tr class="odd">
<td><code>\033[0;46m</code></td>
<td>Cyan</td>
</tr>
<tr class="even">
<td><code>\033[0;47m</code></td>
<td>Light Grey</td>
</tr>
</tbody>
</table>
</section>
<section id="movement" class="level2">
<h2 class="anchored" data-anchor-id="movement">Movement</h2>
<p>Here are some escape codes that can be used to move the cursor around the terminal window:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 61%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Escape Code</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>\033[l;cH</code></td>
<td>Move the cursor to line l and column c</td>
</tr>
<tr class="even">
<td><code>\033[nA</code></td>
<td>Move the cursor up n lines</td>
</tr>
<tr class="odd">
<td><code>\033[nB</code></td>
<td>Move the cursor down n lines</td>
</tr>
<tr class="even">
<td><code>\033[nC</code></td>
<td>Move the cursor forward n characters</td>
</tr>
<tr class="odd">
<td><code>\033[nD</code></td>
<td>Move the cursor backward n characters</td>
</tr>
<tr class="even">
<td><code>\033[2J</code></td>
<td>Clear the screen and move the cursor to the upper left corner (line 0, column 0)</td>
</tr>
<tr class="odd">
<td><code>\033[K</code></td>
<td>Clear from the cursor position to the end of the current line</td>
</tr>
<tr class="even">
<td><code>\033[s</code></td>
<td>Store the current cursor position</td>
</tr>
<tr class="odd">
<td><code>\033[u</code></td>
<td>Recall the stored cursor position</td>
</tr>
</tbody>
</table>
<hr>
<p>Happy Coding! 🚀</p>
<hr>
<p><em>You can connect with me at any one of the below</em>:</p>
<p><em>Telegram Channel here</em>: <a href="https://t.me/steveondata" class="uri">https://t.me/steveondata</a></p>
<p><em>LinkedIn Network here</em>: <a href="https://www.linkedin.com/in/spsanderson/" class="uri">https://www.linkedin.com/in/spsanderson/</a></p>
<p><em>Mastadon Social here</em>: <a href="https://mstdn.social/@stevensanderson">https://mstdn.social/@stevensanderson</a></p>
<p><em>RStats Network here</em>: <a href="https://rstats.me/@spsanderson">https://rstats.me/@spsanderson</a></p>
<p><em>GitHub Network here</em>: <a href="https://github.com/spsanderson" class="uri">https://github.com/spsanderson</a></p>
<p><em>Bluesky Network here</em>: <a href="https://bsky.app/profile/spsanderson.com" class="uri">https://bsky.app/profile/spsanderson.com</a></p>
<hr>
<script src="https://giscus.app/client.js" data-repo="spsanderson/steveondata" data-repo-id="R_kgDOIIxnLw" data-category="Comments" data-category-id="DIC_kwDOIIxnL84ChTk8" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.spsanderson\.com\/steveondata\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>