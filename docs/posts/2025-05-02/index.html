<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steven P. Sanderson II, MPH">
<meta name="dcterms.date" content="2025-05-02">
<meta name="keywords" content="Programming, Linux Strings, Linux Numbers, Bash Parameter Expansion, Bash String Manipulation, Bash Arithmetic Operations, String Operations in Bash, Bash Variable Expansion, Linux Shell Arithmetic, Case Conversion in Bash, Using bc in Bash Scripts, Linux string manipulation examples, Bash string operations for beginners, How to handle numbers in Linux scripts, Linux shell parameter expansion explained, Default values for variables in Bash, Bash string length and substring extraction, Pattern matching in Linux shell scripts, Case conversion in Bash scripting, Arithmetic operations in Bash shell, Working with number bases in Linux, Bash arithmetic operators and examples, Bitwise operations in Linux scripts, Using bc for floating-point math in Linux, Common mistakes with Linux strings and numbers, Best practices for Linux string and number handling">
<meta name="description" content="Learn how to work with Linux strings and numbers in Bash. Beginner-friendly guide to string manipulation, arithmetic, and scripting best practices.">

<title>Linux Strings and Linux Numbers: A Beginner’s Guide – Steve’s Data Tips and Tricks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JSJCM62KQJ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JSJCM62KQJ', { 'anonymize_ip': true});
</script>
<meta name="quarto:status" content="draft">


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Linux Strings and Linux Numbers: A Beginner’s Guide – Steve’s Data Tips and Tricks">
<meta property="og:description" content="Learn how to work with Linux strings and numbers in Bash. Beginner-friendly guide to string manipulation, arithmetic, and scripting best practices.">
<meta property="og:site_name" content="Steve's Data Tips and Tricks">
<meta name="twitter:title" content="Linux Strings and Linux Numbers: A Beginner’s Guide – Steve’s Data Tips and Tricks">
<meta name="twitter:description" content="Learn how to work with Linux strings and numbers in Bash. Beginner-friendly guide to string manipulation, arithmetic, and scripting best practices.">
<meta name="twitter:creator" content="@steveondata">
<meta name="twitter:site" content="@steveondata">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><div id="quarto-draft-alert" class="alert alert-warning"><i class="bi bi-pencil-square"></i>Draft</div>
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Steve’s Data Tips and Tricks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/spsanderson"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://t.me/steveondata"> <i class="bi bi-telegram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://feeds.feedburner.com/RBloggers"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-bloggers.com/"> <i class="bi bi-book" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-users.com/"> <i class="bi bi-briefcase" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Linux Strings and Linux Numbers: A Beginner’s Guide</h1>
                  <div>
        <div class="description">
          Learn how to work with Linux strings and numbers in Bash. Beginner-friendly guide to string manipulation, arithmetic, and scripting best practices.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">linux</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Steven P. Sanderson II, MPH </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 2, 2025</p>
      </div>
    </div>
    
      
    </div>
    

  <div>
    <div class="keywords">
      <div class="block-title">Keywords</div>
      <p>Programming, Linux Strings, Linux Numbers, Bash Parameter Expansion, Bash String Manipulation, Bash Arithmetic Operations, String Operations in Bash, Bash Variable Expansion, Linux Shell Arithmetic, Case Conversion in Bash, Using bc in Bash Scripts, Linux string manipulation examples, Bash string operations for beginners, How to handle numbers in Linux scripts, Linux shell parameter expansion explained, Default values for variables in Bash, Bash string length and substring extraction, Pattern matching in Linux shell scripts, Case conversion in Bash scripting, Arithmetic operations in Bash shell, Working with number bases in Linux, Bash arithmetic operators and examples, Bitwise operations in Linux scripts, Using bc for floating-point math in Linux, Common mistakes with Linux strings and numbers, Best practices for Linux string and number handling</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#understanding-data-in-linux" id="toc-understanding-data-in-linux" class="nav-link" data-scroll-target="#understanding-data-in-linux">Understanding Data in Linux</a></li>
  <li><a href="#what-is-a-string-in-linux" id="toc-what-is-a-string-in-linux" class="nav-link" data-scroll-target="#what-is-a-string-in-linux">What is a String in Linux?</a></li>
  <li><a href="#what-is-a-number-in-linux" id="toc-what-is-a-number-in-linux" class="nav-link" data-scroll-target="#what-is-a-number-in-linux">What is a Number in Linux?</a></li>
  <li><a href="#variables-and-parameter-expansion" id="toc-variables-and-parameter-expansion" class="nav-link" data-scroll-target="#variables-and-parameter-expansion">Variables and Parameter Expansion</a></li>
  <li><a href="#managing-empty-and-unset-variables" id="toc-managing-empty-and-unset-variables" class="nav-link" data-scroll-target="#managing-empty-and-unset-variables">Managing Empty and Unset Variables</a></li>
  <li><a href="#string-length-and-substrings" id="toc-string-length-and-substrings" class="nav-link" data-scroll-target="#string-length-and-substrings">String Length and Substrings</a></li>
  <li><a href="#pattern-matching-and-string-manipulation" id="toc-pattern-matching-and-string-manipulation" class="nav-link" data-scroll-target="#pattern-matching-and-string-manipulation">Pattern Matching and String Manipulation</a></li>
  <li><a href="#case-conversion-in-bash" id="toc-case-conversion-in-bash" class="nav-link" data-scroll-target="#case-conversion-in-bash">Case Conversion in Bash</a></li>
  <li><a href="#arithmetic-expansion-and-evaluation" id="toc-arithmetic-expansion-and-evaluation" class="nav-link" data-scroll-target="#arithmetic-expansion-and-evaluation">Arithmetic Expansion and Evaluation</a></li>
  <li><a href="#working-with-number-bases" id="toc-working-with-number-bases" class="nav-link" data-scroll-target="#working-with-number-bases">Working with Number Bases</a></li>
  <li><a href="#arithmetic-operators-in-bash" id="toc-arithmetic-operators-in-bash" class="nav-link" data-scroll-target="#arithmetic-operators-in-bash">Arithmetic Operators in Bash</a></li>
  <li><a href="#assignment-and-incrementdecrement-operators" id="toc-assignment-and-incrementdecrement-operators" class="nav-link" data-scroll-target="#assignment-and-incrementdecrement-operators">Assignment and Increment/Decrement Operators</a></li>
  <li><a href="#bitwise-operations" id="toc-bitwise-operations" class="nav-link" data-scroll-target="#bitwise-operations">Bitwise Operations</a></li>
  <li><a href="#logical-and-comparison-operators" id="toc-logical-and-comparison-operators" class="nav-link" data-scroll-target="#logical-and-comparison-operators">Logical and Comparison Operators</a></li>
  <li><a href="#using-bc-for-advanced-math" id="toc-using-bc-for-advanced-math" class="nav-link" data-scroll-target="#using-bc-for-advanced-math">Using <code>bc</code> for Advanced Math</a>
  <ul class="collapse">
  <li><a href="#basic-usage" id="toc-basic-usage" class="nav-link" data-scroll-target="#basic-usage"><strong>Basic Usage</strong></a></li>
  <li><a href="#practical-script-example-monthly-loan-payment-calculator" id="toc-practical-script-example-monthly-loan-payment-calculator" class="nav-link" data-scroll-target="#practical-script-example-monthly-loan-payment-calculator"><strong>Practical Script Example: Monthly Loan Payment Calculator</strong></a></li>
  </ul></li>
  <li><a href="#practical-script-example-find-longest-word-in-a-file" id="toc-practical-script-example-find-longest-word-in-a-file" class="nav-link" data-scroll-target="#practical-script-example-find-longest-word-in-a-file">Practical Script Example: Find Longest Word in a File</a></li>
  <li><a href="#common-pitfalls-and-best-practices" id="toc-common-pitfalls-and-best-practices" class="nav-link" data-scroll-target="#common-pitfalls-and-best-practices">Common Pitfalls and Best Practices</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your Turn!</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#faqs" id="toc-faqs" class="nav-link" data-scroll-target="#faqs">FAQs</a></li>
  <li><a href="#engage" id="toc-engage" class="nav-link" data-scroll-target="#engage">Engage!</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<blockquote class="blockquote">
<p><strong>Author’s Note:</strong><br>
I’m learning as I write this series, just like many of you! If you spot mistakes or have ideas to improve the explanations or code, please share your thoughts in the comments. I’m open to feedback and eager to grow alongside this community.</p>
</blockquote>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>If you’re new to Linux programming, you’ll quickly realize that <strong>strings</strong> and <strong>numbers</strong> are at the heart of writing effective scripts and tools. From automating system tasks to processing files, knowing how to manipulate data at this level is crucial.</p>
<p>In this article, you’ll learn the essentials of working with Linux strings and numbers in Bash, covering variable expansion, string manipulation, arithmetic, and practical scripting tips.</p>
</section>
<section id="understanding-data-in-linux" class="level1">
<h1>Understanding Data in Linux</h1>
<p>Linux treats most data as either <strong>files, strings, or numbers</strong>. While files are often the focus, many problems require working with smaller fragments—like the contents of a variable or a line in a file. Mastering string and number operations unlocks powerful scripting abilities.</p>
</section>
<section id="what-is-a-string-in-linux" class="level1">
<h1>What is a String in Linux?</h1>
<p>A <strong>string</strong> is simply a sequence of characters—letters, numbers, spaces, or symbols. In Bash, strings are stored in variables and manipulated using built-in shell features.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="va">greeting</span><span class="op">=</span><span class="st">"Hello, Linux!"</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$greeting</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="what-is-a-number-in-linux" class="level1">
<h1>What is a Number in Linux?</h1>
<p>A <strong>number</strong> in Linux scripting usually means an integer or floating-point value stored in a variable. Numbers are used for calculations, loop counters, or as input/output in scripts.</p>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">count</span><span class="op">=</span>42</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$count</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="variables-and-parameter-expansion" class="level1">
<h1>Variables and Parameter Expansion</h1>
<p><strong>Parameter expansion</strong> allows you to access and manipulate variable values. The simplest forms are <code>$variable</code> or <code>${variable}</code>.</p>
<p><strong>Key points:</strong> - Use braces (<code>${a}</code>) when appending text:<br>
<code>bash   a="foo"   echo "${a}_file"   # Outputs: foo_file</code></p>
<ul>
<li>For positional parameters above 9, use braces: <code>${11}</code></li>
</ul>
</section>
<section id="managing-empty-and-unset-variables" class="level1">
<h1>Managing Empty and Unset Variables</h1>
<p>Bash provides special expansions to handle variables that might be empty or unset:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 33%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Expansion</th>
<th>Purpose</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>${parameter:-word}</code></td>
<td>Use <code>word</code> if parameter is unset or empty</td>
<td><code>echo ${foo:-"default"}</code></td>
</tr>
<tr class="even">
<td><code>${parameter:=word}</code></td>
<td>Assign <code>word</code> if parameter is unset or empty, then use it</td>
<td><code>echo ${foo:="default"}</code></td>
</tr>
<tr class="odd">
<td><code>${parameter:?word}</code></td>
<td>Print <code>word</code> as error and exit if parameter is unset or empty</td>
<td><code>echo ${foo:?"Error: foo is empty"}</code></td>
</tr>
<tr class="even">
<td><code>${parameter:+word}</code></td>
<td>Use <code>word</code> <strong>only if</strong> parameter is set and non-empty</td>
<td><code>echo ${foo:+"foo is set"}</code></td>
</tr>
</tbody>
</table>
</section>
<section id="string-length-and-substrings" class="level1">
<h1>String Length and Substrings</h1>
<ul>
<li><p><strong>Get string length:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="va">foo</span><span class="op">=</span><span class="st">"This string is long."</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${</span><span class="op">#</span><span class="va">foo}</span>   <span class="co"># Outputs: 20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Extract substring:</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">:</span><span class="dv">5</span><span class="va">}</span>      <span class="co"># Outputs: string is long.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">:</span><span class="dv">5</span><span class="op">:</span><span class="dv">6</span><span class="va">}</span>    <span class="co"># Outputs: string</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">:</span> -<span class="dv">5</span><span class="va">}</span>    <span class="co"># Outputs: long.</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">:</span> -<span class="dv">5</span><span class="op">:</span><span class="dv">2</span><span class="va">}</span>  <span class="co"># Outputs: lo</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="pattern-matching-and-string-manipulation" class="level1">
<h1>Pattern Matching and String Manipulation</h1>
<ul>
<li><p><strong>Remove prefix:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="va">file</span><span class="op">=</span><span class="st">"file.txt.zip"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${file</span><span class="op">#</span><span class="pp">*</span>.<span class="va">}</span>    <span class="co"># txt.zip</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${file</span><span class="op">##</span><span class="pp">*</span>.<span class="va">}</span>   <span class="co"># zip</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Remove suffix:</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${file</span><span class="op">%</span>.<span class="pp">*</span><span class="va">}</span>    <span class="co"># file.txt</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${file</span><span class="op">%%</span>.<span class="pp">*</span><span class="va">}</span>   <span class="co"># file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Search and replace:</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="va">foo</span><span class="op">=</span><span class="st">"JPG.JPG"</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">/</span><span class="ss">JPG</span><span class="op">/</span>jpg<span class="va">}</span>      <span class="co"># jpg.JPG (first match)</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">//</span><span class="ss">JPG</span><span class="op">/</span>jpg<span class="va">}</span>     <span class="co"># jpg.jpg (all matches)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">/#</span><span class="ss">JPG</span><span class="op">/</span>jpg<span class="va">}</span>     <span class="co"># jpg.JPG (must be at start)</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${foo</span><span class="op">/%</span><span class="ss">JPG</span><span class="op">/</span>jpg<span class="va">}</span>     <span class="co"># JPG.jpg (must be at end)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="case-conversion-in-bash" class="level1">
<h1>Case Conversion in Bash</h1>
<p>Modern Bash versions let you convert case easily:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Expansion</th>
<th>Result</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>${var,,}</code></td>
<td>All lowercase</td>
<td><code>${foo,,}</code></td>
</tr>
<tr class="even">
<td><code>${var,}</code></td>
<td>First character to lowercase</td>
<td><code>${foo,}</code></td>
</tr>
<tr class="odd">
<td><code>${var^^}</code></td>
<td>All uppercase</td>
<td><code>${foo^^}</code></td>
</tr>
<tr class="even">
<td><code>${var^}</code></td>
<td>First character to uppercase</td>
<td><code>${foo^}</code></td>
</tr>
</tbody>
</table>
<p><strong>Script Example:</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="va">input</span><span class="op">=</span><span class="st">"aBc"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${input</span><span class="op">,,</span><span class="va">}</span>   <span class="co"># abc</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">${input</span><span class="op">^^</span><span class="va">}</span>   <span class="co"># ABC</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="arithmetic-expansion-and-evaluation" class="level1">
<h1>Arithmetic Expansion and Evaluation</h1>
<p>Bash supports arithmetic directly:</p>
<ul>
<li><p><strong>Arithmetic expansion:</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$((</span> <span class="dv">5</span> <span class="op">+</span> <span class="dv">3</span> <span class="va">))</span>        <span class="co"># 8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Compound command for tests:</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">((</span> <span class="va">count</span> <span class="op">&gt;</span> <span class="dv">10</span> <span class="kw">));</span> <span class="cf">then</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">"Greater than 10"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="working-with-number-bases" class="level1">
<h1>Working with Number Bases</h1>
<p>You can use different bases (decimal, octal, hexadecimal, binary) in Bash arithmetic:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Notation</th>
<th>Meaning</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>255</code></td>
<td>Decimal (default)</td>
<td><code>echo $((255))</code></td>
</tr>
<tr class="even">
<td><code>0377</code></td>
<td>Octal (leading zero)</td>
<td><code>echo $((0377))</code></td>
</tr>
<tr class="odd">
<td><code>0xff</code></td>
<td>Hexadecimal (0x prefix)</td>
<td><code>echo $((0xff))</code></td>
</tr>
<tr class="even">
<td><code>2#11111111</code></td>
<td>Binary (base#number)</td>
<td><code>echo $((2#11111111))</code></td>
</tr>
</tbody>
</table>
</section>
<section id="arithmetic-operators-in-bash" class="level1">
<h1>Arithmetic Operators in Bash</h1>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>+</code></td>
<td>Addition</td>
<td><code>$((5 + 2))</code></td>
</tr>
<tr class="even">
<td><code>-</code></td>
<td>Subtraction</td>
<td><code>$((5 - 2))</code></td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>Multiplication</td>
<td><code>$((5 * 2))</code></td>
</tr>
<tr class="even">
<td><code>/</code></td>
<td>Integer Division</td>
<td><code>$((5 / 2)) # 2</code></td>
</tr>
<tr class="odd">
<td><code>**</code></td>
<td>Exponentiation</td>
<td><code>$((2 ** 3)) # 8</code></td>
</tr>
<tr class="even">
<td><code>%</code></td>
<td>Modulo (remainder)</td>
<td><code>$((5 % 2)) # 1</code></td>
</tr>
</tbody>
</table>
<p><strong>Modulo Example:</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="kw">((</span><span class="va">i</span> <span class="op">=</span> <span class="dv">0</span><span class="kw">;</span> <span class="va">i</span> <span class="op">&lt;=</span> <span class="dv">20</span><span class="kw">;</span> <span class="op">++</span><span class="va">i</span><span class="kw">));</span> <span class="cf">do</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="kw">((</span><span class="va">i</span> <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span><span class="kw">));</span> <span class="cf">then</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">printf</span> <span class="st">"&lt;%d&gt; "</span> <span class="va">$i</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">printf</span> <span class="st">"%d "</span> <span class="va">$i</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">fi</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="bu">printf</span> <span class="st">"\n"</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: &lt;0&gt; 1 2 3 4 &lt;5&gt; 6 7 8 9 &lt;10&gt; 11 12 13 14 &lt;15&gt; 16 17 18 19 &lt;20&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="assignment-and-incrementdecrement-operators" class="level1">
<h1>Assignment and Increment/Decrement Operators</h1>
<ul>
<li><strong>Assignment:</strong> <code>foo=5</code></li>
<li><strong>Add:</strong> <code>((foo += 2))</code></li>
<li><strong>Subtract:</strong> <code>((foo -= 2))</code></li>
<li><strong>Multiply:</strong> <code>((foo *= 2))</code></li>
<li><strong>Divide:</strong> <code>((foo /= 2))</code></li>
<li><strong>Modulo:</strong> <code>((foo %= 2))</code></li>
<li><strong>Increment/Decrement:</strong> <code>((foo++))</code>, <code>((--foo))</code></li>
</ul>
<p><strong>Prefix vs Postfix:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="va">foo</span><span class="op">=</span>1</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$((foo</span><span class="op">++</span><span class="va">))</span> <span class="co"># 1 (value before increment)</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$foo</span>       <span class="co"># 2</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="va">foo</span><span class="op">=</span>1</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$((</span><span class="op">++</span><span class="va">foo))</span> <span class="co"># 2 (value after increment)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="bitwise-operations" class="level1">
<h1>Bitwise Operations</h1>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>~</code></td>
<td>Bitwise NOT</td>
<td><code>$((~5))</code></td>
</tr>
<tr class="even">
<td><code>&lt;&lt;</code></td>
<td>Left shift</td>
<td><code>$((1 &lt;&lt; 3)) # 8</code></td>
</tr>
<tr class="odd">
<td><code>&gt;&gt;</code></td>
<td>Right shift</td>
<td><code>$((8 &gt;&gt; 3)) # 1</code></td>
</tr>
<tr class="even">
<td><code>&amp;</code></td>
<td>Bitwise AND</td>
<td><code>$((5 &amp; 3)) # 1</code></td>
</tr>
<tr class="odd">
<td><code>|</code></td>
<td>Bitwise OR</td>
<td><code>$((5 | 3)) # 7</code></td>
</tr>
<tr class="even">
<td><code>^</code></td>
<td>Bitwise XOR</td>
<td><code>$((5 ^ 3)) # 6</code></td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="kw">((</span><span class="va">i</span><span class="op">=</span><span class="dv">0</span><span class="kw">;</span><span class="va">i</span><span class="op">&lt;</span><span class="dv">8</span><span class="kw">;</span><span class="op">++</span><span class="va">i</span><span class="kw">));</span> <span class="cf">do</span> <span class="bu">echo</span> <span class="va">$((</span><span class="dv">1</span><span class="op">&lt;&lt;</span><span class="va">i))</span><span class="kw">;</span> <span class="cf">done</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Outputs: 1 2 4 8 16 32 64 128</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Thank you for the full text! I’ll continue the article from where we left off, ensuring the next sections are clear, practical, and beginner-friendly. References and example scripts will be included as shown in your file.</p>
</section>
<section id="logical-and-comparison-operators" class="level1">
<h1>Logical and Comparison Operators</h1>
<p>In Bash arithmetic, you can use a variety of <strong>comparison</strong> and <strong>logical operators</strong> within the <code>(( ))</code> compound command:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 36%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Operator</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;</code></td>
<td>Less than</td>
<td><code>((a &lt; b))</code></td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>Less than or equal to</td>
<td><code>((a &lt;= b))</code></td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>Greater than</td>
<td><code>((a &gt; b))</code></td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>Greater than or equal to</td>
<td><code>((a &gt;= b))</code></td>
</tr>
<tr class="odd">
<td><code>==</code></td>
<td>Equal to</td>
<td><code>((a == b))</code></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>Not equal to</td>
<td><code>((a != b))</code></td>
</tr>
<tr class="odd">
<td><code>&amp;&amp;</code></td>
<td>Logical AND</td>
<td><code>((a &gt; 0 &amp;&amp; b &lt; 5))</code></td>
</tr>
<tr class="even">
<td><code>\|\|</code></td>
<td>Logical OR</td>
<td><code>((a == 0 || b == 0))</code></td>
</tr>
<tr class="odd">
<td><code>expr1?expr2:expr3</code></td>
<td>Ternary operator</td>
<td><code>((a &lt; 1 ? ++a : --a))</code></td>
</tr>
</tbody>
</table>
<p><strong>Zero evaluates to false, non-zero to true.</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">((</span><span class="va">num</span> <span class="op">&gt;</span> <span class="dv">10</span><span class="kw">));</span> <span class="cf">then</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">"Number is greater than 10"</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Ternary Operator Example:</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="va">a</span><span class="op">=</span>0</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">((</span><span class="va">a</span><span class="op">&lt;</span><span class="dv">1</span><span class="op">?++</span><span class="va">a</span><span class="op">:--</span><span class="va">a</span><span class="kw">))</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$a</span>  <span class="co"># Output: 1</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="kw">((</span><span class="va">a</span><span class="op">&lt;</span><span class="dv">1</span><span class="op">?++</span><span class="va">a</span><span class="op">:--</span><span class="va">a</span><span class="kw">))</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$a</span>  <span class="co"># Output: 0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>Parentheses are sometimes needed for assignments: <code>((a&lt;1?(a+=1):(a-=1)))</code></em></p>
</section>
<section id="using-bc-for-advanced-math" class="level1">
<h1>Using <code>bc</code> for Advanced Math</h1>
<p>Bash can only handle <strong>integer arithmetic</strong>. For floating-point calculations or more advanced math, use the <code>bc</code> command.</p>
<section id="basic-usage" class="level3">
<h3 class="anchored" data-anchor-id="basic-usage"><strong>Basic Usage</strong></h3>
<ul>
<li><p><strong>Interactive:</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> bc <span class="at">-q</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">5.7</span> <span class="pp">*</span> 3.2</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">18.24</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="ex">quit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Scripted:</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="va">result</span><span class="op">=</span><span class="va">$(</span><span class="fu">bc</span> <span class="op">&lt;&lt;&lt;</span> <span class="st">"scale=4; 10/3"</span><span class="va">)</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="va">$result</span>  <span class="co"># Outputs: 3.3333</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="practical-script-example-monthly-loan-payment-calculator" class="level3">
<h3 class="anchored" data-anchor-id="practical-script-example-monthly-loan-payment-calculator"><strong>Practical Script Example: Monthly Loan Payment Calculator</strong></h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co"># loan-calc : script to calculate monthly loan payments</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">((</span><span class="va">$#</span> <span class="op">!=</span> <span class="dv">3</span><span class="kw">));</span> <span class="cf">then</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="bu">echo</span> <span class="st">"Usage: </span><span class="va">$0</span><span class="st"> PRINCIPAL INTEREST MONTHS"</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">exit</span> 1</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="va">principal</span><span class="op">=</span><span class="va">$1</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="va">interest</span><span class="op">=</span><span class="va">$2</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="va">months</span><span class="op">=</span><span class="va">$3</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="fu">bc</span> <span class="op">&lt;&lt;- EOF</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="st">scale = 10</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="st">i = </span><span class="va">$interest</span><span class="st"> / 12</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="st">p = </span><span class="va">$principal</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="st">n = </span><span class="va">$months</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="st">a = p * ((i * ((1 + i) ^ n)) / (((1 + i) ^ n) - 1))</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="st">print a, "</span><span class="dt">\n</span><span class="st">"</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="op">EOF</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Run example:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./loan-calc 135000 0.0775 180</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1270.7222490000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="practical-script-example-find-longest-word-in-a-file" class="level1">
<h1>Practical Script Example: Find Longest Word in a File</h1>
<p>Here’s a script using string length expansion and the <code>strings</code> command to find the longest word in a file:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># longest-word : find longest string in a file</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i<span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="kw">[[</span> <span class="ot">-r</span> <span class="va">$i</span> <span class="kw">]];</span> <span class="cf">then</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">max_word</span><span class="op">=</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">max_len</span><span class="op">=</span>0</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> j <span class="kw">in</span> <span class="va">$(</span><span class="fu">strings</span> <span class="st">"</span><span class="va">$i</span><span class="st">"</span><span class="va">)</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>      <span class="va">len</span><span class="op">=</span><span class="va">${</span><span class="op">#</span><span class="va">j}</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> <span class="kw">((</span> <span class="va">len</span> <span class="op">&gt;</span> <span class="va">max_len</span> <span class="kw">));</span> <span class="cf">then</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>        <span class="va">max_len</span><span class="op">=</span><span class="va">$len</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>        <span class="va">max_word</span><span class="op">=</span><span class="va">$j</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>      <span class="cf">fi</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">done</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$i</span><span class="st">: '</span><span class="va">$max_word</span><span class="st">' (</span><span class="va">$max_len</span><span class="st"> characters)"</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">fi</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">shift</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Performance Tip:</strong><br>
Using parameter expansion for string length is much faster than spawning a subshell with <code>wc -c</code>.</p>
</section>
<section id="common-pitfalls-and-best-practices" class="level1">
<h1>Common Pitfalls and Best Practices</h1>
<ul>
<li><strong>Quoting variables</strong>: Always quote variables unless you want word splitting.</li>
<li><strong>Integer math only</strong> in Bash: Use <code>bc</code> for decimals.</li>
<li><strong>Uninitialized variables</strong>: Use <code>${parameter:-default}</code> to avoid errors.</li>
<li><strong>External commands vs.&nbsp;expansions</strong>: Prefer shell parameter expansions over calling <code>sed</code>, <code>cut</code>, or <code>wc</code> for simple string manipulations—they’re faster!</li>
<li><strong>Case normalization</strong>: Convert user input to a consistent case for comparisons.</li>
</ul>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p><strong>Challenge:</strong><br>
Write a Bash script that accepts a string as input and outputs the string reversed (e.g., “hello” → “olleh”) using only parameter expansion.</p>
<details>
<summary>
See Solution
</summary>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co"># reverse-string.sh</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="va">input</span><span class="op">=</span><span class="st">"</span><span class="va">$1</span><span class="st">"</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="va">reversed</span><span class="op">=</span><span class="st">""</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="kw">((</span><span class="va">i</span><span class="op">=</span><span class="va">${</span><span class="op">#</span><span class="va">input}</span><span class="op">-</span><span class="dv">1</span><span class="kw">;</span> <span class="va">i</span><span class="op">&gt;=</span><span class="dv">0</span><span class="kw">;</span> <span class="va">i</span><span class="op">--</span><span class="kw">));</span> <span class="cf">do</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="va">reversed</span><span class="op">=</span><span class="st">"</span><span class="va">$reversed${input</span><span class="op">:</span>i<span class="op">:</span><span class="dv">1</span><span class="va">}</span><span class="st">"</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"</span><span class="va">$reversed</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Usage:</strong></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ./reverse-string.sh hello</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">olleh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</section>
<section id="key-takeaways" class="level1">
<h1>Key Takeaways</h1>
<ul>
<li><strong>Parameter expansion</strong> is powerful for string and number manipulation in Bash.</li>
<li>Use <strong><code>${parameter:-word}</code></strong> and friends to handle unset or empty variables robustly.</li>
<li><strong>String length</strong> and <strong>substring extraction</strong> are easy with <code>${#var}</code> and <code>${var:start:length}</code>.</li>
<li><strong>Case conversion</strong>, <strong>pattern matching</strong>, and <strong>replacement</strong> can all be done natively in Bash.</li>
<li><strong>Bash arithmetic</strong> operates only on integers; use <strong><code>bc</code></strong> for floating-point math.</li>
<li>Prefer parameter expansion over external commands for performance.</li>
</ul>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Mastering strings and numbers is essential for effective Linux scripting. With the tools you’ve learned—parameter expansion, arithmetic, pattern matching, and <code>bc</code>—you can write more powerful and efficient scripts.<br>
<strong>Experiment, practice, and don’t hesitate to improve on these examples. The more you play, the better you’ll get!</strong></p>
</section>
<section id="faqs" class="level1">
<h1>FAQs</h1>
<p><strong>Q1: How do I check if a variable is empty in Bash?</strong><br>
A: Use <code>[ -z "$var" ]</code> or parameter expansion like <code>${var:-default}</code> to detect or fill empty values.</p>
<p><strong>Q2: Can Bash do floating-point math?</strong><br>
A: Not natively. Use the <code>bc</code> command for decimal calculations.</p>
<p><strong>Q3: What’s the difference between <code>${var}</code> and <code>$var</code>?</strong><br>
A: Braces are needed when appending text, using complex expansions, or referencing positional parameters above 9.</p>
<p><strong>Q4: How do I convert a string to uppercase in Bash?</strong><br>
A: Use <code>${var^^}</code> for all uppercase or <code>${var^}</code> for just the first character.</p>
<p><strong>Q5: How do I avoid errors with unset variables?</strong><br>
A: Use <code>${var:-default}</code> to supply a fallback value if the variable is unset or empty.</p>
</section>
<section id="engage" class="level1">
<h1>Engage!</h1>
<p><strong>Did you find this guide helpful?</strong><br>
Please share your feedback, ask questions, or add your own tips in the comments below! If you know someone learning Bash, share this post to help them too.</p>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li><a href="http://www.gnu.org/software/bash/manual/bashref.html#Shell-Parameter-Expansion">GNU Bash Reference Manual: Shell Parameter Expansion</a></li>
<li><a href="http://en.wikipedia.org/wiki/Bit_operation">Wikipedia: Bit operation</a></li>
<li><a href="http://en.wikipedia.org/wiki/Ternary_operation">Wikipedia: Ternary operation</a></li>
<li><a href="http://en.wikipedia.org/wiki/Amortization_calculator">Wikipedia: Amortization calculator</a></li>
</ul>
<hr>
<p>Happy Coding! 🚀</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="todays_post.png" class="img-fluid figure-img"></p>
<figcaption>Strings and Numbers in Linux</figcaption>
</figure>
</div>
<hr>
<p><em>You can connect with me at any one of the below</em>:</p>
<p><em>Telegram Channel here</em>: <a href="https://t.me/steveondata" class="uri">https://t.me/steveondata</a></p>
<p><em>LinkedIn Network here</em>: <a href="https://www.linkedin.com/in/spsanderson/" class="uri">https://www.linkedin.com/in/spsanderson/</a></p>
<p><em>Mastadon Social here</em>: <a href="https://mstdn.social/@stevensanderson">https://mstdn.social/@stevensanderson</a></p>
<p><em>RStats Network here</em>: <a href="https://rstats.me/@spsanderson">https://rstats.me/@spsanderson</a></p>
<p><em>GitHub Network here</em>: <a href="https://github.com/spsanderson" class="uri">https://github.com/spsanderson</a></p>
<p><em>Bluesky Network here</em>: <a href="https://bsky.app/profile/spsanderson.com" class="uri">https://bsky.app/profile/spsanderson.com</a></p>
<p><em>My Book: Extending Excel with Python and R</em> here: <a href="https://packt.link/oTyZJ" class="uri">https://packt.link/oTyZJ</a></p>
<p><em>You.com Referral Link</em>: <a href="https://you.com/join/EHSLDTL6" class="uri">https://you.com/join/EHSLDTL6</a></p>
<hr>
<script src="https://giscus.app/client.js" data-repo="spsanderson/steveondata" data-repo-id="R_kgDOIIxnLw" data-category="Comments" data-category-id="DIC_kwDOIIxnL84ChTk8" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.spsanderson\.com\/steveondata\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>