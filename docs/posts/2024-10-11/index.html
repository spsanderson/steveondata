<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steven P. Sanderson II, MPH">
<meta name="dcterms.date" content="2024-10-11">
<meta name="keywords" content="Programming, Linux Redirection, Command Line Basics, Bash Scripting, Linux File Manipulation, Shell Commands, Input/Output Redirection, Linux Pipes, Text Processing in Linux, Command Chaining, Linux Data Streams, How to use redirection operators in Linux, Difference between pipe and redirection in Linux, Beginner‚Äôs guide to Linux command line tools, Efficiently process text files using Linux commands, Combining multiple Linux commands for data analysis">
<meta name="description" content="Unlock the power of Linux with this beginner‚Äôs guide to redirection. Learn how to use essential commands like cat, sort, grep, and more to efficiently manipulate data. Discover the difference between pipes and redirection, and combine commands for complex tasks.">

<title>Redirection in Linux: A Beginner‚Äôs Guide ‚Äì Steve's Data Tips and Tricks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JSJCM62KQJ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JSJCM62KQJ', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Redirection in Linux: A Beginner‚Äôs Guide ‚Äì Steve‚Äôs Data Tips and Tricks">
<meta property="og:description" content="Unlock the power of Linux with this beginner‚Äôs guide to redirection. Learn how to use essential commands like cat, sort, grep, and more to efficiently manipulate data. Discover the difference between pipes and redirection, and combine commands for complex tasks.">
<meta property="og:site_name" content="Steve's Data Tips and Tricks">
<meta name="twitter:title" content="Redirection in Linux: A Beginner‚Äôs Guide ‚Äì Steve‚Äôs Data Tips and Tricks">
<meta name="twitter:description" content="Unlock the power of Linux with this beginner‚Äôs guide to redirection. Learn how to use essential commands like cat, sort, grep, and more to efficiently manipulate data. Discover the difference between pipes and redirection, and combine commands for complex tasks.">
<meta name="twitter:creator" content="@steveondata">
<meta name="twitter:site" content="@steveondata">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Steve‚Äôs Data Tips and Tricks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/spsanderson"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://t.me/steveondata"> <i class="bi bi-telegram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://feeds.feedburner.com/RBloggers"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-bloggers.com/"> <i class="bi bi-book" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-users.com/"> <i class="bi bi-briefcase" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Redirection in Linux: A Beginner‚Äôs Guide</h1>
                  <div>
        <div class="description">
          Unlock the power of Linux with this beginner‚Äôs guide to redirection. Learn how to use essential commands like cat, sort, grep, and more to efficiently manipulate data. Discover the difference between pipes and redirection, and combine commands for complex tasks.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">rtip</div>
                <div class="quarto-category">linux</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Steven P. Sanderson II, MPH </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 11, 2024</p>
      </div>
    </div>
    
      
    </div>
    

  <div>
    <div class="keywords">
      <div class="block-title">Keywords</div>
      <p>Programming, Linux Redirection, Command Line Basics, Bash Scripting, Linux File Manipulation, Shell Commands, Input/Output Redirection, Linux Pipes, Text Processing in Linux, Command Chaining, Linux Data Streams, How to use redirection operators in Linux, Difference between pipe and redirection in Linux, Beginner‚Äôs guide to Linux command line tools, Efficiently process text files using Linux commands, Combining multiple Linux commands for data analysis</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-to-redirection" id="toc-introduction-to-redirection" class="nav-link active" data-scroll-target="#introduction-to-redirection">Introduction to Redirection</a></li>
  <li><a href="#understanding-standard-input-output-and-error" id="toc-understanding-standard-input-output-and-error" class="nav-link" data-scroll-target="#understanding-standard-input-output-and-error">Understanding Standard Input, Output, and Error</a></li>
  <li><a href="#using-the-cat-command" id="toc-using-the-cat-command" class="nav-link" data-scroll-target="#using-the-cat-command">Using the <code>cat</code> Command</a></li>
  <li><a href="#sorting-data-with-sort" id="toc-sorting-data-with-sort" class="nav-link" data-scroll-target="#sorting-data-with-sort">Sorting Data with <code>sort</code></a></li>
  <li><a href="#removing-duplicates-with-uniq" id="toc-removing-duplicates-with-uniq" class="nav-link" data-scroll-target="#removing-duplicates-with-uniq">Removing Duplicates with <code>uniq</code></a></li>
  <li><a href="#searching-with-grep" id="toc-searching-with-grep" class="nav-link" data-scroll-target="#searching-with-grep">Searching with <code>grep</code></a></li>
  <li><a href="#counting-with-wc" id="toc-counting-with-wc" class="nav-link" data-scroll-target="#counting-with-wc">Counting with <code>wc</code></a></li>
  <li><a href="#viewing-file-contents-with-head-and-tail" id="toc-viewing-file-contents-with-head-and-tail" class="nav-link" data-scroll-target="#viewing-file-contents-with-head-and-tail">Viewing File Contents with <code>head</code> and <code>tail</code></a></li>
  <li><a href="#using-tee-for-output-duplication" id="toc-using-tee-for-output-duplication" class="nav-link" data-scroll-target="#using-tee-for-output-duplication">Using <code>tee</code> for Output Duplication</a></li>
  <li><a href="#combining-commands-with-pipes" id="toc-combining-commands-with-pipes" class="nav-link" data-scroll-target="#combining-commands-with-pipes">Combining Commands with Pipes</a></li>
  <li><a href="#understanding-the-difference-between-pipe-and-redirection" id="toc-understanding-the-difference-between-pipe-and-redirection" class="nav-link" data-scroll-target="#understanding-the-difference-between-pipe-and-redirection">Understanding the Difference Between Pipe (|) and Redirection (&gt;)</a>
  <ul class="collapse">
  <li><a href="#the-pipe-operator" id="toc-the-pipe-operator" class="nav-link" data-scroll-target="#the-pipe-operator">The Pipe Operator (|)</a></li>
  <li><a href="#the-redirection-operator" id="toc-the-redirection-operator" class="nav-link" data-scroll-target="#the-redirection-operator">The Redirection Operator (&gt;)</a></li>
  <li><a href="#key-differences" id="toc-key-differences" class="nav-link" data-scroll-target="#key-differences">Key Differences</a></li>
  <li><a href="#combining-pipes-and-redirection" id="toc-combining-pipes-and-redirection" class="nav-link" data-scroll-target="#combining-pipes-and-redirection">Combining Pipes and Redirection</a></li>
  </ul></li>
  <li><a href="#practical-examples" id="toc-practical-examples" class="nav-link" data-scroll-target="#practical-examples">Practical Examples</a></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your Turn!</a></li>
  <li><a href="#quick-takeaways" id="toc-quick-takeaways" class="nav-link" data-scroll-target="#quick-takeaways">Quick Takeaways</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#faqs" id="toc-faqs" class="nav-link" data-scroll-target="#faqs">FAQs</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Linux is a powerful operating system that offers a wide range of tools for managing files and processes. One of the most essential concepts in Linux is I/O redirection, which allows users to control the flow of data between commands and files. This guide will introduce you to the basics of redirection in Linux, focusing on how to use commands like <code>cat</code>, <code>sort</code>, <code>uniq</code>, <code>grep</code>, <code>wc</code>, <code>head</code>, <code>tail</code>, and <code>tee</code> to manipulate data efficiently.</p>
<section id="introduction-to-redirection" class="level1">
<h1>Introduction to Redirection</h1>
<p>Redirection in Linux allows you to change the standard input/output devices when executing commands. This means you can take input from a file instead of the keyboard and send output to a file instead of the screen. Redirection is a fundamental concept that enhances the flexibility and power of the command line.</p>
</section>
<section id="understanding-standard-input-output-and-error" class="level1">
<h1>Understanding Standard Input, Output, and Error</h1>
<p>In Linux, there are three standard data streams:</p>
<ul>
<li><strong>Standard Input (stdin)</strong>: The default source of input data for commands, usually the keyboard.</li>
<li><strong>Standard Output (stdout)</strong>: The default destination for output data, typically the terminal screen.</li>
<li><strong>Standard Error (stderr)</strong>: The default destination for error messages, also the terminal screen.</li>
</ul>
<p>Redirection allows you to reroute these streams to files or other commands.</p>
</section>
<section id="using-the-cat-command" class="level1">
<h1>Using the <code>cat</code> Command</h1>
<p>The <code>cat</code> command is used to concatenate and display file contents. It can also be used to redirect output to a file. For example:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> file1.txt file2.txt <span class="op">&gt;</span> combined.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command concatenates <code>file1.txt</code> and <code>file2.txt</code> and redirects the output to <code>combined.txt</code>.</p>
</section>
<section id="sorting-data-with-sort" class="level1">
<h1>Sorting Data with <code>sort</code></h1>
<p>The <code>sort</code> command arranges lines of text files in a specified order. It is often used in conjunction with other commands to organize data. For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span> unsorted.txt <span class="op">&gt;</span> sorted.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command sorts the contents of <code>unsorted.txt</code> and saves the result in <code>sorted.txt</code>.</p>
</section>
<section id="removing-duplicates-with-uniq" class="level1">
<h1>Removing Duplicates with <code>uniq</code></h1>
<p>The <code>uniq</code> command filters out repeated lines in a file. It is typically used after <code>sort</code> because it only removes adjacent duplicates:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span> data.txt <span class="kw">|</span> <span class="fu">uniq</span> <span class="op">&gt;</span> unique.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command sorts <code>data.txt</code> and removes duplicate lines, saving the result in <code>unique.txt</code>.</p>
</section>
<section id="searching-with-grep" class="level1">
<h1>Searching with <code>grep</code></h1>
<p>The <code>grep</code> command searches for patterns within files. It is a powerful tool for finding specific text:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="st">"pattern"</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command searches for ‚Äúpattern‚Äù in <code>file.txt</code> and displays matching lines.</p>
</section>
<section id="counting-with-wc" class="level1">
<h1>Counting with <code>wc</code></h1>
<p>The <code>wc</code> (word count) command counts lines, words, and characters in files:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wc</span> <span class="at">-l</span> file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command counts the number of lines in <code>file.txt</code>.</p>
</section>
<section id="viewing-file-contents-with-head-and-tail" class="level1">
<h1>Viewing File Contents with <code>head</code> and <code>tail</code></h1>
<p>The <code>head</code> and <code>tail</code> commands display the beginning and end of files, respectively:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span> <span class="at">-n</span> 10 file.txt</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-n</span> 10 file.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>These commands show the first and last 10 lines of <code>file.txt</code>.</p>
</section>
<section id="using-tee-for-output-duplication" class="level1">
<h1>Using <code>tee</code> for Output Duplication</h1>
<p>The <code>tee</code> command reads from standard input and writes to standard output and files simultaneously:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">command</span> <span class="kw">|</span> <span class="fu">tee</span> output.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command allows you to view the output on the screen and save it to <code>output.txt</code> at the same time.</p>
</section>
<section id="combining-commands-with-pipes" class="level1">
<h1>Combining Commands with Pipes</h1>
<p>Pipes (<code>|</code>) allow you to pass the output of one command as input to another, creating powerful command chains:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> file.txt <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"pattern"</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command searches for ‚Äúpattern‚Äù in <code>file.txt</code>, sorts the results, and removes duplicates.</p>
</section>
<section id="understanding-the-difference-between-pipe-and-redirection" class="level1">
<h1>Understanding the Difference Between Pipe (|) and Redirection (&gt;)</h1>
<p>While both the pipe (<code>|</code>) and redirection (<code>&gt;</code>) operators are used to control data flow in Linux, they serve different purposes and work in distinct ways. Understanding these differences is crucial for effective command-line usage.</p>
<section id="the-pipe-operator" class="level2">
<h2 class="anchored" data-anchor-id="the-pipe-operator">The Pipe Operator (|)</h2>
<p>The pipe operator (<code>|</code>) is used to send the output of one command as input to another command. It allows you to create a ‚Äúpipeline‚Äù of commands, where data flows from left to right through each command in the sequence.</p>
<p>Key characteristics of the pipe operator:</p>
<ul>
<li>Connects two or more commands</li>
<li>Passes data between commands without creating intermediate files</li>
<li>Allows for complex data processing chains</li>
<li>Works with standard input and output</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> file.txt <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"error"</span> <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command chain reads <code>file.txt</code>, searches for lines containing ‚Äúerror‚Äù, and then counts the number of matching lines.</p>
</section>
<section id="the-redirection-operator" class="level2">
<h2 class="anchored" data-anchor-id="the-redirection-operator">The Redirection Operator (&gt;)</h2>
<p>The redirection operator (<code>&gt;</code>) is used to redirect the output of a command to a file instead of the terminal. It allows you to save command output directly to a file.</p>
<p>Key characteristics of the redirection operator:</p>
<ul>
<li>Sends command output to a file</li>
<li>Creates a new file or overwrites an existing file</li>
<li>Does not pass data to another command</li>
<li>Primarily works with standard output (use <code>&gt;&gt;</code> to append)</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-l</span> <span class="op">&gt;</span> file_list.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command saves the output of <code>ls -l</code> to <code>file_list.txt</code> instead of displaying it on the screen.</p>
</section>
<section id="key-differences" class="level2">
<h2 class="anchored" data-anchor-id="key-differences">Key Differences</h2>
<ol type="1">
<li><strong>Data Flow</strong>:
<ul>
<li>Pipe (<code>|</code>): Passes data between commands</li>
<li>Redirection (<code>&gt;</code>): Sends data to a file</li>
</ul></li>
<li><strong>Command Interaction</strong>:
<ul>
<li>Pipe (<code>|</code>): Connects multiple commands</li>
<li>Redirection (<code>&gt;</code>): Typically used with a single command</li>
</ul></li>
<li><strong>File Creation</strong>:
<ul>
<li>Pipe (<code>|</code>): Does not create intermediate files</li>
<li>Redirection (<code>&gt;</code>): Creates or modifies a file</li>
</ul></li>
<li><strong>Use Case</strong>:
<ul>
<li>Pipe (<code>|</code>): Complex data processing and filtering</li>
<li>Redirection (<code>&gt;</code>): Saving command output for later use</li>
</ul></li>
<li><strong>Syntax</strong>:
<ul>
<li>Pipe (<code>|</code>): <code>command1 | command2 | command3</code></li>
<li>Redirection (<code>&gt;</code>): <code>command &gt; output_file</code></li>
</ul></li>
</ol>
</section>
<section id="combining-pipes-and-redirection" class="level2">
<h2 class="anchored" data-anchor-id="combining-pipes-and-redirection">Combining Pipes and Redirection</h2>
<p>You can use both pipes and redirection in the same command line, allowing for powerful data manipulation and storage:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> file.txt <span class="kw">|</span> <span class="fu">grep</span> <span class="st">"error"</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="op">&gt;</span> unique_errors.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command reads <code>file.txt</code>, filters lines containing ‚Äúerror‚Äù, sorts the results, removes duplicates, and finally saves the output to <code>unique_errors.txt</code>.</p>
<p>Understanding the distinctions between pipes and redirection enables you to construct more efficient and effective command-line operations, enhancing your ability to process and manage data in Linux.</p>
</section>
</section>
<section id="practical-examples" class="level1">
<h1>Practical Examples</h1>
<p>Let‚Äôs explore some practical examples of using these commands together:</p>
<ol type="1">
<li><p><strong>Find and Count Unique Words:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> file.txt <span class="kw">|</span> <span class="fu">tr</span> <span class="st">' '</span> <span class="st">'\n'</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="at">-c</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-nr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command breaks text into words, sorts them, counts unique occurrences, and sorts by frequency.</p></li>
<li><p><strong>Extract and Save Log Errors:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="st">"ERROR"</span> logfile.log <span class="kw">|</span> <span class="fu">tee</span> errors.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command extracts lines containing ‚ÄúERROR‚Äù from <code>logfile.log</code> and saves them to <code>errors.txt</code>.</p></li>
</ol>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p>Now it‚Äôs your turn to practice these commands. Try creating a text file with some sample data and use the commands discussed to manipulate the data. Experiment with combining commands using pipes and redirection to see how they can work together to achieve complex tasks.</p>
<p>Here‚Äôs a simple exercise to get you started:</p>
<ol type="1">
<li><p>Create a file named <code>sample.txt</code> with the following content:</p>
<pre><code>apple
banana
cherry
apple
date
banana
elderberry</code></pre></li>
<li><p>Use the commands you‚Äôve learned to:</p>
<ul>
<li>Sort the file</li>
<li>Remove duplicates</li>
<li>Count the number of unique fruits</li>
<li>Display only the first 3 fruits</li>
</ul></li>
</ol>
<p>Try to come up with the command chain that accomplishes all these tasks in one go!</p>
</section>
<section id="quick-takeaways" class="level1">
<h1>Quick Takeaways</h1>
<ul>
<li>Redirection changes the flow of data between commands and files.</li>
<li>Use <code>cat</code> to concatenate files, <code>sort</code> to organize data, and <code>uniq</code> to remove duplicates.</li>
<li><code>grep</code> is essential for searching text, while <code>wc</code> helps count elements.</li>
<li><code>head</code> and <code>tail</code> are useful for viewing file sections, and <code>tee</code> duplicates output.</li>
<li>Pipes connect commands, allowing for complex data processing.</li>
</ul>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Understanding redirection and mastering these basic Linux commands will significantly enhance your ability to work efficiently on the command line. By practicing and experimenting with these tools, you‚Äôll develop a deeper understanding of Linux‚Äôs capabilities and improve your productivity. Remember, the key to becoming proficient with these commands is regular practice and exploration.</p>
</section>
<section id="faqs" class="level1">
<h1>FAQs</h1>
<ol type="1">
<li><p><strong>What is the purpose of redirection in Linux?</strong> Redirection allows you to change the standard input/output sources and destinations, enabling more flexible command execution.</p></li>
<li><p><strong>How does the <code>uniq</code> command work?</strong> <code>uniq</code> removes adjacent duplicate lines from a sorted file. It is often used after <code>sort</code>.</p></li>
<li><p><strong>Can I use <code>grep</code> to search multiple files?</strong> Yes, <code>grep</code> can search multiple files by specifying them as arguments or using wildcards.</p></li>
<li><p><strong>What is the difference between <code>head</code> and <code>tail</code>?</strong> <code>head</code> displays the beginning of a file, while <code>tail</code> shows the end.</p></li>
<li><p><strong>How can I save command output to a file and display it on the screen simultaneously?</strong> Use the <code>tee</code> command to duplicate output to both a file and the screen.</p></li>
</ol>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ol type="1">
<li><a href="https://www.javatpoint.com/linux-io-redirection">Linux I/O Redirection - javatpoint</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection">An Introduction to Linux I/O Redirection | DigitalOcean</a></li>
<li><a href="https://www.redhat.com/sysadmin/uniq-command-lists">How to use the uniq command to process lists in Linux | Enable Sysadmin</a></li>
</ol>
<p>By following this guide, beginner Linux users can gain a solid foundation in using redirection and essential commands to manage and manipulate data effectively. Don‚Äôt hesitate to explore further and deepen your understanding of Linux‚Äôs powerful command-line tools. Remember, practice makes perfect, so keep experimenting with these commands to become more comfortable and proficient in using them.</p>
<hr>
<p>Happy Piping and Redirecting! üöÄ</p>
<hr>
<p>You can connect with me at any one of the below:</p>
<p>Telegram Channel here: <a href="https://t.me/steveondata" class="uri">https://t.me/steveondata</a></p>
<p>LinkedIn Network here: <a href="https://www.linkedin.com/in/spsanderson/" class="uri">https://www.linkedin.com/in/spsanderson/</a></p>
<p>Mastadon Social here: <a href="https://mstdn.social/@stevensanderson">https://mstdn.social/@stevensanderson</a></p>
<p>RStats Network here: <a href="https://rstats.me/@spsanderson">https://rstats.me/@spsanderson</a></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="todays_post.PNG" class="img-fluid figure-img"></p>
<figcaption>Some Linux Penguins</figcaption>
</figure>
</div>
<script src="https://giscus.app/client.js" data-repo="spsanderson/steveondata" data-repo-id="R_kgDOIIxnLw" data-category="Comments" data-category-id="DIC_kwDOIIxnL84ChTk8" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.spsanderson\.com\/steveondata\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>