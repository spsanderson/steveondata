<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steven P. Sanderson II, MPH">
<meta name="dcterms.date" content="2025-04-04">
<meta name="keywords" content="Programming, Linux troubleshooting, Bash scripting, error handling, debugging techniques, system performance, logical errors, syntactic errors, command line tools, shell script debugging, process monitoring, how to troubleshoot Linux scripts, common Bash scripting errors, effective debugging strategies for Linux, troubleshooting network connectivity in Linux, best practices for Linux error handling">
<meta name="description" content="Discover effective troubleshooting techniques for Linux in this comprehensive guide tailored for programmers. Learn to identify and resolve common errors, utilize essential tools, and implement defensive programming practices. Enhance your debugging skills with practical examples and systematic approaches to problem-solving in Linux environments.">

<title>The Ultimate Guide to Troubleshooting in Linux: A Comprehensive Approach – Steve’s Data Tips and Tricks</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-JSJCM62KQJ"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-JSJCM62KQJ', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="The Ultimate Guide to Troubleshooting in Linux: A Comprehensive Approach – Steve’s Data Tips and Tricks">
<meta property="og:description" content="Discover effective troubleshooting techniques for Linux in this comprehensive guide tailored for programmers. Learn to identify and resolve common errors, utilize essential tools, and implement defensive programming practices. Enhance your debugging skills with practical examples and systematic approaches to problem-solving in Linux environments.">
<meta property="og:site_name" content="Steve's Data Tips and Tricks">
<meta name="twitter:title" content="The Ultimate Guide to Troubleshooting in Linux: A Comprehensive Approach – Steve’s Data Tips and Tricks">
<meta name="twitter:description" content="Discover effective troubleshooting techniques for Linux in this comprehensive guide tailored for programmers. Learn to identify and resolve common errors, utilize essential tools, and implement defensive programming practices. Enhance your debugging skills with practical examples and systematic approaches to problem-solving in Linux environments.">
<meta name="twitter:creator" content="@steveondata">
<meta name="twitter:site" content="@steveondata">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Steve’s Data Tips and Tricks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/spsanderson"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://t.me/steveondata"> <i class="bi bi-telegram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="http://feeds.feedburner.com/RBloggers"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-bloggers.com/"> <i class="bi bi-book" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.r-users.com/"> <i class="bi bi-briefcase" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Ultimate Guide to Troubleshooting in Linux: A Comprehensive Approach</h1>
                  <div>
        <div class="description">
          Discover effective troubleshooting techniques for Linux in this comprehensive guide tailored for programmers. Learn to identify and resolve common errors, utilize essential tools, and implement defensive programming practices. Enhance your debugging skills with practical examples and systematic approaches to problem-solving in Linux environments.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">code</div>
                <div class="quarto-category">linux</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Steven P. Sanderson II, MPH </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">April 4, 2025</p>
      </div>
    </div>
    
      
    </div>
    

  <div>
    <div class="keywords">
      <div class="block-title">Keywords</div>
      <p>Programming, Linux troubleshooting, Bash scripting, error handling, debugging techniques, system performance, logical errors, syntactic errors, command line tools, shell script debugging, process monitoring, how to troubleshoot Linux scripts, common Bash scripting errors, effective debugging strategies for Linux, troubleshooting network connectivity in Linux, best practices for Linux error handling</p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#understanding-types-of-errors-in-linux" id="toc-understanding-types-of-errors-in-linux" class="nav-link" data-scroll-target="#understanding-types-of-errors-in-linux">Understanding Types of Errors in Linux</a>
  <ul class="collapse">
  <li><a href="#syntactic-errors" id="toc-syntactic-errors" class="nav-link" data-scroll-target="#syntactic-errors">Syntactic Errors</a></li>
  <li><a href="#logical-errors" id="toc-logical-errors" class="nav-link" data-scroll-target="#logical-errors">Logical Errors</a></li>
  </ul></li>
  <li><a href="#essential-linux-troubleshooting-tools" id="toc-essential-linux-troubleshooting-tools" class="nav-link" data-scroll-target="#essential-linux-troubleshooting-tools">Essential Linux Troubleshooting Tools</a>
  <ul class="collapse">
  <li><a href="#system-logs" id="toc-system-logs" class="nav-link" data-scroll-target="#system-logs">1. System Logs</a></li>
  <li><a href="#process-monitoring" id="toc-process-monitoring" class="nav-link" data-scroll-target="#process-monitoring">2. Process Monitoring</a></li>
  <li><a href="#network-diagnostics" id="toc-network-diagnostics" class="nav-link" data-scroll-target="#network-diagnostics">3. Network Diagnostics</a></li>
  <li><a href="#file-system-tools" id="toc-file-system-tools" class="nav-link" data-scroll-target="#file-system-tools">4. File System Tools</a></li>
  <li><a href="#system-information" id="toc-system-information" class="nav-link" data-scroll-target="#system-information">5. System Information</a></li>
  </ul></li>
  <li><a href="#common-problems-and-solutions" id="toc-common-problems-and-solutions" class="nav-link" data-scroll-target="#common-problems-and-solutions">Common Problems and Solutions</a>
  <ul class="collapse">
  <li><a href="#file-permission-issues" id="toc-file-permission-issues" class="nav-link" data-scroll-target="#file-permission-issues">1. File Permission Issues</a></li>
  <li><a href="#dependency-problems" id="toc-dependency-problems" class="nav-link" data-scroll-target="#dependency-problems">2. Dependency Problems</a></li>
  <li><a href="#disk-space-issues" id="toc-disk-space-issues" class="nav-link" data-scroll-target="#disk-space-issues">3. Disk Space Issues</a></li>
  <li><a href="#memorycpu-usage-problems" id="toc-memorycpu-usage-problems" class="nav-link" data-scroll-target="#memorycpu-usage-problems">4. Memory/CPU Usage Problems</a></li>
  <li><a href="#network-connectivity-issues" id="toc-network-connectivity-issues" class="nav-link" data-scroll-target="#network-connectivity-issues">5. Network Connectivity Issues</a></li>
  </ul></li>
  <li><a href="#defensive-programming-techniques" id="toc-defensive-programming-techniques" class="nav-link" data-scroll-target="#defensive-programming-techniques">Defensive Programming Techniques</a>
  <ul class="collapse">
  <li><a href="#check-command-success" id="toc-check-command-success" class="nav-link" data-scroll-target="#check-command-success">1. Check Command Success</a></li>
  <li><a href="#quote-your-variables" id="toc-quote-your-variables" class="nav-link" data-scroll-target="#quote-your-variables">2. Quote Your Variables</a></li>
  <li><a href="#set-default-values" id="toc-set-default-values" class="nav-link" data-scroll-target="#set-default-values">3. Set Default Values</a></li>
  <li><a href="#validate-input" id="toc-validate-input" class="nav-link" data-scroll-target="#validate-input">4. Validate Input</a></li>
  <li><a href="#use-shell-options" id="toc-use-shell-options" class="nav-link" data-scroll-target="#use-shell-options">5. Use Shell Options</a></li>
  </ul></li>
  <li><a href="#advanced-debugging-techniques" id="toc-advanced-debugging-techniques" class="nav-link" data-scroll-target="#advanced-debugging-techniques">Advanced Debugging Techniques</a>
  <ul class="collapse">
  <li><a href="#tracing-script-execution" id="toc-tracing-script-execution" class="nav-link" data-scroll-target="#tracing-script-execution">1. Tracing Script Execution</a></li>
  <li><a href="#using-debug-print-statements" id="toc-using-debug-print-statements" class="nav-link" data-scroll-target="#using-debug-print-statements">2. Using Debug Print Statements</a></li>
  <li><a href="#using-the-bash-debugger-bashdb" id="toc-using-the-bash-debugger-bashdb" class="nav-link" data-scroll-target="#using-the-bash-debugger-bashdb">3. Using the Bash Debugger (bashdb)</a></li>
  <li><a href="#isolating-problem-areas" id="toc-isolating-problem-areas" class="nav-link" data-scroll-target="#isolating-problem-areas">4. Isolating Problem Areas</a></li>
  <li><a href="#using-external-debugging-tools" id="toc-using-external-debugging-tools" class="nav-link" data-scroll-target="#using-external-debugging-tools">5. Using External Debugging Tools</a></li>
  </ul></li>
  <li><a href="#troubleshooting-system-performance-issues" id="toc-troubleshooting-system-performance-issues" class="nav-link" data-scroll-target="#troubleshooting-system-performance-issues">Troubleshooting System Performance Issues</a>
  <ul class="collapse">
  <li><a href="#identifying-cpu-bottlenecks" id="toc-identifying-cpu-bottlenecks" class="nav-link" data-scroll-target="#identifying-cpu-bottlenecks">1. Identifying CPU Bottlenecks</a></li>
  <li><a href="#diagnosing-memory-issues" id="toc-diagnosing-memory-issues" class="nav-link" data-scroll-target="#diagnosing-memory-issues">2. Diagnosing Memory Issues</a></li>
  <li><a href="#investigating-io-problems" id="toc-investigating-io-problems" class="nav-link" data-scroll-target="#investigating-io-problems">3. Investigating I/O Problems</a></li>
  <li><a href="#profiling-applications" id="toc-profiling-applications" class="nav-link" data-scroll-target="#profiling-applications">4. Profiling Applications</a></li>
  </ul></li>
  <li><a href="#troubleshooting-network-connectivity" id="toc-troubleshooting-network-connectivity" class="nav-link" data-scroll-target="#troubleshooting-network-connectivity">Troubleshooting Network Connectivity</a>
  <ul class="collapse">
  <li><a href="#basic-connectivity-testing" id="toc-basic-connectivity-testing" class="nav-link" data-scroll-target="#basic-connectivity-testing">1. Basic Connectivity Testing</a></li>
  <li><a href="#dns-resolution-issues" id="toc-dns-resolution-issues" class="nav-link" data-scroll-target="#dns-resolution-issues">2. DNS Resolution Issues</a></li>
  <li><a href="#advanced-network-diagnostics" id="toc-advanced-network-diagnostics" class="nav-link" data-scroll-target="#advanced-network-diagnostics">3. Advanced Network Diagnostics</a></li>
  </ul></li>
  <li><a href="#troubleshooting-file-system-issues" id="toc-troubleshooting-file-system-issues" class="nav-link" data-scroll-target="#troubleshooting-file-system-issues">Troubleshooting File System Issues</a>
  <ul class="collapse">
  <li><a href="#checking-disk-space" id="toc-checking-disk-space" class="nav-link" data-scroll-target="#checking-disk-space">1. Checking Disk Space</a></li>
  <li><a href="#verifying-file-system-integrity" id="toc-verifying-file-system-integrity" class="nav-link" data-scroll-target="#verifying-file-system-integrity">2. Verifying File System Integrity</a></li>
  <li><a href="#handling-inode-exhaustion" id="toc-handling-inode-exhaustion" class="nav-link" data-scroll-target="#handling-inode-exhaustion">3. Handling Inode Exhaustion</a></li>
  </ul></li>
  <li><a href="#troubleshooting-shell-scripts" id="toc-troubleshooting-shell-scripts" class="nav-link" data-scroll-target="#troubleshooting-shell-scripts">Troubleshooting Shell Scripts</a>
  <ul class="collapse">
  <li><a href="#detecting-syntax-errors" id="toc-detecting-syntax-errors" class="nav-link" data-scroll-target="#detecting-syntax-errors">1. Detecting Syntax Errors</a></li>
  <li><a href="#tracing-variable-expansion" id="toc-tracing-variable-expansion" class="nav-link" data-scroll-target="#tracing-variable-expansion">2. Tracing Variable Expansion</a></li>
  <li><a href="#handling-special-characters" id="toc-handling-special-characters" class="nav-link" data-scroll-target="#handling-special-characters">3. Handling Special Characters</a></li>
  <li><a href="#testing-functions-in-isolation" id="toc-testing-functions-in-isolation" class="nav-link" data-scroll-target="#testing-functions-in-isolation">4. Testing Functions in Isolation</a></li>
  </ul></li>
  <li><a href="#creating-a-systematic-approach-to-problem-solving" id="toc-creating-a-systematic-approach-to-problem-solving" class="nav-link" data-scroll-target="#creating-a-systematic-approach-to-problem-solving">Creating a Systematic Approach to Problem Solving</a>
  <ul class="collapse">
  <li><a href="#define-the-problem-clearly" id="toc-define-the-problem-clearly" class="nav-link" data-scroll-target="#define-the-problem-clearly">1. Define the Problem Clearly</a></li>
  <li><a href="#gather-information" id="toc-gather-information" class="nav-link" data-scroll-target="#gather-information">2. Gather Information</a></li>
  <li><a href="#form-a-hypothesis" id="toc-form-a-hypothesis" class="nav-link" data-scroll-target="#form-a-hypothesis">3. Form a Hypothesis</a></li>
  <li><a href="#test-the-hypothesis" id="toc-test-the-hypothesis" class="nav-link" data-scroll-target="#test-the-hypothesis">4. Test the Hypothesis</a></li>
  <li><a href="#implement-a-solution" id="toc-implement-a-solution" class="nav-link" data-scroll-target="#implement-a-solution">5. Implement a Solution</a></li>
  <li><a href="#document-the-problem-and-solution" id="toc-document-the-problem-and-solution" class="nav-link" data-scroll-target="#document-the-problem-and-solution">6. Document the Problem and Solution</a></li>
  </ul></li>
  <li><a href="#real-world-troubleshooting-scenarios" id="toc-real-world-troubleshooting-scenarios" class="nav-link" data-scroll-target="#real-world-troubleshooting-scenarios">Real-World Troubleshooting Scenarios</a>
  <ul class="collapse">
  <li><a href="#scenario-1-script-fails-when-run-from-cron" id="toc-scenario-1-script-fails-when-run-from-cron" class="nav-link" data-scroll-target="#scenario-1-script-fails-when-run-from-cron">Scenario 1: Script Fails When Run from Cron</a></li>
  <li><a href="#scenario-2-intermittent-network-connection-drops" id="toc-scenario-2-intermittent-network-connection-drops" class="nav-link" data-scroll-target="#scenario-2-intermittent-network-connection-drops">Scenario 2: Intermittent Network Connection Drops</a></li>
  <li><a href="#scenario-3-disk-space-mysteriously-filling-up" id="toc-scenario-3-disk-space-mysteriously-filling-up" class="nav-link" data-scroll-target="#scenario-3-disk-space-mysteriously-filling-up">Scenario 3: Disk Space Mysteriously Filling Up</a></li>
  </ul></li>
  <li><a href="#your-turn" id="toc-your-turn" class="nav-link" data-scroll-target="#your-turn">Your Turn!</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways">Key Takeaways</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#faqs-about-linux-troubleshooting" id="toc-faqs-about-linux-troubleshooting" class="nav-link" data-scroll-target="#faqs-about-linux-troubleshooting">FAQs About Linux Troubleshooting</a>
  <ul class="collapse">
  <li><a href="#q1-whats-the-first-thing-i-should-do-when-troubleshooting-any-linux-issue" id="toc-q1-whats-the-first-thing-i-should-do-when-troubleshooting-any-linux-issue" class="nav-link" data-scroll-target="#q1-whats-the-first-thing-i-should-do-when-troubleshooting-any-linux-issue">Q1: What’s the first thing I should do when troubleshooting any Linux issue?</a></li>
  <li><a href="#q2-how-can-i-troubleshoot-a-linux-server-remotely-when-i-cant-access-the-gui" id="toc-q2-how-can-i-troubleshoot-a-linux-server-remotely-when-i-cant-access-the-gui" class="nav-link" data-scroll-target="#q2-how-can-i-troubleshoot-a-linux-server-remotely-when-i-cant-access-the-gui">Q2: How can I troubleshoot a Linux server remotely when I can’t access the GUI?</a></li>
  <li><a href="#q3-whats-the-best-way-to-troubleshoot-performance-issues" id="toc-q3-whats-the-best-way-to-troubleshoot-performance-issues" class="nav-link" data-scroll-target="#q3-whats-the-best-way-to-troubleshoot-performance-issues">Q3: What’s the best way to troubleshoot performance issues?</a></li>
  <li><a href="#q4-how-do-i-debug-a-shell-script-that-works-interactively-but-fails-when-run-as-a-cron-job" id="toc-q4-how-do-i-debug-a-shell-script-that-works-interactively-but-fails-when-run-as-a-cron-job" class="nav-link" data-scroll-target="#q4-how-do-i-debug-a-shell-script-that-works-interactively-but-fails-when-run-as-a-cron-job">Q4: How do I debug a shell script that works interactively but fails when run as a cron job?</a></li>
  <li><a href="#q5-what-should-i-do-if-my-system-wont-boot-properly" id="toc-q5-what-should-i-do-if-my-system-wont-boot-properly" class="nav-link" data-scroll-target="#q5-what-should-i-do-if-my-system-wont-boot-properly">Q5: What should I do if my system won’t boot properly?</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a>
  <ul class="collapse">
  <li><a href="#understanding-error-types" id="toc-understanding-error-types" class="nav-link" data-scroll-target="#understanding-error-types">Understanding Error Types</a></li>
  <li><a href="#bash-programming-resources" id="toc-bash-programming-resources" class="nav-link" data-scroll-target="#bash-programming-resources">Bash Programming Resources</a></li>
  <li><a href="#unix-programming-philosophy" id="toc-unix-programming-philosophy" class="nav-link" data-scroll-target="#unix-programming-philosophy">Unix Programming Philosophy</a></li>
  <li><a href="#advanced-debugging-tools" id="toc-advanced-debugging-tools" class="nav-link" data-scroll-target="#advanced-debugging-tools">Advanced Debugging Tools</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><em>As I write this series on Linux troubleshooting, I want to share that I am learning along the way. While I strive for accuracy, there may be mistakes or areas that could be improved. I appreciate your understanding and encourage you to point out any errors or suggestions in the comments. Your feedback will help me grow as a writer and enhance the quality of this resource for everyone. Thank you for your support!</em></p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Linux troubleshooting is both an art and a science. Whether you’re a seasoned Linux programmer or just starting out, knowing how to effectively diagnose and solve problems is a skill that separates novices from experts.</p>
<p>In this comprehensive guide, I hope to cover effective strategies for troubleshooting Linux systems and applications, with a special focus on approaches that are relevant to Linux programmers. We’ll cover everything from understanding basic error types to implementing advanced debugging techniques, all explained with practical examples that work in real-world scenarios.</p>
<p>By the end of this article, I’m betting you’ll have a systematic approach to Linux troubleshooting that you can apply to virtually any problem you encounter. Let’s begin our journey toward becoming more effective Linux troubleshooters!</p>
</section>
<section id="understanding-types-of-errors-in-linux" class="level1">
<h1>Understanding Types of Errors in Linux</h1>
<p>Before we dive into specific troubleshooting techniques, it’s necessary to understand the different types of errors you might encounter in Linux. These broadly fall into two categories: syntactic errors and logical errors.</p>
<section id="syntactic-errors" class="level2">
<h2 class="anchored" data-anchor-id="syntactic-errors">Syntactic Errors</h2>
<p>Syntactic errors occur when you violate the rules of the language or command syntax. These are generally easier to fix because they prevent the program from running at all and usually generate clear error messages.</p>
<p><strong>Common syntactic errors include:</strong></p>
<ol type="1">
<li><strong>Missing or mismatched quotes</strong>: When you forget to close quotes in shell scripts or configuration files.</li>
<li><strong>Missing or unexpected tokens</strong>: Forgetting necessary syntax elements like semicolons, brackets, or keywords.</li>
<li><strong>Incorrect command options or arguments</strong>: Using the wrong flags or providing arguments in an incorrect order.</li>
</ol>
<p><strong>Example 1: Missing Quotes</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A script with a missing quote error</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Hello, world!</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">echo "</span>This is a test.<span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you run this script, you’ll see an error like:</p>
<pre><code>./script.sh: line 5: unexpected EOF while looking for matching `"'
./script.sh: line 6: syntax error: unexpected end of file</code></pre>
<p>The error message tells us that the shell reached the end of the file (EOF) while still looking for a closing quote. Note that the line number reported (line 5) might not be where the actual error is; it’s where the shell realized there was a problem.</p>
<p><strong>Example 2: Missing Token</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A script with a missing semicolon in an if statement</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="va">number</span><span class="op">=</span>1</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$number</span> <span class="ot">=</span> 1 <span class="bu">]</span> <span class="cf">then</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Number equals 1"</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Number does not equal 1"</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will produce:</p>
<pre><code>./script.sh: line 7: syntax error near unexpected token `else'
./script.sh: line 7: `else'</code></pre>
<p>The actual error is the missing semicolon after <code>]</code> on line 4, but the error is reported at the <code>else</code> keyword because that’s where the shell first realizes something is wrong.</p>
</section>
<section id="logical-errors" class="level2">
<h2 class="anchored" data-anchor-id="logical-errors">Logical Errors</h2>
<p>Logical errors are more challenging to identify because they don’t necessarily prevent a program from running. Instead, the program runs but produces incorrect results or behaves unexpectedly.</p>
<p><strong>Common logical errors include:</strong></p>
<ol type="1">
<li><strong>Off-by-one errors</strong>: When counting or iterating, starting or ending at the wrong index.</li>
<li><strong>Incorrect conditional expressions</strong>: Logic that executes the wrong branch under certain conditions.</li>
<li><strong>Unanticipated situations</strong>: Not handling edge cases or unexpected input properly.</li>
<li><strong>Unintended variable expansions</strong>: When variables expand in ways you didn’t anticipate, often involving spaces or special characters.</li>
</ol>
<p><strong>Example 3: Unintended Variable Expansion</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A script demonstrating unintended variable expansion</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="va">filename</span><span class="op">=</span><span class="st">""</span>  <span class="co"># Empty variable</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$filename</span> <span class="ot">=</span> <span class="st">"report.txt"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"The file is report.txt"</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"The file is not report.txt"</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When run, this produces:</p>
<pre><code>./script.sh: line 4: [: =: unary operator expected
The file is not report.txt</code></pre>
<p>The error occurs because when <code>$filename</code> expands to nothing, the if statement becomes <code>if [ = "report.txt" ]</code>, which is invalid syntax. The correct approach is to quote the variable: <code>if [ "$filename" = "report.txt" ]</code>.</p>
<p><strong>Example 4: Incorrect Logic</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A script with incorrect logic</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="va">age</span><span class="op">=</span>17</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$age</span> <span class="er">&gt;</span> 18 <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"You are an adult"</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"You are not an adult"</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You might expect this to print “You are not an adult”, but it will actually print “You are an adult”. This is because <code>&gt;</code> is treated as an output redirection operator, not a comparison operator. The correct syntax would be:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$age</span> <span class="ot">-gt</span> 18 <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Understanding these error types will help you more quickly diagnose issues when they arise.</p>
</section>
</section>
<section id="essential-linux-troubleshooting-tools" class="level1">
<h1>Essential Linux Troubleshooting Tools</h1>
<p>Linux provides a rich set of tools for diagnosing problems. Here are some essential utilities you should be familiar with:</p>
<section id="system-logs" class="level2">
<h2 class="anchored" data-anchor-id="system-logs">1. System Logs</h2>
<p>System logs are your first stop for troubleshooting system-wide issues. Key log files include:</p>
<ul>
<li><strong>/var/log/syslog</strong> or <strong>/var/log/messages</strong>: General system messages</li>
<li><strong>/var/log/kern.log</strong>: Kernel messages</li>
<li><strong>/var/log/auth.log</strong> or <strong>/var/log/secure</strong>: Authentication logs</li>
<li><strong>/var/log/dmesg</strong>: Boot-time hardware detection messages</li>
</ul>
<p>You can view logs using commands like:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the last 50 lines of syslog</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-n</span> 50 /var/log/syslog</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Follow new log entries as they happen</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span> <span class="at">-f</span> /var/log/syslog</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Search for specific errors</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="st">"error"</span> /var/log/syslog</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Example 5: Finding Memory Issues</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-i</span> <span class="st">"out of memory"</span> /var/log/syslog</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This command would show you any instances where a process was killed due to memory exhaustion, which could help explain why applications are terminating unexpectedly.</p>
</section>
<section id="process-monitoring" class="level2">
<h2 class="anchored" data-anchor-id="process-monitoring">2. Process Monitoring</h2>
<p>These tools help you understand what processes are running and their resource usage:</p>
<ul>
<li><strong>ps</strong>: Shows process status</li>
<li><strong>top</strong> or <strong>htop</strong>: Interactive process viewers</li>
<li><strong>lsof</strong>: Lists open files (including sockets)</li>
<li><strong>strace</strong>: Traces system calls and signals</li>
</ul>
<p><strong>Example 6: Finding Memory-Hungry Processes</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort processes by memory usage</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="at">--sort</span><span class="op">=</span>-%mem <span class="kw">|</span> <span class="fu">head</span> <span class="at">-10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This shows the top 10 processes consuming the most memory, which is useful when troubleshooting performance issues.</p>
</section>
<section id="network-diagnostics" class="level2">
<h2 class="anchored" data-anchor-id="network-diagnostics">3. Network Diagnostics</h2>
<p>These tools help diagnose network connectivity issues:</p>
<ul>
<li><strong>ping</strong>: Tests basic connectivity to a host</li>
<li><strong>traceroute</strong> or <strong>tracepath</strong>: Shows the path packets take</li>
<li><strong>netstat</strong> or <strong>ss</strong>: Shows network connections</li>
<li><strong>tcpdump</strong>: Captures and analyzes network traffic</li>
<li><strong>dig</strong> or <strong>nslookup</strong>: DNS query tools</li>
</ul>
<p><strong>Example 7: Testing Connectivity</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test if you can reach Google's DNS</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> <span class="at">-c</span> 4 8.8.8.8</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># If that works but domain names don't, check DNS resolution</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="ex">dig</span> google.com</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This combination of tests can help you determine whether connectivity issues are related to general network problems or specifically to DNS resolution.</p>
</section>
<section id="file-system-tools" class="level2">
<h2 class="anchored" data-anchor-id="file-system-tools">4. File System Tools</h2>
<p>These tools help with file system issues:</p>
<ul>
<li><strong>df</strong>: Shows disk space usage</li>
<li><strong>du</strong>: Shows directory size</li>
<li><strong>fsck</strong>: Checks and repairs file systems</li>
<li><strong>mount</strong>: Shows mounted file systems</li>
<li><strong>lsblk</strong>: Lists block devices</li>
</ul>
<p><strong>Example 8: Finding Disk Space Issues</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show file system usage</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span> <span class="at">-h</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find large directories</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">du</span> <span class="at">-h</span> <span class="at">--max-depth</span><span class="op">=</span>1 /home <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-hr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>These commands help you quickly identify if you’re running out of disk space and which directories are consuming the most space.</p>
</section>
<section id="system-information" class="level2">
<h2 class="anchored" data-anchor-id="system-information">5. System Information</h2>
<p>These tools provide system details:</p>
<ul>
<li><strong>uname</strong>: Shows system information</li>
<li><strong>uptime</strong>: Shows how long the system has been running</li>
<li><strong>dmesg</strong>: Displays kernel messages</li>
<li><strong>/proc</strong> filesystem: Contains runtime system information</li>
<li><strong>lspci</strong>, <strong>lsusb</strong>, <strong>lscpu</strong>: List hardware devices</li>
</ul>
<p><strong>Example 9: Checking System Load</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">uptime</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This shows something like:</p>
<pre><code>15:40:02 up 7 days, 3:42, 2 users, load average: 0.14, 0.05, 0.01</code></pre>
<p>The load averages (0.14, 0.05, 0.01) indicate system load for the last 1, 5, and 15 minutes. Values consistently above your CPU count may indicate performance problems.</p>
</section>
</section>
<section id="common-problems-and-solutions" class="level1">
<h1>Common Problems and Solutions</h1>
<p>Now let’s look at some common Linux problems and their solutions:</p>
<section id="file-permission-issues" class="level2">
<h2 class="anchored" data-anchor-id="file-permission-issues">1. File Permission Issues</h2>
<p><strong>Problem</strong>: You get “Permission denied” errors when trying to run scripts or access files.</p>
<p><strong>Solution</strong>: Check and adjust file permissions:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show file permissions</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-la</span> myfile.sh</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a script executable</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> +x myfile.sh</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Change ownership of a file</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">chown</span> username:groupname myfile.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Example 10: Fixing Script Permissions</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a script</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'#!/bin/bash'</span> <span class="op">&gt;</span> test.sh</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">'echo "Hello, World!"'</span> <span class="op">&gt;&gt;</span> test.sh</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Try to run it (will fail)</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="ex">./test.sh</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Make it executable</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="fu">chmod</span> +x test.sh</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Try again (will work)</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="ex">./test.sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dependency-problems" class="level2">
<h2 class="anchored" data-anchor-id="dependency-problems">2. Dependency Problems</h2>
<p><strong>Problem</strong>: A program won’t start because of missing libraries or dependencies.</p>
<p><strong>Solution</strong>: Install the required packages or libraries.</p>
<p><strong>Example 11: Resolving Library Dependencies</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Try to run a program that has missing dependencies</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">./myprogram</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># You might see: error while loading shared libraries: libsomething.so.2: cannot open shared object file: No such file or directory</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Find what package provides the missing library</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="ex">apt-file</span> search libsomething.so.2   <span class="co"># Debian/Ubuntu</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="ex">dnf</span> provides <span class="pp">*</span>/libsomething.so.2    <span class="co"># Fedora/RHEL</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Install the package</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install package-name       <span class="co"># Debian/Ubuntu</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dnf install package-name       <span class="co"># Fedora/RHEL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="disk-space-issues" class="level2">
<h2 class="anchored" data-anchor-id="disk-space-issues">3. Disk Space Issues</h2>
<p><strong>Problem</strong>: You receive “No space left on device” errors.</p>
<p><strong>Solution</strong>: Free up disk space by identifying and removing or relocating large files.</p>
<p><strong>Example 12: Finding and Cleaning Large Files</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find the largest files in /var</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> find /var <span class="at">-type</span> f <span class="at">-size</span> +100M <span class="at">-exec</span> ls <span class="at">-lh</span> {} <span class="dt">\;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find and delete old log files (older than 30 days)</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> find /var/log <span class="at">-name</span> <span class="st">"*.log"</span> <span class="at">-type</span> f <span class="at">-mtime</span> +30 <span class="at">-delete</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean package caches (Ubuntu/Debian)</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt clean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="memorycpu-usage-problems" class="level2">
<h2 class="anchored" data-anchor-id="memorycpu-usage-problems">4. Memory/CPU Usage Problems</h2>
<p><strong>Problem</strong>: System is slow or unresponsive due to high resource usage.</p>
<p><strong>Solution</strong>: Identify and address the processes consuming excessive resources.</p>
<p><strong>Example 13: Identifying Resource-Hungry Processes</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Monitor processes in real-time</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">top</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find processes using the most CPU</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="at">--sort</span><span class="op">=</span>-%cpu <span class="kw">|</span> <span class="fu">head</span> <span class="at">-10</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># If something is out of control, you might need to kill it</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-15</span> <span class="op">&lt;</span>PID<span class="op">&gt;</span>   <span class="co"># Graceful termination</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-9</span> <span class="op">&lt;</span>PID<span class="op">&gt;</span>    <span class="co"># Forced termination (last resort)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="network-connectivity-issues" class="level2">
<h2 class="anchored" data-anchor-id="network-connectivity-issues">5. Network Connectivity Issues</h2>
<p><strong>Problem</strong>: Can’t connect to a network service or host.</p>
<p><strong>Solution</strong>: Troubleshoot network connectivity step by step.</p>
<p><strong>Example 14: Network Troubleshooting Sequence</strong></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if your network interface is up</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> link</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if you have an IP address</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> addr</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if you can reach your gateway</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> route show</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> <span class="at">-c</span> 4 <span class="va">$(</span><span class="ex">ip</span> route <span class="kw">|</span> <span class="fu">grep</span> default <span class="kw">|</span> <span class="fu">awk</span> <span class="st">'{print $3}'</span><span class="va">)</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if DNS resolution works</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> <span class="at">-c</span> 4 google.com</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co"># If DNS fails but IP works, check /etc/resolv.conf</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /etc/resolv.conf</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if a specific port is open and accessible</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="ex">nc</span> <span class="at">-zv</span> google.com 443</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="defensive-programming-techniques" class="level1">
<h1>Defensive Programming Techniques</h1>
<p>One of the best ways to reduce troubleshooting is to write code that anticipates problems and handles them gracefully. This practice is known as defensive programming.</p>
<section id="check-command-success" class="level2">
<h2 class="anchored" data-anchor-id="check-command-success">1. Check Command Success</h2>
<p>Always check the return status of important commands, especially when one command depends on another.</p>
<p><strong>Example 15: Checking Command Success</strong></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad approach</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /some/directory</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="pp">*</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">cd</span> /some/directory<span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rm</span> <span class="pp">*</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Failed to change directory to /some/directory. Aborting."</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="quote-your-variables" class="level2">
<h2 class="anchored" data-anchor-id="quote-your-variables">2. Quote Your Variables</h2>
<p>Always quote variables unless you have a specific reason not to, especially when they might contain spaces or special characters.</p>
<p><strong>Example 16: Proper Variable Quoting</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad approach</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="va">file_path</span><span class="op">=</span>/path/with <span class="ex">spaces/file.txt</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="va">$file_path</span> /backup/</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Better approach</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="va">file_path</span><span class="op">=</span><span class="st">"/path/with spaces/file.txt"</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="st">"</span><span class="va">$file_path</span><span class="st">"</span> /backup/</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="set-default-values" class="level2">
<h2 class="anchored" data-anchor-id="set-default-values">3. Set Default Values</h2>
<p>Provide default values for variables that might be empty to prevent unexpected behavior.</p>
<p><strong>Example 17: Setting Default Values</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the provided argument or default to "world"</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="va">name</span><span class="op">=</span><span class="va">${1</span><span class="op">:-</span><span class="st">"world"</span><span class="va">}</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Hello, </span><span class="va">$name</span><span class="st">!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="validate-input" class="level2">
<h2 class="anchored" data-anchor-id="validate-input">4. Validate Input</h2>
<p>Always validate input before processing it.</p>
<p><strong>Example 18: Input Validation</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get user age</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="bu">read</span> <span class="at">-p</span> <span class="st">"Enter your age: "</span> <span class="va">age</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Validate input</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">[[</span> <span class="ot">!</span> <span class="st">"</span><span class="va">$age</span><span class="st">"</span> <span class="ot">=~</span> <span class="pp">^</span><span class="op">[</span><span class="ss">0</span><span class="op">-</span><span class="ss">9</span><span class="op">]</span><span class="pp">+</span><span class="op">$</span> <span class="kw">]];</span> <span class="cf">then</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Error: Age must be a number"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">((</span> <span class="va">age</span> <span class="op">&lt;</span> <span class="dv">0</span> <span class="kw">||</span> <span class="va">age</span> <span class="op">&gt;</span> <span class="dv">120</span> <span class="kw">));</span> <span class="cf">then</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Error: Age must be between 0 and 120"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Your age is </span><span class="va">$age</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="use-shell-options" class="level2">
<h2 class="anchored" data-anchor-id="use-shell-options">5. Use Shell Options</h2>
<p>Enable helpful shell options to catch errors early.</p>
<p><strong>Example 19: Helpful Shell Options</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-e</span>  <span class="co"># Exit immediately if a command exits with non-zero status</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-u</span>  <span class="co"># Treat unset variables as an error</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-o</span> pipefail  <span class="co"># Return value of a pipeline is the value of the last command to exit with non-zero status</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Now your script will be much more robust</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="ex">command_that_might_fail</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"This will only execute if the previous command succeeded"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="advanced-debugging-techniques" class="level1">
<h1>Advanced Debugging Techniques</h1>
<p>When basic troubleshooting doesn’t solve the problem, it’s time to use more advanced debugging techniques.</p>
<section id="tracing-script-execution" class="level2">
<h2 class="anchored" data-anchor-id="tracing-script-execution">1. Tracing Script Execution</h2>
<p>Use the <code>set -x</code> option to trace each command as it’s executed, showing you the exact flow and variable expansions.</p>
<p><strong>Example 20: Tracing Script Execution</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Turn on tracing for a specific section</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-x</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="dt">{</span><span class="dv">1</span><span class="dt">..</span><span class="dv">3</span><span class="dt">}</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Iteration </span><span class="va">$i</span><span class="st">"</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> +x  <span class="co"># Turn off tracing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>+ for i in '{1..3}'
+ echo 'Iteration 1'
Iteration 1
+ for i in '{1..3}'
+ echo 'Iteration 2'
Iteration 2
+ for i in '{1..3}'
+ echo 'Iteration 3'
Iteration 3
+ set +x</code></pre>
</section>
<section id="using-debug-print-statements" class="level2">
<h2 class="anchored" data-anchor-id="using-debug-print-statements">2. Using Debug Print Statements</h2>
<p>Strategically place echo statements to print variable values at key points.</p>
<p><strong>Example 21: Debug Print Statements</strong></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span><span class="fu"> calculate</span> <span class="kw">{</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"DEBUG: Input values - a=</span><span class="va">$1</span><span class="st">, b=</span><span class="va">$2</span><span class="st">"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">result</span><span class="op">=</span><span class="va">$(($1</span> <span class="op">*</span> <span class="va">$2))</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"DEBUG: Calculated result=</span><span class="va">$result</span><span class="st">"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="va">$result</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="va">value</span><span class="op">=</span><span class="va">$(</span><span class="ex">calculate</span> 5 7<span class="va">)</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"The final value is </span><span class="va">$value</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Output:</p>
<pre><code>DEBUG: Input values - a=5, b=7
DEBUG: Calculated result=35
The final value is 35</code></pre>
</section>
<section id="using-the-bash-debugger-bashdb" class="level2">
<h2 class="anchored" data-anchor-id="using-the-bash-debugger-bashdb">3. Using the Bash Debugger (bashdb)</h2>
<p>For complex scripts, consider using <code>bashdb</code>, a dedicated debugger for Bash scripts.</p>
<p><strong>Example 22: Installing and Using bashdb</strong></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install bashdb (Ubuntu/Debian)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install bashdb</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Run your script with the debugger</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="ex">bashdb</span> myscript.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Within the debugger, you can: - Set breakpoints at specific lines - Step through execution one line at a time - Examine variable values - Monitor expressions</p>
</section>
<section id="isolating-problem-areas" class="level2">
<h2 class="anchored" data-anchor-id="isolating-problem-areas">4. Isolating Problem Areas</h2>
<p>When debugging large scripts, isolate problems by commenting out sections of code.</p>
<p><strong>Example 23: Isolating Code Sections</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Part 1"</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># First functionality</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="ex">command1</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="ex">command2</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Part 2"</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Comment out the suspected problem area</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="bu">:</span> <span class="st">'</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="st">command3</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="st">command4</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Part 3"</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Last functionality</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="ex">command5</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="ex">command6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-external-debugging-tools" class="level2">
<h2 class="anchored" data-anchor-id="using-external-debugging-tools">5. Using External Debugging Tools</h2>
<p>For complex issues, especially in compiled programs, use external debugging tools.</p>
<p><strong>Example 24: Using strace to Debug System Calls</strong></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trace all system calls made by a command</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="ex">strace</span> ls <span class="at">-l</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Focus on specific system calls (e.g., file operations)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="ex">strace</span> <span class="at">-e</span> trace=open,read,write ls <span class="at">-l</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Attach to a running process</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="ex">strace</span> <span class="at">-p</span> <span class="op">&lt;</span>PID<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="troubleshooting-system-performance-issues" class="level1">
<h1>Troubleshooting System Performance Issues</h1>
<p>Performance issues can be particularly challenging to troubleshoot because they often involve multiple interconnected systems.</p>
<section id="identifying-cpu-bottlenecks" class="level2">
<h2 class="anchored" data-anchor-id="identifying-cpu-bottlenecks">1. Identifying CPU Bottlenecks</h2>
<p><strong>Example 25: CPU Performance Analysis</strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View real-time CPU usage</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="ex">top</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get more detailed CPU statistics</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="ex">mpstat</span> <span class="at">-P</span> ALL 2 5  <span class="co"># Report CPU usage every 2 seconds, 5 times</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Find processes consuming the most CPU</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="at">--sort</span><span class="op">=</span>-%cpu <span class="kw">|</span> <span class="fu">head</span> <span class="at">-10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="diagnosing-memory-issues" class="level2">
<h2 class="anchored" data-anchor-id="diagnosing-memory-issues">2. Diagnosing Memory Issues</h2>
<p><strong>Example 26: Memory Troubleshooting</strong></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View memory usage overview</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">free</span> <span class="at">-h</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Detailed memory information</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /proc/meminfo</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Find processes using the most memory</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="at">--sort</span><span class="op">=</span>-%mem <span class="kw">|</span> <span class="fu">head</span> <span class="at">-10</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for memory leaks in a specific process (requires valgrind)</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="fu">valgrind</span> <span class="at">--leak-check</span><span class="op">=</span>full ./myprogram</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="investigating-io-problems" class="level2">
<h2 class="anchored" data-anchor-id="investigating-io-problems">3. Investigating I/O Problems</h2>
<p><strong>Example 27: I/O Analysis</strong></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check current disk I/O</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="ex">iostat</span> <span class="at">-x</span> 2 5  <span class="co"># Report disk stats every 2 seconds, 5 times</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find processes with the most I/O activity</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="ex">iotop</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if any processes are in D state (uninterruptible sleep, usually I/O)</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="kw">|</span> <span class="fu">grep</span> <span class="st">" D "</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="profiling-applications" class="level2">
<h2 class="anchored" data-anchor-id="profiling-applications">4. Profiling Applications</h2>
<p><strong>Example 28: Application Profiling</strong></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Profile a program's CPU usage (requires perf)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="ex">perf</span> record <span class="at">-g</span> ./myprogram</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">perf</span> report</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Profile memory allocations (requires gprof)</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="fu">gcc</span> <span class="at">-pg</span> <span class="at">-o</span> myprogram myprogram.c</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="ex">./myprogram</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="ex">gprof</span> ./myprogram gmon.out <span class="op">&gt;</span> analysis.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="troubleshooting-network-connectivity" class="level1">
<h1>Troubleshooting Network Connectivity</h1>
<p>Network issues can range from basic connectivity problems to complex routing issues.</p>
<section id="basic-connectivity-testing" class="level2">
<h2 class="anchored" data-anchor-id="basic-connectivity-testing">1. Basic Connectivity Testing</h2>
<p><strong>Example 29: Basic Network Tests</strong></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if network interface is up</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> link show</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for IP address</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> addr show</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Ping a known host</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> <span class="at">-c</span> 4 8.8.8.8</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Check routing table</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> route show</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="dns-resolution-issues" class="level2">
<h2 class="anchored" data-anchor-id="dns-resolution-issues">2. DNS Resolution Issues</h2>
<p><strong>Example 30: DNS Troubleshooting</strong></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if DNS resolution works</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="ex">host</span> google.com</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check which DNS servers are being used</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> /etc/resolv.conf</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Test a specific DNS server</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="ex">dig</span> @8.8.8.8 google.com</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Check DNS lookup times</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="bu">time</span> dig google.com</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="advanced-network-diagnostics" class="level2">
<h2 class="anchored" data-anchor-id="advanced-network-diagnostics">3. Advanced Network Diagnostics</h2>
<p><strong>Example 31: Advanced Network Tools</strong></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Trace the route to a host</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="ex">traceroute</span> google.com</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check listening ports and connections</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="ex">ss</span> <span class="at">-tuln</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Capture packets on a specific interface</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> tcpdump <span class="at">-i</span> eth0 host 192.168.1.1</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Test connectivity to a specific port</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a><span class="ex">nc</span> <span class="at">-zv</span> google.com 443</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="troubleshooting-file-system-issues" class="level1">
<h1>Troubleshooting File System Issues</h1>
<p>File system problems can lead to data corruption, performance issues, or even system failure.</p>
<section id="checking-disk-space" class="level2">
<h2 class="anchored" data-anchor-id="checking-disk-space">1. Checking Disk Space</h2>
<p><strong>Example 32: Disk Space Analysis</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check disk space usage</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span> <span class="at">-h</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find large files</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> /home <span class="at">-type</span> f <span class="at">-size</span> +100M <span class="at">-exec</span> ls <span class="at">-lh</span> {} <span class="dt">\;</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Find largest directories</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">du</span> <span class="at">-h</span> <span class="at">--max-depth</span><span class="op">=</span>1 /var <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-hr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="verifying-file-system-integrity" class="level2">
<h2 class="anchored" data-anchor-id="verifying-file-system-integrity">2. Verifying File System Integrity</h2>
<p><strong>Example 33: File System Checks</strong></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check file system (must be unmounted except for root)</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> fsck /dev/sdb1</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># For root partition, schedule check on next boot</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> touch /forcefsck</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for file system errors in system logs</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-i</span> <span class="st">"filesystem"</span> /var/log/syslog</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="handling-inode-exhaustion" class="level2">
<h2 class="anchored" data-anchor-id="handling-inode-exhaustion">3. Handling Inode Exhaustion</h2>
<p><strong>Example 34: Inode Troubleshooting</strong></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check inode usage</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span> <span class="at">-i</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Find directories with many small files</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> / <span class="at">-xdev</span> <span class="at">-type</span> f <span class="kw">|</span> <span class="fu">cut</span> <span class="at">-d</span> <span class="st">"/"</span> <span class="at">-f</span> 2 <span class="kw">|</span> <span class="fu">sort</span> <span class="kw">|</span> <span class="fu">uniq</span> <span class="at">-c</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-n</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="troubleshooting-shell-scripts" class="level1">
<h1>Troubleshooting Shell Scripts</h1>
<p>Shell scripts often have unique troubleshooting challenges due to their interpreted nature and text processing focus.</p>
<section id="detecting-syntax-errors" class="level2">
<h2 class="anchored" data-anchor-id="detecting-syntax-errors">1. Detecting Syntax Errors</h2>
<p><strong>Example 35: Using shellcheck</strong></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install shellcheck (Ubuntu/Debian)</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install shellcheck</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check a script for potential issues</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="ex">shellcheck</span> myscript.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>shellcheck can identify many common errors and suggest best practices.</p>
</section>
<section id="tracing-variable-expansion" class="level2">
<h2 class="anchored" data-anchor-id="tracing-variable-expansion">2. Tracing Variable Expansion</h2>
<p><strong>Example 36: Tracing Variables</strong></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add verbose debugging for a specific section</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="va">original_value</span><span class="op">=</span><span class="st">"Hello World"</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Before: </span><span class="va">$original_value</span><span class="st">"</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-x</span>  <span class="co"># Turn on tracing</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="va">modified_value</span><span class="op">=</span><span class="va">${original_value</span><span class="op">//</span><span class="ss"> </span><span class="op">/</span><span class="va">}</span>  <span class="co"># Remove spaces</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> +x  <span class="co"># Turn off tracing</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"After: </span><span class="va">$modified_value</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="handling-special-characters" class="level2">
<h2 class="anchored" data-anchor-id="handling-special-characters">3. Handling Special Characters</h2>
<p><strong>Example 37: Dealing with Special Characters</strong></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Print variables with potential special characters to see their exact value</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="va">filename</span><span class="op">=</span><span class="st">"report-2023_04_01.txt"</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Filename raw: </span><span class="va">$filename</span><span class="st">"</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Filename quoted: '</span><span class="va">$filename</span><span class="st">'"</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="bu">printf</span> <span class="st">"Filename printf: %s\n"</span> <span class="st">"</span><span class="va">$filename</span><span class="st">"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="testing-functions-in-isolation" class="level2">
<h2 class="anchored" data-anchor-id="testing-functions-in-isolation">4. Testing Functions in Isolation</h2>
<p><strong>Example 38: Isolating Function Testing</strong></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span><span class="fu"> validate_input</span> <span class="kw">{</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">local</span> <span class="va">input</span><span class="op">=</span><span class="st">"</span><span class="va">$1</span><span class="st">"</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">[[</span> <span class="st">"</span><span class="va">$input</span><span class="st">"</span> <span class="ot">=~</span> <span class="pp">^</span><span class="op">[</span><span class="ss">0</span><span class="op">-</span><span class="ss">9</span><span class="op">]</span><span class="pp">+</span><span class="op">$</span> <span class="kw">]];</span> <span class="cf">then</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span>  <span class="co"># Valid input</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">1</span>  <span class="co"># Invalid input</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">fi</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="kw">}</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Test function directly</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="ex">validate_input</span> <span class="st">"123"</span> <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">"Test 1: Valid"</span> <span class="kw">||</span> <span class="bu">echo</span> <span class="st">"Test 1: Invalid"</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="ex">validate_input</span> <span class="st">"abc"</span> <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">"Test 2: Valid"</span> <span class="kw">||</span> <span class="bu">echo</span> <span class="st">"Test 2: Invalid"</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a><span class="ex">validate_input</span> <span class="st">"123abc"</span> <span class="kw">&amp;&amp;</span> <span class="bu">echo</span> <span class="st">"Test 3: Valid"</span> <span class="kw">||</span> <span class="bu">echo</span> <span class="st">"Test 3: Invalid"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="creating-a-systematic-approach-to-problem-solving" class="level1">
<h1>Creating a Systematic Approach to Problem Solving</h1>
<p>The most effective troubleshooters follow a systematic approach rather than jumping from one potential solution to another randomly.</p>
<section id="define-the-problem-clearly" class="level2">
<h2 class="anchored" data-anchor-id="define-the-problem-clearly">1. Define the Problem Clearly</h2>
<p>Start by clearly defining what’s wrong. “The server is broken” is not specific enough. “The web server returns a 503 error when accessing /api/users” is much more actionable.</p>
</section>
<section id="gather-information" class="level2">
<h2 class="anchored" data-anchor-id="gather-information">2. Gather Information</h2>
<p>Collect relevant data about the problem: - When did it start? - What changed recently? - Is it consistent or intermittent? - What are the exact error messages?</p>
</section>
<section id="form-a-hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="form-a-hypothesis">3. Form a Hypothesis</h2>
<p>Based on the information, form a hypothesis about what might be causing the problem.</p>
</section>
<section id="test-the-hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="test-the-hypothesis">4. Test the Hypothesis</h2>
<p>Devise a test that would confirm or refute your hypothesis. Make only one change at a time.</p>
</section>
<section id="implement-a-solution" class="level2">
<h2 class="anchored" data-anchor-id="implement-a-solution">5. Implement a Solution</h2>
<p>Once you’ve identified the cause, implement and test a solution.</p>
</section>
<section id="document-the-problem-and-solution" class="level2">
<h2 class="anchored" data-anchor-id="document-the-problem-and-solution">6. Document the Problem and Solution</h2>
<p>Document what happened and how you fixed it, so you (or others) can learn from it in the future.</p>
<p><strong>Example 39: Systematic Troubleshooting</strong></p>
<pre><code>Problem: The web application returns 503 errors intermittently.

Gathered Information:
- Started happening after yesterday's deployment
- Error logs show "connection refused" to database
- Database server shows high CPU usage during errors

Hypothesis:
The database server might be overloaded and occasionally rejecting connections.

Test:
Monitor database server load while generating test traffic to the application.

Results:
Confirmed that errors occur when database CPU usage exceeds 90%.

Solution:
1. Optimized the most expensive database query
2. Added connection pooling to reduce connection overhead
3. Implemented retry logic in the application

Documentation:
Created incident report #2023-07 with details and added monitoring alerts for database CPU.</code></pre>
</section>
</section>
<section id="real-world-troubleshooting-scenarios" class="level1">
<h1>Real-World Troubleshooting Scenarios</h1>
<p>Let’s explore some real-world scenarios to practice our troubleshooting skills.</p>
<section id="scenario-1-script-fails-when-run-from-cron" class="level2">
<h2 class="anchored" data-anchor-id="scenario-1-script-fails-when-run-from-cron">Scenario 1: Script Fails When Run from Cron</h2>
<p><strong>Problem</strong>: A backup script works when run manually but fails when executed by cron.</p>
<p><strong>Troubleshooting Steps</strong>:</p>
<ol type="1">
<li><p><strong>Add logging to the script</strong>:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add logging</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="bu">exec</span> <span class="op">&gt;</span> /tmp/backup_log.txt <span class="dv">2</span><span class="op">&gt;&amp;</span><span class="dv">1</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Starting backup at </span><span class="va">$(</span><span class="fu">date</span><span class="va">)</span><span class="st">"</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"PATH=</span><span class="va">$PATH</span><span class="st">"</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Rest of script...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Compare environments</strong>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># When run manually</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">env</span> <span class="op">&gt;</span> /tmp/manual_env.txt</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to crontab</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="ex">*</span> <span class="pp">*</span> <span class="pp">*</span> <span class="pp">*</span> <span class="pp">*</span> env <span class="op">&gt;</span> /tmp/cron_env.txt</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span> /tmp/manual_env.txt /tmp/cron_env.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Solution</strong>: The problem is likely related to PATH differences or missing environment variables. Fix by adding full paths to commands or setting necessary environment variables in the script.</p></li>
</ol>
</section>
<section id="scenario-2-intermittent-network-connection-drops" class="level2">
<h2 class="anchored" data-anchor-id="scenario-2-intermittent-network-connection-drops">Scenario 2: Intermittent Network Connection Drops</h2>
<p><strong>Problem</strong>: A server occasionally loses network connectivity for a few seconds.</p>
<p><strong>Troubleshooting Steps</strong>:</p>
<ol type="1">
<li><p><strong>Monitor network interface statistics</strong>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Run in background to log interface statistics every second</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nohup</span> sh <span class="at">-c</span> <span class="st">'while true; do date &gt;&gt; /tmp/netstat.log; ifconfig eth0 &gt;&gt; /tmp/netstat.log; sleep 1; done'</span> <span class="kw">&amp;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Check for error messages</strong>:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-i</span> eth0 /var/log/syslog</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Monitor link status during the issue</strong>:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Log link status changes</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nohup</span> sh <span class="at">-c</span> <span class="st">'while true; do date &gt;&gt; /tmp/link.log; ethtool eth0 | grep -i link &gt;&gt; /tmp/link.log; sleep 1; done'</span> <span class="kw">&amp;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Solution</strong>: Analysis shows the link briefly goes down. This could be due to:</p>
<ul>
<li>Faulty network cable (try replacing)</li>
<li>Switch port issues (try a different port)</li>
<li>NIC driver issues (try updating the driver)</li>
</ul></li>
</ol>
</section>
<section id="scenario-3-disk-space-mysteriously-filling-up" class="level2">
<h2 class="anchored" data-anchor-id="scenario-3-disk-space-mysteriously-filling-up">Scenario 3: Disk Space Mysteriously Filling Up</h2>
<p><strong>Problem</strong>: A server is rapidly running out of disk space, but no obvious large files are being created.</p>
<p><strong>Troubleshooting Steps</strong>:</p>
<ol type="1">
<li><p><strong>Check for deleted but open files</strong>:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find processes with open deleted files</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lsof</span> <span class="kw">|</span> <span class="fu">grep</span> deleted</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Look for hidden space usage</strong>:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if space is being used by mount points</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span> <span class="at">-h</span> <span class="at">--total</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Look for large directories including hidden ones</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="fu">du</span> <span class="at">-sh</span> .<span class="pp">[</span><span class="ss">!.</span><span class="pp">]*</span> <span class="pp">*</span> <span class="kw">|</span> <span class="fu">sort</span> <span class="at">-hr</span> <span class="kw">|</span> <span class="fu">head</span> <span class="at">-20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Monitor file system changes</strong>:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install inotify tools (Ubuntu/Debian)</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install inotify-tools</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Monitor file creations in /var</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="ex">inotifywait</span> <span class="at">-m</span> <span class="at">-r</span> <span class="at">-e</span> create /var</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p><strong>Solution</strong>: A process is writing large amounts of data to a log file within a deleted directory. Restart the process to release the file handle.</p></li>
</ol>
</section>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p>Let’s practice troubleshooting with a scenario. Imagine you have the following script that isn’t working as expected:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="co"># process_files.sh</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="va">process_directory</span><span class="op">=</span><span class="va">$1</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="va">output_file</span><span class="op">=</span><span class="va">$2</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Processing files in </span><span class="va">$process_directory</span><span class="st"> and saving results to </span><span class="va">$output_file</span><span class="st">"</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="va">$process_directory</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-name</span> <span class="st">"*.txt"</span> <span class="kw">|</span> <span class="cf">while</span> <span class="bu">read</span> <span class="va">file</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">count</span><span class="op">=</span><span class="va">$(</span><span class="fu">wc</span> <span class="at">-l</span> <span class="op">&lt;</span> <span class="va">$file)</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$file</span><span class="st">: </span><span class="va">$count</span><span class="st"> lines"</span> <span class="op">&gt;&gt;</span> <span class="va">$output_file</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Processing complete. Found </span><span class="va">$(</span><span class="fu">wc</span> <span class="at">-l</span> <span class="op">&lt;</span> <span class="va">$output_file)</span><span class="st"> files."</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When you run it with:</p>
<pre><code>./process_files.sh /path/with spaces/ output.txt</code></pre>
<p>It fails with errors. What’s wrong and how would you fix it?</p>
<details>
<summary>
See Solution
</summary>
<p>There are multiple issues with this script:</p>
<ol type="1">
<li><strong>Missing quotes around variable expansions</strong>: This causes problems with spaces in paths</li>
<li><strong>No error checking</strong>: The script doesn’t verify if directories exist or if it can write to the output file</li>
<li><strong>Issue with the final count</strong>: The script doesn’t handle the case where no files are found</li>
</ol>
<p>Here’s a fixed version:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># process_files.sh - Fixed version</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="va">process_directory</span><span class="op">=</span><span class="st">"</span><span class="va">$1</span><span class="st">"</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="va">output_file</span><span class="op">=</span><span class="st">"</span><span class="va">$2</span><span class="st">"</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Validate inputs</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">-z</span> <span class="st">"</span><span class="va">$process_directory</span><span class="st">"</span> <span class="bu">]</span> <span class="kw">||</span> <span class="bu">[</span> <span class="ot">-z</span> <span class="st">"</span><span class="va">$output_file</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Error: Missing arguments"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Usage: </span><span class="va">$0</span><span class="st"> &lt;directory&gt; &lt;output-file&gt;"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if directory exists</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">!</span> <span class="ot">-d</span> <span class="st">"</span><span class="va">$process_directory</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Error: Directory '</span><span class="va">$process_directory</span><span class="st">' not found"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Clear output file and check if we can write to it</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> <span class="st">"</span><span class="va">$output_file</span><span class="st">"</span> <span class="dv">2</span><span class="op">&gt;</span>/dev/null</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="va">$?</span> <span class="ot">-ne</span> 0 <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Error: Cannot write to '</span><span class="va">$output_file</span><span class="st">'"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"Processing files in '</span><span class="va">$process_directory</span><span class="st">' and saving results to '</span><span class="va">$output_file</span><span class="st">'"</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Use proper quoting and error handling</span></span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="ot">! </span><span class="bu">cd</span> <span class="st">"</span><span class="va">$process_directory</span><span class="st">"</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Error: Cannot change to directory '</span><span class="va">$process_directory</span><span class="st">'"</span> <span class="op">&gt;&amp;</span><span class="dv">2</span></span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a>    <span class="bu">exit</span> 1</span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-35"><a href="#cb59-35" aria-hidden="true" tabindex="-1"></a><span class="va">file_count</span><span class="op">=</span>0</span>
<span id="cb59-36"><a href="#cb59-36" aria-hidden="true" tabindex="-1"></a><span class="fu">find</span> . <span class="at">-type</span> f <span class="at">-name</span> <span class="st">"*.txt"</span> <span class="kw">|</span> <span class="cf">while</span> <span class="bu">read</span> <span class="at">-r</span> <span class="va">file</span><span class="kw">;</span> <span class="cf">do</span></span>
<span id="cb59-37"><a href="#cb59-37" aria-hidden="true" tabindex="-1"></a>    <span class="va">count</span><span class="op">=</span><span class="va">$(</span><span class="fu">wc</span> <span class="at">-l</span> <span class="op">&lt;</span> <span class="st">"</span><span class="va">$file</span><span class="st">"</span><span class="va">)</span></span>
<span id="cb59-38"><a href="#cb59-38" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"</span><span class="va">$file</span><span class="st">: </span><span class="va">$count</span><span class="st"> lines"</span> <span class="op">&gt;&gt;</span> <span class="st">"</span><span class="va">$output_file</span><span class="st">"</span></span>
<span id="cb59-39"><a href="#cb59-39" aria-hidden="true" tabindex="-1"></a>    <span class="va">file_count</span><span class="op">=</span><span class="va">$((file_count</span> <span class="op">+</span> <span class="dv">1</span><span class="va">))</span></span>
<span id="cb59-40"><a href="#cb59-40" aria-hidden="true" tabindex="-1"></a><span class="cf">done</span></span>
<span id="cb59-41"><a href="#cb59-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-42"><a href="#cb59-42" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">[</span> <span class="ot">-s</span> <span class="st">"</span><span class="va">$output_file</span><span class="st">"</span> <span class="bu">]</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb59-43"><a href="#cb59-43" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"Processing complete. Found </span><span class="va">$file_count</span><span class="st"> files."</span></span>
<span id="cb59-44"><a href="#cb59-44" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb59-45"><a href="#cb59-45" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">"No matching files found."</span></span>
<span id="cb59-46"><a href="#cb59-46" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The fixed script: 1. Properly quotes all variable expansions 2. Validates inputs and checks for errors 3. Provides meaningful error messages 4. Handles the case where no files are found</p>
</details>
</section>
<section id="key-takeaways" class="level1">
<h1>Key Takeaways</h1>
<ol type="1">
<li><p><strong>Understand Error Types</strong>: Know the difference between syntactic errors and logical errors to guide your troubleshooting approach.</p></li>
<li><p><strong>Use the Right Tools</strong>: Linux provides powerful diagnostic tools - learn them and use them appropriately.</p></li>
<li><p><strong>Follow a Systematic Approach</strong>: Define the problem, gather information, form a hypothesis, test it, implement a solution, and document your findings.</p></li>
<li><p><strong>Practice Defensive Programming</strong>: Prevent problems by writing robust code that validates input, checks for errors, and fails gracefully.</p></li>
<li><p><strong>Master Debugging Techniques</strong>: Use tracing, logging, and isolation to understand exactly what your code is doing.</p></li>
<li><p><strong>Test in Small Steps</strong>: When troubleshooting, change one thing at a time and test the results.</p></li>
<li><p><strong>Document Everything</strong>: Keep track of what you’ve tried and what worked, to build your knowledge for future problems.</p></li>
</ol>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Troubleshooting in Linux is an essential skill that improves with practice and experience. By understanding common error types, mastering the right tools, and following a systematic approach to problem-solving, you can efficiently diagnose and resolve even the most challenging issues.</p>
<p>Remember that effective troubleshooting is both an art and a science. The scientific part involves methodical investigation and the application of technical knowledge. The art comes from experience, intuition, and the ability to see patterns that might not be immediately obvious.</p>
<p>As you continue your Linux journey, embrace problems as learning opportunities. Each issue you solve adds to your troubleshooting toolkit and makes you a more capable Linux professional. With time, you’ll develop an intuition for quickly zeroing in on the root cause of problems and implementing effective solutions.</p>
</section>
<section id="faqs-about-linux-troubleshooting" class="level1">
<h1>FAQs About Linux Troubleshooting</h1>
<section id="q1-whats-the-first-thing-i-should-do-when-troubleshooting-any-linux-issue" class="level2">
<h2 class="anchored" data-anchor-id="q1-whats-the-first-thing-i-should-do-when-troubleshooting-any-linux-issue">Q1: What’s the first thing I should do when troubleshooting any Linux issue?</h2>
<p><strong>A:</strong> Start by checking system logs (particularly <code>/var/log/syslog</code> or <code>/var/log/messages</code>) for error messages related to the problem. Logs often contain valuable clues about what’s going wrong.</p>
</section>
<section id="q2-how-can-i-troubleshoot-a-linux-server-remotely-when-i-cant-access-the-gui" class="level2">
<h2 class="anchored" data-anchor-id="q2-how-can-i-troubleshoot-a-linux-server-remotely-when-i-cant-access-the-gui">Q2: How can I troubleshoot a Linux server remotely when I can’t access the GUI?</h2>
<p><strong>A:</strong> Use command-line tools like <code>top</code>, <code>ps</code>, <code>netstat</code>, <code>df</code>, and log files. SSH tunneling can also help you forward specific ports to run web-based tools if needed.</p>
</section>
<section id="q3-whats-the-best-way-to-troubleshoot-performance-issues" class="level2">
<h2 class="anchored" data-anchor-id="q3-whats-the-best-way-to-troubleshoot-performance-issues">Q3: What’s the best way to troubleshoot performance issues?</h2>
<p><strong>A:</strong> Start with <code>top</code> or <code>htop</code> to identify resource bottlenecks (CPU, memory, I/O). Then use specialized tools like <code>iostat</code> for disk issues, <code>vmstat</code> for memory, or <code>netstat</code> for network problems.</p>
</section>
<section id="q4-how-do-i-debug-a-shell-script-that-works-interactively-but-fails-when-run-as-a-cron-job" class="level2">
<h2 class="anchored" data-anchor-id="q4-how-do-i-debug-a-shell-script-that-works-interactively-but-fails-when-run-as-a-cron-job">Q4: How do I debug a shell script that works interactively but fails when run as a cron job?</h2>
<p><strong>A:</strong> The most common issues are environment variables and paths. Add logging to your script, explicitly set needed environment variables, use absolute paths for commands, and redirect output to a log file for later review.</p>
</section>
<section id="q5-what-should-i-do-if-my-system-wont-boot-properly" class="level2">
<h2 class="anchored" data-anchor-id="q5-what-should-i-do-if-my-system-wont-boot-properly">Q5: What should I do if my system won’t boot properly?</h2>
<p><strong>A:</strong> Boot into recovery mode or from a live USB, check log files like <code>/var/log/boot.log</code> or use <code>journalctl -b -1</code> to see logs from the previous boot attempt. Look for hardware errors with <code>dmesg</code> and verify file system integrity with <code>fsck</code>.</p>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<section id="understanding-error-types" class="level2">
<h2 class="anchored" data-anchor-id="understanding-error-types">Understanding Error Types</h2>
<ul>
<li><a href="http://en.wikipedia.org/wiki/Syntax_error">Syntax Errors - Wikipedia</a></li>
<li><a href="http://en.wikipedia.org/wiki/Logic_error">Logic Errors - Wikipedia</a></li>
</ul>
</section>
<section id="bash-programming-resources" class="level2">
<h2 class="anchored" data-anchor-id="bash-programming-resources">Bash Programming Resources</h2>
<ul>
<li><a href="http://mywiki.wooledge.org/BashPitfalls">Bash Pitfalls</a></li>
<li><a href="http://tldp.org/LDP/abs/html/gotchas.html">Advanced Bash-Scripting Guide: Gotchas</a></li>
<li><a href="http://www.gnu.org/software/bash/manual/html_node/Reserved-Word-Index.html">Bash Manual: Reserved Word Index</a></li>
</ul>
</section>
<section id="unix-programming-philosophy" class="level2">
<h2 class="anchored" data-anchor-id="unix-programming-philosophy">Unix Programming Philosophy</h2>
<ul>
<li><a href="http://www.faqs.org/docs/artu/">The Art of Unix Programming</a></li>
<li><a href="http://www.faqs.org/docs/artu/ch01s06.html">The Art of Unix Programming: The Unix Philosophy</a></li>
</ul>
</section>
<section id="advanced-debugging-tools" class="level2">
<h2 class="anchored" data-anchor-id="advanced-debugging-tools">Advanced Debugging Tools</h2>
<ul>
<li><a href="http://bashdb.sourceforge.net/">Bash Debugger</a></li>
</ul>
<hr>
<p>Happy Coding! 🚀</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="todays_post.png" class="img-fluid figure-img"></p>
<figcaption>Troubleshooting in Linux</figcaption>
</figure>
</div>
<hr>
<p><em>You can connect with me at any one of the below</em>:</p>
<p><em>Telegram Channel here</em>: <a href="https://t.me/steveondata" class="uri">https://t.me/steveondata</a></p>
<p><em>LinkedIn Network here</em>: <a href="https://www.linkedin.com/in/spsanderson/" class="uri">https://www.linkedin.com/in/spsanderson/</a></p>
<p><em>Mastadon Social here</em>: <a href="https://mstdn.social/@stevensanderson">https://mstdn.social/@stevensanderson</a></p>
<p><em>RStats Network here</em>: <a href="https://rstats.me/@spsanderson">https://rstats.me/@spsanderson</a></p>
<p><em>GitHub Network here</em>: <a href="https://github.com/spsanderson" class="uri">https://github.com/spsanderson</a></p>
<p><em>Bluesky Network here</em>: <a href="https://bsky.app/profile/spsanderson.com" class="uri">https://bsky.app/profile/spsanderson.com</a></p>
<p><em>My Book: Extending Excel with Python and R</em> here: <a href="https://packt.link/oTyZJ" class="uri">https://packt.link/oTyZJ</a></p>
<p><em>You.com Referral Link</em>: <a href="https://you.com/join/EHSLDTL6" class="uri">https://you.com/join/EHSLDTL6</a></p>
<hr>
<script src="https://giscus.app/client.js" data-repo="spsanderson/steveondata" data-repo-id="R_kgDOIIxnLw" data-category="Comments" data-category-id="DIC_kwDOIIxnL84ChTk8" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async="">
</script>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.spsanderson\.com\/steveondata\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>