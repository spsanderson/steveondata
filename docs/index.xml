<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Steve&#39;s Data Tips and Tricks</title>
<link>https://www.spsanderson.com/steveondata/</link>
<atom:link href="https://www.spsanderson.com/steveondata/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<generator>quarto-1.4.555</generator>
<lastBuildDate>Fri, 14 Jun 2024 04:00:00 GMT</lastBuildDate>
<item>
  <title>Working with Excel Files in R and Python</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-14/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>If you often work with Excel files and are looking to streamline your data import and export processes, R and Python offer some powerful packages to help you. Here, I’ll introduce you to some essential tools in both R and Python that will make handling Excel files a breeze.</p>
</section>
<section id="r-packages-for-excel-files" class="level1">
<h1>R Packages for Excel Files</h1>
<section id="readxl" class="level2">
<h2 class="anchored" data-anchor-id="readxl"><code>readxl</code></h2>
<p>The <code>readxl</code> package is one of the most straightforward options for reading Excel files into R. It supports both <code>.xls</code> and <code>.xlsx</code> formats and is particularly appreciated for its simplicity and speed.</p>
<p>Here’s a quick example:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the readxl package</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Read the Excel file</span></span>
<span id="cb1-5">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_your_file.xlsx"</span>)</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># View the first few rows of the data</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(data)</span></code></pre></div>
</section>
<section id="openxlsx" class="level2">
<h2 class="anchored" data-anchor-id="openxlsx"><code>openxlsx</code></h2>
<p>If you need to do more than just read Excel files, <code>openxlsx</code> is a fantastic choice. This package allows you to read, write, and format Excel files, providing greater flexibility for data manipulation and presentation.</p>
<p>Example:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the openxlsx package</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(openxlsx)</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Read the Excel file</span></span>
<span id="cb2-5">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.xlsx</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_your_file.xlsx"</span>)</span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Write data to a new Excel file</span></span>
<span id="cb2-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">write.xlsx</span>(data, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_new_file.xlsx"</span>)</span></code></pre></div>
</section>
<section id="xlsx" class="level2">
<h2 class="anchored" data-anchor-id="xlsx"><code>xlsx</code></h2>
<p>The <code>xlsx</code> package is another versatile tool for handling Excel files in R. It supports reading, writing, and formatting Excel files, and works well for both <code>.xls</code> and <code>.xlsx</code> formats.</p>
<p>Example:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the xlsx package</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(xlsx)</span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Read the Excel file</span></span>
<span id="cb3-5">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.xlsx</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_your_file.xlsx"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sheetIndex =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb3-6"></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Write data to a new Excel file</span></span>
<span id="cb3-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">write.xlsx</span>(data, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_new_file.xlsx"</span>)</span></code></pre></div>
</section>
</section>
<section id="python-packages-for-excel-files" class="level1">
<h1>Python Packages for Excel Files</h1>
<section id="pandas" class="level2">
<h2 class="anchored" data-anchor-id="pandas"><code>pandas</code></h2>
<p>The <code>pandas</code> library is a cornerstone of data analysis in Python, and it includes the <code>read_excel()</code> function for reading Excel files. This function is highly versatile and integrates seamlessly with other pandas functionalities.</p>
<p>Example:</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Import the pandas package</span></span>
<span id="cb4-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb4-3"></span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Read the Excel file</span></span>
<span id="cb4-5">data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_excel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_your_file.xlsx"</span>, sheet_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sheet1"</span>)</span>
<span id="cb4-6"></span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Display the first few rows of the data</span></span>
<span id="cb4-8"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(data.head())</span></code></pre></div>
</section>
<section id="openpyxl" class="level2">
<h2 class="anchored" data-anchor-id="openpyxl"><code>openpyxl</code></h2>
<p>For more advanced Excel operations in Python, <code>openpyxl</code> is an excellent choice. It allows you to read and write Excel 2010 xlsx/xlsm/xltx/xltm files and offers extensive formatting capabilities.</p>
<p>Example:</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Import the openpyxl package</span></span>
<span id="cb5-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> openpyxl <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> load_workbook</span>
<span id="cb5-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the workbook</span></span>
<span id="cb5-6">wb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> load_workbook(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"path_to_your_file.xlsx"</span>)</span>
<span id="cb5-7"></span>
<span id="cb5-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Select a sheet by name</span></span>
<span id="cb5-9">sheet <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> wb[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sheet1'</span>]</span>
<span id="cb5-10"></span>
<span id="cb5-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the value of cell A1</span></span>
<span id="cb5-12"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(sheet[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'A1'</span>].value)</span></code></pre></div>
</section>
</section>
<section id="learn-more" class="level1">
<h1>Learn More</h1>
<p>For a deeper dive into working with Excel files using R and Python, check out my book <a href="https://packt.link/oTyZJ"><em>Extending Excel with Python and R</em></a>. It’s packed with practical examples and tips to enhance your data processing workflows.</p>
<hr>
<p>Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>excel</category>
  <category>python</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-14/</guid>
  <pubDate>Fri, 14 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>An Introduction to healthyR</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-13/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This article will introduce you to the <code>healthyR</code> package. <code>healthyR</code> is a package that provides functions for analyzing and visualizing health-related data. It is designed to make it easier for health professionals and researchers to work with health data in R. It is an experimental package that is still under active development, so some functions may change in the future along with the package structure and scope.</p>
<p>Unfortunately, the package needs some love and attention. Which I am trying to give it. Given that information, I will be updating the package to include more functions and improve the existing ones. I will also be updating the documentation and adding more examples to help users get started with the package.</p>
<p>So let’s get started!</p>
</section>
<section id="installation" class="level1">
<h1>Installation</h1>
<p>You can easily install the <code>healthyR</code> package from CRAN or GitHub if you want to live in dev land.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"healthyR"</span>)</span></code></pre></div>
<p>Or alternatively:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># install.packages("devtools")</span></span>
<span id="cb2-2">devtools<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install_github</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"spsanderson/healthyR"</span>)</span></code></pre></div>
</section>
<section id="getting-started" class="level1">
<h1>Getting Started</h1>
<section id="the-goal" class="level2">
<h2 class="anchored" data-anchor-id="the-goal">The Goal</h2>
<p>The ultimate goal really of this package is to provide a set of functions that are easy to understand and follow. The functions should be able to take in data, process it, and output results in a way that is easy to understand and interpret. The package should also provide functions for visualizing the data in a way that is easy to understand and interpret. In healthycare, at least in my experience there are a great many small rural hospitals that do not have the resources to hire a data scientist or a statistician. This package and in fact the entire <code>healthyverse</code> suite are being designed to help those hospitals and other health organizations that may not have the resources to hire a data scientist or statistician.</p>
<p>The only way anyone can improve is if they have their data and can then in turn analyze and interpret that data. This package is designed to help with that in some short way for now.</p>
<p>Let’s go through some examples. To do this we will also load in my <code>healthyR.data</code> package as it comes with a standard dataset that we can use to demonstrate the functions in <code>healthyR</code> and a host of other issues.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># install.packages(healthyR.data)</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(healthyR)</span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(healthyR.data)</span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(DT)</span></code></pre></div>
</div>
<p>Now let’s get a list of all of the functions that are exposed via the <code>healthyR</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Functions and their arguments for healthyR</span></span>
<span id="cb4-2"></span>
<span id="cb4-3">pat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%&gt;%"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">":="</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"as_label"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"as_name"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"enquo"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"enquos"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"expr"</span>,</span>
<span id="cb4-4">         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dx_cc_mapping"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"px_cc_mapping"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sym"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"syms"</span>)</span>
<span id="cb4-5"></span>
<span id="cb4-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fns =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ls.str</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"package:healthyR"</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>fns <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> pat) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">params =</span> purrr<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">map</span>(fns, formalArgs)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb4-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(fns) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb4-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">func_with_params =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">toString</span>(params)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb4-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">func_with_params =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(</span>
<span id="cb4-13">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(</span>
<span id="cb4-14">        func_with_params, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">("</span>), </span>
<span id="cb4-15">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(fns, func_with_params), </span>
<span id="cb4-16">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(fns, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"("</span>, func_with_params, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">")"</span>)</span>
<span id="cb4-17">    )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(fns, func_with_params) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fns =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.factor</span>(fns)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">datatable</span>(</span>
<span id="cb4-21">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#class = 'cell-boarder-stripe',</span></span>
<span id="cb4-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">colnames =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Function"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Full Call"</span>),</span>
<span id="cb4-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">options =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(</span>
<span id="cb4-24">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">autowidth =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>,</span>
<span id="cb4-25">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pageLength =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb4-26">    )</span>
<span id="cb4-27">  )</span></code></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-865eeaa56444eefe3c31" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-865eeaa56444eefe3c31">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],["category_counts_tbl","color_blind","diverging_bar_plt","diverging_lollipop_plt","gartner_magic_chart_plt","hr_scale_color_colorblind","hr_scale_fill_colorblind","los_ra_index_plt","los_ra_index_summary_tbl","named_item_list","opt_bin","save_to_excel","service_line_augment","service_line_vec","sql_left","sql_mid","sql_right","top_n_tbl","ts_alos_plt","ts_census_los_daily_tbl","ts_median_excess_plt","ts_plt","ts_readmit_rate_plt","ts_signature_tbl"],["category_counts_tblc(\".data\", \".count_col\", \".arrange_value\", \"...\")","color_blind(NULL)","diverging_bar_pltc(\".data\", \".x_axis\", \".y_axis\", \".fill_col\", \".plot_title\", \".plot_subtitle\", \".plot_caption\", \".interactive\")","diverging_lollipop_pltc(\".data\", \".x_axis\", \".y_axis\", \".plot_title\", \".plot_subtitle\", \".plot_caption\", \".interactive\")","gartner_magic_chart_pltc(\".data\", \".x_col\", \".y_col\", \".point_size_col\", \".y_lab\", \".x_lab\", \".plt_title\", \".tl_lbl\", \".tr_lbl\", \".br_lbl\", \".bl_lbl\")","hr_scale_color_colorblindc(\"...\", \"theme\")","hr_scale_fill_colorblindc(\"...\", \"theme\")","los_ra_index_plt(.data)","los_ra_index_summary_tblc(\".data\", \".max_los\", \".alos_col\", \".elos_col\", \".readmit_rate\", \".readmit_bench\")","named_item_listc(\".data\", \".group_col\")","opt_binc(\".data\", \".value_col\", \".iters\")","save_to_excelc(\".data\", \".file_name\")","service_line_augmentc(\".data\", \".dx_col\", \".px_col\", \".drg_col\")","service_line_vecc(\".data\", \".dx_col\", \".px_col\", \".drg_col\")","sql_leftc(\".text\", \".num_char\")","sql_midc(\".text\", \".start_num\", \".num_char\")","sql_rightc(\".text\", \".num_char\")","top_n_tblc(\".data\", \".n_records\", \".arrange_value\", \"...\")","ts_alos_pltc(\".data\", \".date_col\", \".value_col\", \".by_grouping\", \".interactive\")","ts_census_los_daily_tblc(\".data\", \".keep_nulls_only\", \".start_date_col\", \".end_date_col\", \".by_time\")","ts_median_excess_pltc(\".data\", \".date_col\", \".value_col\", \".x_axis\", \".ggplot_group_var\", \".years_back\")","ts_pltc(\".data\", \".date_col\", \".value_col\", \".color_col\", \".facet_col\", \".facet_ncol\", \".interactive\")","ts_readmit_rate_pltc(\".data\", \".date_col\", \".value_col\", \".by_grouping\", \".interactive\")","ts_signature_tblc(\".data\", \".date_col\", \".pad_time\", \"...\")"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Function<\/th>\n      <th>Full Call<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"autowidth":true,"pageLength":10,"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"fns","targets":1},{"name":"func_with_params","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>You can see the reference page for all of the available functions here: <a href="https://www.spsanderson.com/healthyR/reference/index.html">healthyR Reference</a></p>
<p>Let’s get started with a first example.</p>
</section>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="example-1-median-excess-lenght-of-stay" class="level2">
<h2 class="anchored" data-anchor-id="example-1-median-excess-lenght-of-stay">Example 1: Median Excess Lenght of Stay</h2>
<p>In this example, we will calculate the median excess length of stay for patients in the <code>inpatient</code> dataset. The excess length of stay is the difference between the actual length of stay and the expected length of stay for a patient. The expected length of stay is calculated based on the patient’s diagnosis-related group (DRG) and other factors.</p>
<p>For providers and hospitals, the excess length of stay is an important metric because it can help identify patients who are at risk of complications or other adverse outcomes. By identifying these patients early, providers can take steps to prevent complications and improve patient outcomes. Afterall, hospitals are full of sick people, as hard as they work to keep environments sterile one must remember that when your at your worst, you go to a hospital, so it is natural that complications can arise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the inpatient dataset</span></span>
<span id="cb5-2">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> healthyR_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(ip_op_flag <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"I"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(visit_id, visit_end_date_time, length_of_stay)  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">visit_end_date =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(</span>
<span id="cb5-6">    visit_end_date_time, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m-%d"</span></span>
<span id="cb5-7">    )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>visit_end_date_time, visit_id, visit_end_date, length_of_stay) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(visit_end_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2012-01-01"</span>,</span>
<span id="cb5-10">         visit_end_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2020-01-01"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(visit_end_date)</span>
<span id="cb5-12"></span>
<span id="cb5-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>(df)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 105,577
Columns: 3
$ visit_id       &lt;chr&gt; "1283065398", "1171004549", "1331016562", "1970894633",…
$ length_of_stay &lt;dbl&gt; 6, 1, 3, 2, 3, 5, 21, 4, 2, 4, 1, 9, 1, 2, 2, 1, 9, 1, …
$ visit_end_date &lt;date&gt; 2012-01-01, 2012-01-01, 2012-01-01, 2012-01-01, 2012-0…</code></pre>
</div>
</div>
<p>Now let’s use the <code>ts_alos_plt()</code> function to see what the average length of stay (ALOS) looks like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ts_alos_plt</span>(</span>
<span id="cb7-2">  df, </span>
<span id="cb7-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.date_col =</span> visit_end_date, </span>
<span id="cb7-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.value_col =</span> length_of_stay, </span>
<span id="cb7-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.by_grouping =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"month"</span>,</span>
<span id="cb7-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.interactive =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb7-7">  )</span></code></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-adf8d80b595dc0facee0" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-adf8d80b595dc0facee0">{"x":{"data":[{"x":[15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15706,15737,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16071,16102,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16436,16467,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17167,17198,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17532,17563,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231],"y":[5.8174545454545452,6.0984682713347924,5.5712418300653592,5.1349862258953172,5.3837288135593218,5.0136887608069163,5.4304902619207525,5.1621438263229305,5.39921568627451,5.9387291981845687,5.9881217520415735,5.7531055900621118,6.1871850251979845,6.3573264781491003,6.3512429831595831,6.0861393891934217,5.834848484848485,5.8884364820846908,6.212538226299694,5.921962992759453,6.0267558528428093,6.2468354430379751,6.2999104744852286,6.8632846087704209,6.4965727341964969,6.1134113411341131,6.3761782347900597,6.150284321689683,5.8003314001657005,6.0565878378378377,5.8974776240846216,6.2817631806395848,6.0070921985815602,6.3234234234234235,6.0832455216016861,6.347975882859604,6.7866894197952217,7.4358178053830226,6.3818938605619149,5.9781312127236577,6.1231079717457115,6.0391425908667289,5.9028871391076114,6.1858407079646014,6.1479736098020732,6.4668483197093547,6.1529051987767582,6.159027128157156,6.5577464788732396,6.58469387755102,6.5955156950672649,6.2016048144433302,6.9076638965835642,6.2490310077519382,6.3991683991683992,6.8972809667673713,6.4462540716612375,6.9769484083424809,6.7909482758620694,7.0699029126213588,7.2341417910447765,6.4232409381663116,6.9935004642525538,5.9188345473465143,6.1037463976945245,6.3396226415094343,6.0982318271119844,5.962550607287449,5.9781529294935449,6.6333002973240829,5.9979570990806943,5.67741935483871,6.4943231441048033,7.1187817258883248,6.2571428571428571,6.5797244094488185,6.3317307692307692,5.975828111011638,5.5780510879848624,6.279807692307692,5.9927623642943306,6.3271665043816938,6.1106427818756588,6.0360262008733621,6.3557978196233895,6.3355119825708064,6.8043704474505722,6.6475770925110131,6.0561914672216437,5.8827433628318584,6.094194961664841,6.031322505800464,6.2968197879858661,6.380065717415115,6.1406976744186048,6.8083427282976325],"text":["date: 2012-01-01<br />.value: 5.817455","date: 2012-02-01<br />.value: 6.098468","date: 2012-03-01<br />.value: 5.571242","date: 2012-04-01<br />.value: 5.134986","date: 2012-05-01<br />.value: 5.383729","date: 2012-06-01<br />.value: 5.013689","date: 2012-07-01<br />.value: 5.430490","date: 2012-08-01<br />.value: 5.162144","date: 2012-09-01<br />.value: 5.399216","date: 2012-10-01<br />.value: 5.938729","date: 2012-11-01<br />.value: 5.988122","date: 2012-12-01<br />.value: 5.753106","date: 2013-01-01<br />.value: 6.187185","date: 2013-02-01<br />.value: 6.357326","date: 2013-03-01<br />.value: 6.351243","date: 2013-04-01<br />.value: 6.086139","date: 2013-05-01<br />.value: 5.834848","date: 2013-06-01<br />.value: 5.888436","date: 2013-07-01<br />.value: 6.212538","date: 2013-08-01<br />.value: 5.921963","date: 2013-09-01<br />.value: 6.026756","date: 2013-10-01<br />.value: 6.246835","date: 2013-11-01<br />.value: 6.299910","date: 2013-12-01<br />.value: 6.863285","date: 2014-01-01<br />.value: 6.496573","date: 2014-02-01<br />.value: 6.113411","date: 2014-03-01<br />.value: 6.376178","date: 2014-04-01<br />.value: 6.150284","date: 2014-05-01<br />.value: 5.800331","date: 2014-06-01<br />.value: 6.056588","date: 2014-07-01<br />.value: 5.897478","date: 2014-08-01<br />.value: 6.281763","date: 2014-09-01<br />.value: 6.007092","date: 2014-10-01<br />.value: 6.323423","date: 2014-11-01<br />.value: 6.083246","date: 2014-12-01<br />.value: 6.347976","date: 2015-01-01<br />.value: 6.786689","date: 2015-02-01<br />.value: 7.435818","date: 2015-03-01<br />.value: 6.381894","date: 2015-04-01<br />.value: 5.978131","date: 2015-05-01<br />.value: 6.123108","date: 2015-06-01<br />.value: 6.039143","date: 2015-07-01<br />.value: 5.902887","date: 2015-08-01<br />.value: 6.185841","date: 2015-09-01<br />.value: 6.147974","date: 2015-10-01<br />.value: 6.466848","date: 2015-11-01<br />.value: 6.152905","date: 2015-12-01<br />.value: 6.159027","date: 2016-01-01<br />.value: 6.557746","date: 2016-02-01<br />.value: 6.584694","date: 2016-03-01<br />.value: 6.595516","date: 2016-04-01<br />.value: 6.201605","date: 2016-05-01<br />.value: 6.907664","date: 2016-06-01<br />.value: 6.249031","date: 2016-07-01<br />.value: 6.399168","date: 2016-08-01<br />.value: 6.897281","date: 2016-09-01<br />.value: 6.446254","date: 2016-10-01<br />.value: 6.976948","date: 2016-11-01<br />.value: 6.790948","date: 2016-12-01<br />.value: 7.069903","date: 2017-01-01<br />.value: 7.234142","date: 2017-02-01<br />.value: 6.423241","date: 2017-03-01<br />.value: 6.993500","date: 2017-04-01<br />.value: 5.918835","date: 2017-05-01<br />.value: 6.103746","date: 2017-06-01<br />.value: 6.339623","date: 2017-07-01<br />.value: 6.098232","date: 2017-08-01<br />.value: 5.962551","date: 2017-09-01<br />.value: 5.978153","date: 2017-10-01<br />.value: 6.633300","date: 2017-11-01<br />.value: 5.997957","date: 2017-12-01<br />.value: 5.677419","date: 2018-01-01<br />.value: 6.494323","date: 2018-02-01<br />.value: 7.118782","date: 2018-03-01<br />.value: 6.257143","date: 2018-04-01<br />.value: 6.579724","date: 2018-05-01<br />.value: 6.331731","date: 2018-06-01<br />.value: 5.975828","date: 2018-07-01<br />.value: 5.578051","date: 2018-08-01<br />.value: 6.279808","date: 2018-09-01<br />.value: 5.992762","date: 2018-10-01<br />.value: 6.327167","date: 2018-11-01<br />.value: 6.110643","date: 2018-12-01<br />.value: 6.036026","date: 2019-01-01<br />.value: 6.355798","date: 2019-02-01<br />.value: 6.335512","date: 2019-03-01<br />.value: 6.804370","date: 2019-04-01<br />.value: 6.647577","date: 2019-05-01<br />.value: 6.056191","date: 2019-06-01<br />.value: 5.882743","date: 2019-07-01<br />.value: 6.094195","date: 2019-08-01<br />.value: 6.031323","date: 2019-09-01<br />.value: 6.296820","date: 2019-10-01<br />.value: 6.380066","date: 2019-11-01<br />.value: 6.140698","date: 2019-12-01<br />.value: 6.808343"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(44,62,80,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[15340,15371,15400,15431,15461,15492,15522,15553,15584,15614,15645,15675,15706,15737,15765,15796,15826,15857,15887,15918,15949,15979,16010,16040,16071,16102,16130,16161,16191,16222,16252,16283,16314,16344,16375,16405,16436,16467,16495,16526,16556,16587,16617,16648,16679,16709,16740,16770,16801,16832,16861,16892,16922,16953,16983,17014,17045,17075,17106,17136,17167,17198,17226,17257,17287,17318,17348,17379,17410,17440,17471,17501,17532,17563,17591,17622,17652,17683,17713,17744,17775,17805,17836,17866,17897,17928,17956,17987,18017,18048,18078,18109,18140,18170,18201,18231],"y":[5.4599252619187668,5.4984703187294848,5.5362808043503424,5.5733270294583095,5.6095793047303424,5.6450079408434117,5.6795832484744766,5.7132755383005023,5.7460551209984523,5.7778923072452901,5.8087574077179793,5.8386207330934852,5.8674453025688749,5.8952531705319284,5.9221032004456813,5.948054255773167,5.9731651999774167,5.9974948965214656,6.0211022088683483,6.044046000481095,6.06638513482274,6.0881784753563188,6.1094848855448625,6.1303632288514054,6.1498839231577316,6.1672695825222128,6.1828073646727626,6.1967844273372963,6.2094879282437256,6.2212050251199686,6.2322228756939344,6.2428286376935409,6.253309468846699,6.2639525268813268,6.2750449695253341,6.2868739545066372,6.2998845254123257,6.3141009236400363,6.3291791036335034,6.3447750198364661,6.3605446266926586,6.3761438786458182,6.3912287301396811,6.4054551356179807,6.418479049524457,6.4299564263028435,6.4395432203968763,6.4468953862502936,6.4529381056683679,6.4587538836833973,6.4642346595796489,6.4692723726413979,6.4737589621529112,6.4775863673984624,6.4806465276623202,6.4828313822287544,6.4840328703820376,6.4841429314064403,6.4830535045862296,6.4806565292056799,6.4763170797907357,6.4697383946542448,6.4613196587608321,6.451460057075125,6.4405587745617447,6.4290149961853205,6.417227906910477,6.4055966917018363,6.3945205355240269,6.3843986233416725,6.375630140119398,6.3686142708218298,6.3623101281572181,6.355480326791219,6.3482293046245655,6.340661499557994,6.332881349492232,6.3249932923280197,6.3171017659660889,6.309311208307169,6.3017260572519991,6.2944507507013103,6.2875897265558347,6.2812474227163086,6.275401023398695,6.2699347180288401,6.26481345232229,6.2600021719946009,6.2554658227613196,6.2511693503380004,6.2470777004401938,6.2431558187834524,6.2393686510833248,6.2356811430553636,6.2320582404151192,6.2284648888781442],"text":["date: 2012-01-01<br />.value_smooth: 5.459925","date: 2012-02-01<br />.value_smooth: 5.498470","date: 2012-03-01<br />.value_smooth: 5.536281","date: 2012-04-01<br />.value_smooth: 5.573327","date: 2012-05-01<br />.value_smooth: 5.609579","date: 2012-06-01<br />.value_smooth: 5.645008","date: 2012-07-01<br />.value_smooth: 5.679583","date: 2012-08-01<br />.value_smooth: 5.713276","date: 2012-09-01<br />.value_smooth: 5.746055","date: 2012-10-01<br />.value_smooth: 5.777892","date: 2012-11-01<br />.value_smooth: 5.808757","date: 2012-12-01<br />.value_smooth: 5.838621","date: 2013-01-01<br />.value_smooth: 5.867445","date: 2013-02-01<br />.value_smooth: 5.895253","date: 2013-03-01<br />.value_smooth: 5.922103","date: 2013-04-01<br />.value_smooth: 5.948054","date: 2013-05-01<br />.value_smooth: 5.973165","date: 2013-06-01<br />.value_smooth: 5.997495","date: 2013-07-01<br />.value_smooth: 6.021102","date: 2013-08-01<br />.value_smooth: 6.044046","date: 2013-09-01<br />.value_smooth: 6.066385","date: 2013-10-01<br />.value_smooth: 6.088178","date: 2013-11-01<br />.value_smooth: 6.109485","date: 2013-12-01<br />.value_smooth: 6.130363","date: 2014-01-01<br />.value_smooth: 6.149884","date: 2014-02-01<br />.value_smooth: 6.167270","date: 2014-03-01<br />.value_smooth: 6.182807","date: 2014-04-01<br />.value_smooth: 6.196784","date: 2014-05-01<br />.value_smooth: 6.209488","date: 2014-06-01<br />.value_smooth: 6.221205","date: 2014-07-01<br />.value_smooth: 6.232223","date: 2014-08-01<br />.value_smooth: 6.242829","date: 2014-09-01<br />.value_smooth: 6.253309","date: 2014-10-01<br />.value_smooth: 6.263953","date: 2014-11-01<br />.value_smooth: 6.275045","date: 2014-12-01<br />.value_smooth: 6.286874","date: 2015-01-01<br />.value_smooth: 6.299885","date: 2015-02-01<br />.value_smooth: 6.314101","date: 2015-03-01<br />.value_smooth: 6.329179","date: 2015-04-01<br />.value_smooth: 6.344775","date: 2015-05-01<br />.value_smooth: 6.360545","date: 2015-06-01<br />.value_smooth: 6.376144","date: 2015-07-01<br />.value_smooth: 6.391229","date: 2015-08-01<br />.value_smooth: 6.405455","date: 2015-09-01<br />.value_smooth: 6.418479","date: 2015-10-01<br />.value_smooth: 6.429956","date: 2015-11-01<br />.value_smooth: 6.439543","date: 2015-12-01<br />.value_smooth: 6.446895","date: 2016-01-01<br />.value_smooth: 6.452938","date: 2016-02-01<br />.value_smooth: 6.458754","date: 2016-03-01<br />.value_smooth: 6.464235","date: 2016-04-01<br />.value_smooth: 6.469272","date: 2016-05-01<br />.value_smooth: 6.473759","date: 2016-06-01<br />.value_smooth: 6.477586","date: 2016-07-01<br />.value_smooth: 6.480647","date: 2016-08-01<br />.value_smooth: 6.482831","date: 2016-09-01<br />.value_smooth: 6.484033","date: 2016-10-01<br />.value_smooth: 6.484143","date: 2016-11-01<br />.value_smooth: 6.483054","date: 2016-12-01<br />.value_smooth: 6.480657","date: 2017-01-01<br />.value_smooth: 6.476317","date: 2017-02-01<br />.value_smooth: 6.469738","date: 2017-03-01<br />.value_smooth: 6.461320","date: 2017-04-01<br />.value_smooth: 6.451460","date: 2017-05-01<br />.value_smooth: 6.440559","date: 2017-06-01<br />.value_smooth: 6.429015","date: 2017-07-01<br />.value_smooth: 6.417228","date: 2017-08-01<br />.value_smooth: 6.405597","date: 2017-09-01<br />.value_smooth: 6.394521","date: 2017-10-01<br />.value_smooth: 6.384399","date: 2017-11-01<br />.value_smooth: 6.375630","date: 2017-12-01<br />.value_smooth: 6.368614","date: 2018-01-01<br />.value_smooth: 6.362310","date: 2018-02-01<br />.value_smooth: 6.355480","date: 2018-03-01<br />.value_smooth: 6.348229","date: 2018-04-01<br />.value_smooth: 6.340661","date: 2018-05-01<br />.value_smooth: 6.332881","date: 2018-06-01<br />.value_smooth: 6.324993","date: 2018-07-01<br />.value_smooth: 6.317102","date: 2018-08-01<br />.value_smooth: 6.309311","date: 2018-09-01<br />.value_smooth: 6.301726","date: 2018-10-01<br />.value_smooth: 6.294451","date: 2018-11-01<br />.value_smooth: 6.287590","date: 2018-12-01<br />.value_smooth: 6.281247","date: 2019-01-01<br />.value_smooth: 6.275401","date: 2019-02-01<br />.value_smooth: 6.269935","date: 2019-03-01<br />.value_smooth: 6.264813","date: 2019-04-01<br />.value_smooth: 6.260002","date: 2019-05-01<br />.value_smooth: 6.255466","date: 2019-06-01<br />.value_smooth: 6.251169","date: 2019-07-01<br />.value_smooth: 6.247078","date: 2019-08-01<br />.value_smooth: 6.243156","date: 2019-09-01<br />.value_smooth: 6.239369","date: 2019-10-01<br />.value_smooth: 6.235681","date: 2019-11-01<br />.value_smooth: 6.232058","date: 2019-12-01<br />.value_smooth: 6.228465"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(51,102,255,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":25.570776255707766,"l":28.493150684931514},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Average Length of Stay Plot","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[15195.450000000001,18375.549999999999],"tickmode":"array","ticktext":["2012","2014","2016","2018","2020"],"tickvals":[15340,16071,16801,17532,18262],"categoryorder":"array","categoryarray":["2012","2014","2016","2018","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[4.8925823085781106,7.5569242576118283],"tickmode":"array","ticktext":["5.0","5.5","6.0","6.5","7.0","7.5"],"tickvals":[5,5.5,6,6.5,7,7.5],"categoryorder":"array","categoryarray":["5.0","5.5","6.0","6.5","7.0","7.5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"5ea446181083":{"x":{},"y":{},"type":"scatter"},"5ea41c9f4b7b":{"x":{},"y":{}}},"cur_data":"5ea446181083","visdat":{"5ea446181083":["function (y) ","x"],"5ea41c9f4b7b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>From here, we see that the alos is increasing over time. So, is this a bad sign? This could be due to a number of factors, such as an increase in the number of patients with complex conditions or an increase in the number of patients with complications. It could also be due to a lack of resources or staff, which can lead to delays in care and longer lengths of stay.</p>
<p>This is why we want to see the median excess length of stay. Let’s calculate that now.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">df_tbl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ts_signature_tbl</span>(df, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.date_col =</span> visit_end_date)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>pad applied on the interval: day</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>(df_tbl)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 105,577
Columns: 31
$ visit_id       &lt;chr&gt; "1283065398", "1171004549", "1331016562", "1970894633",…
$ length_of_stay &lt;dbl&gt; 6, 1, 3, 2, 3, 5, 21, 4, 2, 4, 1, 9, 1, 2, 2, 1, 9, 1, …
$ visit_end_date &lt;date&gt; 2012-01-01, 2012-01-01, 2012-01-01, 2012-01-01, 2012-0…
$ index.num      &lt;dbl&gt; 1325376000, 1325376000, 1325376000, 1325376000, 1325376…
$ diff           &lt;dbl&gt; NA, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86400,…
$ year           &lt;int&gt; 2012, 2012, 2012, 2012, 2012, 2012, 2012, 2012, 2012, 2…
$ year.iso       &lt;int&gt; 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2011, 2…
$ half           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ quarter        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ month.xts      &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ month.lbl      &lt;ord&gt; January, January, January, January, January, January, J…
$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2…
$ hour           &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ minute         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ second         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ hour12         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ am.pm          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ wday           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2…
$ wday.xts       &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1…
$ wday.lbl       &lt;ord&gt; Sunday, Sunday, Sunday, Sunday, Sunday, Sunday, Sunday,…
$ mday           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2…
$ qday           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2…
$ yday           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2…
$ mweek          &lt;int&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 1, 1, 1…
$ week           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ week.iso       &lt;int&gt; 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52, 52,…
$ week2          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ week3          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ week4          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ mday7          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(df_tbl)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "visit_id"       "length_of_stay" "visit_end_date" "index.num"     
 [5] "diff"           "year"           "year.iso"       "half"          
 [9] "quarter"        "month"          "month.xts"      "month.lbl"     
[13] "day"            "hour"           "minute"         "second"        
[17] "hour12"         "am.pm"          "wday"           "wday.xts"      
[21] "wday.lbl"       "mday"           "qday"           "yday"          
[25] "mweek"          "week"           "week.iso"       "week2"         
[29] "week3"          "week4"          "mday7"         </code></pre>
</div>
</div>
<p>Now that we have our table ready for calculation, let’s get it done!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ts_median_excess_plt</span>(</span>
<span id="cb14-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.data =</span> df_tbl, </span>
<span id="cb14-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.date_col =</span> visit_end_date,</span>
<span id="cb14-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.value_col =</span> length_of_stay,</span>
<span id="cb14-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.x_axis =</span> week,</span>
<span id="cb14-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.ggplot_group_var =</span> year,</span>
<span id="cb14-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.years_back =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb14-8">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb14-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Week of the Year"</span>,</span>
<span id="cb14-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Median Excess Length of Stay (Days)"</span>,</span>
<span id="cb14-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Median Excess Length of Stay by Week"</span>,</span>
<span id="cb14-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Data Source: Inpatient Dataset; Red Line Indicates Latest Year"</span></span>
<span id="cb14-14">  )</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.spsanderson.com/steveondata/posts/2024-06-13/index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>So we can see from here that even though the ALOS is increasing, the median excess length of stay is decreasing. This is a good sign as it indicates that the hospital is improving its efficiency and reducing the number of patients who are staying longer than expected.</p>
<p>Let’s move onto another example.</p>
</section>
<section id="example-2-gartner-magic-chart" class="level2">
<h2 class="anchored" data-anchor-id="example-2-gartner-magic-chart">Example 2: Gartner Magic Chart</h2>
<p>In this example, we will create a Gartner Magic Chart to visualize the performance of different hospitals in terms of their length of stay and readmission rates. The Gartner Magic Chart is a popular tool used by healthcare organizations to compare the performance of different hospitals and identify areas for improvement.</p>
<p>We will create a simulated dataset of 100 hospitals to achieve this and we will want it scaled, think of this like taking a look at the performance of the excess alos and excess readmit rates:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>)</span>
<span id="cb15-2">gartner_tbl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb15-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hospital_id =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,</span>
<span id="cb15-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)),</span>
<span id="cb15-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>))</span>
<span id="cb15-6">)</span>
<span id="cb15-7"></span>
<span id="cb15-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(gartner_tbl[,<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         x.V1                y.V1        
 Min.   :-2.6287610   Min.   :-2.012128  
 1st Qu.:-0.6400635   1st Qu.:-0.717236  
 Median :-0.0313860   Median :-0.122321  
 Mean   : 0.0000000   Mean   : 0.000000  
 3rd Qu.: 0.6588549   3rd Qu.: 0.595034  
 Max.   : 2.2972071   Max.   : 3.462909  </code></pre>
</div>
</div>
<p>Now that we have our simulated dataset, let’s create the Gartner Magic Chart. Unfortunately at this point the columns must be named x and y, but this will be updated in the future to pass whatever column you like.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gartner_magic_chart_plt</span>(</span>
<span id="cb17-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.data =</span> gartner_tbl,</span>
<span id="cb17-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.x_col =</span> x,</span>
<span id="cb17-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.y_col =</span> y,</span>
<span id="cb17-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.x_lab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ALOS"</span>,</span>
<span id="cb17-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.y_lab =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ARR"</span>,</span>
<span id="cb17-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.point_size =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb17-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.plt_title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gartner Magic Chart - Scaled Data"</span>,</span>
<span id="cb17-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.tr_lbl =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"High RA-LOS"</span>,</span>
<span id="cb17-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.tl_lbl =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"High RA"</span>,</span>
<span id="cb17-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.bl_lbl =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Leader"</span>,</span>
<span id="cb17-12">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.br_lbl =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"High LOS"</span></span>
<span id="cb17-13">)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.spsanderson.com/steveondata/posts/2024-06-13/index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="example-3-length-of-stay-and-readmit-index-with-variance" class="level2">
<h2 class="anchored" data-anchor-id="example-3-length-of-stay-and-readmit-index-with-variance">Example 3: Length Of Stay and Readmit Index with Variance</h2>
<p>Sometimes we want to see how the variance of the length of stay and readmission rates are changing over the length of stay of a patient visit. This can help us identify trends and patterns that may be affecting the performance of hospitals. What this means is that maybe we would rather have a longer length stay (a variance, longer than expected) if it helps to keep the reamission rate down. A provider/hospital would rather have someone in the hospital longer than see them get readmitted because they were discharged prematurely.</p>
<p>Let’s make our data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">data_tbl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb18-2">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"alos"</span>                 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">186</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>)</span>
<span id="cb18-3">  , <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elos"</span>               <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">186</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">17</span>)</span>
<span id="cb18-4">  , <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"readmit_rate"</span>       <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">186</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>)</span>
<span id="cb18-5">  , <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"readmit_rate_bench"</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">186</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, .<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb18-6">)</span>
<span id="cb18-7"></span>
<span id="cb18-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(data_tbl)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      alos             elos         readmit_rate       readmit_rate_bench
 Min.   : 1.009   Min.   : 1.019   Min.   :0.0009741   Min.   :0.00140   
 1st Qu.: 6.224   1st Qu.: 4.785   1st Qu.:0.0647280   1st Qu.:0.05446   
 Median :10.518   Median : 9.277   Median :0.1273747   Median :0.09597   
 Mean   :10.553   Mean   : 8.979   Mean   :0.1230823   Mean   :0.09830   
 3rd Qu.:15.349   3rd Qu.:13.094   3rd Qu.:0.1853718   3rd Qu.:0.14387   
 Max.   :19.936   Max.   :16.919   Max.   :0.2479363   Max.   :0.19852   </code></pre>
</div>
</div>
<p>Let’s take a look at the data quickly:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1">data_tbl <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb20-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(</span>
<span id="cb20-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(alos, elos, readmit_rate, readmit_rate_bench), </span>
<span id="cb20-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"metric"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"value"</span></span>
<span id="cb20-5">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb20-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">metric_group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(</span>
<span id="cb20-7">    metric <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"alos"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elos"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Length of Stay"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Readmit Rate"</span></span>
<span id="cb20-8">    )</span>
<span id="cb20-9">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb20-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> metric)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> metric_group, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_density</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb20-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Value"</span>,</span>
<span id="cb20-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Density"</span>,</span>
<span id="cb20-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Density Plot of Length of Stay and Readmit Rate"</span>,</span>
<span id="cb20-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Metric"</span></span>
<span id="cb20-19">  )</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.spsanderson.com/steveondata/posts/2024-06-13/index_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Now let’s see how the variance of the length of stay and readmission rates are changing over the length of stay of a patient visit:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">los_ra_index_summary_tbl</span>(</span>
<span id="cb21-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.data =</span> data_tbl</span>
<span id="cb21-3">  , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.max_los       =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span></span>
<span id="cb21-4">  , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.alos_col      =</span> alos</span>
<span id="cb21-5">  , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.elos_col      =</span> elos</span>
<span id="cb21-6">  , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.readmit_rate  =</span> readmit_rate</span>
<span id="cb21-7">  , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.readmit_bench =</span> readmit_rate_bench</span>
<span id="cb21-8">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb21-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">los_ra_index_plt</span>()</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.spsanderson.com/steveondata/posts/2024-06-13/index_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>From here we can see that the variance of the length of stay and readmission rates are decreasing as the length of stay increases. This is a good sign as it indicates that the hospital is able to provide more consistent care to patients with longer stays, which may help to reduce the risk of readmission. Even though resource utilization may increase, the hospital is able to provide better care to patients with longer stays, which may help to reduce the risk of readmission in this example.</p>
</section>
<section id="example-4-service-line-augmentation" class="level2">
<h2 class="anchored" data-anchor-id="example-4-service-line-augmentation">Example 4: Service Line Augmentation</h2>
<p>In this example, we will agument a service line to a patient visit. This can help us create groups of patient visits in a manner that is more managable then say at the DX, DRG or MDC levels. This can help us identify trends and patterns that may be affecting the performance of hospitals.</p>
<p>Let’s see how it works:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb22-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">dx_col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"F10.10"</span>,</span>
<span id="cb22-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">px_col =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>,</span>
<span id="cb22-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">drg_col =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"896"</span></span>
<span id="cb22-5">)</span>
<span id="cb22-6"></span>
<span id="cb22-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">service_line_augment</span>(</span>
<span id="cb22-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.data =</span> df,</span>
<span id="cb22-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.dx_col =</span> dx_col,</span>
<span id="cb22-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.px_col =</span> px_col,</span>
<span id="cb22-11">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.drg_col =</span> drg_col</span>
<span id="cb22-12">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  dx_col px_col drg_col service_line 
  &lt;chr&gt;  &lt;lgl&gt;  &lt;chr&gt;   &lt;chr&gt;        
1 F10.10 NA     896     alcohol_abuse</code></pre>
</div>
</div>
<p>We see here that a patient discharged with a diagnosis of F10.10 and DRG 896 would be classified as a patient visit for the service line of “alcohol_abuse”. A term that is more generic then F10.10 which is “Alcohol Abuse, uncomplicated”. This can help us identify trends and patterns that may be affecting the performance of hospitals.</p>


</section>
</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>healthyr</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-13/</guid>
  <pubDate>Thu, 13 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>VBA Code to Check if a Sheet Exists</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-12/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>In today’s post we are going to go over VBA code to check if a sheet exists and then we are going to call that function from R using the <code>RDCOMClient</code> package. This can be useful when you need to perform certain actions based on the existence of a sheet in an Excel workbook.</p>
<p>Let’s break this down step by step. We’ll start by writing a VBA function to check if a sheet exists, then we’ll show how to call this function from R using the <code>RDCOMClient</code> package.</p>
</section>
<section id="code-and-examples" class="level1">
<h1>Code and Examples</h1>
<section id="vba-code-to-check-if-a-sheet-exists" class="level2">
<h2 class="anchored" data-anchor-id="vba-code-to-check-if-a-sheet-exists">VBA Code to Check if a Sheet Exists</h2>
<section id="vba-function" class="level3">
<h3 class="anchored" data-anchor-id="vba-function">VBA Function</h3>
<p>First, let’s create a simple VBA function to check if a sheet exists in the workbook.</p>
<pre class="vba"><code>Function SheetExists(sheetName As String) As Boolean
    Dim ws As Worksheet
    SheetExists = False
    For Each ws In ThisWorkbook.Sheets
        If ws.Name = sheetName Then
            SheetExists = True
            Exit Function
        End If
    Next ws
End Function</code></pre>
<p>Let’s see it in action:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.spsanderson.com/steveondata/posts/2024-06-12/Capture.PNG" class="img-fluid figure-img"></p>
<figcaption>Using VBA Function to Check if a Sheet Exists</figcaption>
</figure>
</div>
<section id="explanation" class="level4">
<h4 class="anchored" data-anchor-id="explanation">Explanation:</h4>
<ul>
<li>Function SheetExists(sheetName As String) As Boolean: Defines a function named SheetExists that takes a sheet name as a string and returns a boolean.</li>
<li>Dim ws As Worksheet: Declares a variable ws as a worksheet.</li>
<li>SheetExists = False: Initializes the function to return False by default.</li>
<li>For Each ws In ThisWorkbook.Sheets: Loops through each worksheet in the workbook.</li>
<li>If ws.Name = sheetName Then: Checks if the current worksheet’s name matches the provided sheet name.</li>
<li>SheetExists = True: Sets the function to return True if a match is found.</li>
<li>Exit Function: Exits the function as soon as a match is found.</li>
<li>Next ws: Continues to the next worksheet.</li>
</ul>
<p>This VBA function <code>SheetExists</code> takes a sheet name as an argument and returns <code>True</code> if the sheet exists, and <code>False</code> otherwise.</p>
</section>
</section>
</section>
<section id="r-code-to-execute-the-vba-macro-and-return-a-boolean-value" class="level2">
<h2 class="anchored" data-anchor-id="r-code-to-execute-the-vba-macro-and-return-a-boolean-value">R Code to Execute the VBA Macro and Return a Boolean Value</h2>
<p>To run this VBA macro from R, you can use the <code>RDCOMClient</code> package. Here’s how you can do it:</p>
<ol type="1">
<li><strong>First, you’ll need to create an Excel workbook with the VBA macro.</strong></li>
<li><strong>Then, use the following R code to execute the macro.</strong></li>
</ol>
<section id="r-code-using-rdcomclient-to-execute-the-vba-macro" class="level3">
<h3 class="anchored" data-anchor-id="r-code-using-rdcomclient-to-execute-the-vba-macro">R Code using RDCOMClient to Execute the VBA Macro</h3>
<p>First you need to install the package which can be slightly cumbersome:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install RDCOMClient if not already installed</span></span>
<span id="cb2-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> (<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">requireNamespace</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RDCOMClient"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">quietly =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) {</span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RDCOMClient"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repos =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"http://www.omegahat.net/R"</span>)</span>
<span id="cb2-4">}</span></code></pre></div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load RDCOMClient package</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(RDCOMClient)</span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a connection to Excel</span></span>
<span id="cb3-5">excel_app <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">COMCreate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Excel.Application"</span>)</span>
<span id="cb3-6"></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Open your workbook</span></span>
<span id="cb3-8">wb_path <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:/Users/ssanders/Documents/GitHub/steveondata/posts/2024-06-12/sheet_exists.xlsm"</span></span>
<span id="cb3-9">workbook <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> excel_app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Workbooks</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Open</span>(wb_path)</span>
<span id="cb3-10"></span>
<span id="cb3-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ensure Excel is visible (optional)</span></span>
<span id="cb3-12">excel_app[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Visible"</span>]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb3-13"></span>
<span id="cb3-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Run the VBA function and get the result</span></span>
<span id="cb3-15">sheet_name <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sheet1"</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Replace with the sheet name you want to check</span></span>
<span id="cb3-16">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> excel_app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Run</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SheetExists"</span>, sheet_name)</span>
<span id="cb3-17"></span>
<span id="cb3-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Close the workbook without saving</span></span>
<span id="cb3-19">workbook<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Close</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Quit the Excel application</span></span>
<span id="cb5-2">excel_app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Quit</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Release the COM objects</span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(excel_app, workbook)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Output the result</span></span>
<span id="cb7-5">result</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Replace <code>wb_path</code> with the actual path to your Excel file containing the VBA macro.</p>
<section id="explanation-1" class="level4">
<h4 class="anchored" data-anchor-id="explanation-1">Explanation:</h4>
<ul>
<li>RDCOMClient::COMCreate(“Excel.Application”): Creates a COM object for Excel.</li>
<li>excel_app[[“Visible”]] &lt;- TRUE: Makes Excel visible (optional, can be removed).</li>
<li>excel_app[[“Workbooks”]]$Open(“C:\path\to\your\workbook.xlsx”): Opens the specified workbook. Adjust the path as needed.</li>
<li>excel_app$Run(“SheetExists”, sheet_name): Runs the SheetExists VBA function with the provided sheet name and stores the result.</li>
<li>workbook$Close(FALSE): Closes the workbook without saving changes.</li>
<li>excel_app$Quit(): Quits the Excel application.</li>
<li>excel_app &lt;- NULL: Releases the COM object resources.</li>
</ul>
</section>
</section>
<section id="r-code-using-rdcomclient-to-achieve-the-same-goal-without-vba" class="level3">
<h3 class="anchored" data-anchor-id="r-code-using-rdcomclient-to-achieve-the-same-goal-without-vba">R Code using RDCOMClient to Achieve the Same Goal Without VBA</h3>
<p>If you prefer to check if a sheet exists directly using R without invoking VBA, you can do it with the <code>RDCOMClient</code> package as well:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load RDCOMClient package</span></span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(RDCOMClient)</span>
<span id="cb9-3"></span>
<span id="cb9-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a connection to Excel</span></span>
<span id="cb9-5">excel_app <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">COMCreate</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Excel.Application"</span>)</span>
<span id="cb9-6"></span>
<span id="cb9-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Open your workbook</span></span>
<span id="cb9-8">wb_path <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:/Users/ssanders/Documents/GitHub/steveondata/posts/2024-06-12/sheet_exists.xlsm"</span></span>
<span id="cb9-9">workbook <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> excel_app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Workbooks</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Open</span>(wb_path)</span>
<span id="cb9-10"></span>
<span id="cb9-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ensure Excel is visible (optional)</span></span>
<span id="cb9-12">excel_app[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Visible"</span>]] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span></span>
<span id="cb9-13"></span>
<span id="cb9-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Function to check if a sheet exists</span></span>
<span id="cb9-15">sheet_exists <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(workbook, sheet_name) {</span>
<span id="cb9-16">  sheets <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> workbook<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Sheets</span>()</span>
<span id="cb9-17">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>sheets<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Count</span>()) {</span>
<span id="cb9-18">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> (sheets<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Item</span>(i)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Name</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> sheet_name) {</span>
<span id="cb9-19">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb9-20">    }</span>
<span id="cb9-21">  }</span>
<span id="cb9-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb9-23">}</span>
<span id="cb9-24"></span>
<span id="cb9-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if the sheet exists</span></span>
<span id="cb9-26">sheet_name <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sheet1"</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Replace with the sheet name you want to check</span></span>
<span id="cb9-27">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sheet_exists</span>(workbook, sheet_name)</span>
<span id="cb9-28"></span>
<span id="cb9-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Close the workbook without saving</span></span>
<span id="cb9-30">workbook<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Close</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Quit the Excel application</span></span>
<span id="cb11-2">excel_app<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Quit</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Release the COM objects</span></span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span>(excel_app, workbook)</span>
<span id="cb13-3"></span>
<span id="cb13-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Output the result</span></span>
<span id="cb13-5">result</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>In this code, we directly check the existence of a sheet using the <code>RDCOMClient</code> package without invoking a VBA macro.</p>
<section id="explanation-2" class="level4">
<h4 class="anchored" data-anchor-id="explanation-2">Explanation:</h4>
<ul>
<li>Similar steps to the previous R code, but instead of running a VBA macro, it directly interacts with the Excel object model.</li>
<li>Loops through the sheets in the workbook to check if the specified sheet exists.</li>
</ul>
</section>
</section>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<ul>
<li>The VBA code checks if a sheet exists in an Excel workbook.</li>
<li>The first R code executes the VBA macro using the <code>RDCOMClient</code> package.</li>
<li>The second R code achieves the same goal directly using the <code>RDCOMClient</code> package without invoking VBA.</li>
</ul>
<p>I encourage you to try these code snippets on your own to get hands-on experience. Experiment with different sheet names and see how the functions behave. Understanding how to automate tasks with VBA and R can greatly enhance your productivity and open up new possibilities for your data analysis workflows.</p>
</section>
<section id="bonus" class="level1">
<h1>Bonus</h1>
<p>As an added bonus I have included the VBA Enabled Excel file that contains the VBA code to check if a sheet exists. You can download the file from the link below:</p>
<p><a href="sheet_exists.xlsm">Workbook Here!</a></p>
<p>Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>vba</category>
  <category>excel</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-12/</guid>
  <pubDate>Wed, 12 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Extracting Numbers from Strings in R</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-11/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hello! Today, we’ll jump into something I think is a pretty neat task in data processing: extracting numbers from strings. We’ll explore three different methods using base R, the <code>stringr</code> package, and the <code>stringi</code> package. Each method has its own strengths, so let’s get started!</p>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="extracting-numbers-with-base-r" class="level2">
<h2 class="anchored" data-anchor-id="extracting-numbers-with-base-r">Extracting Numbers with Base R</h2>
<p>Base R provides powerful tools to manipulate strings, and you can use regular expressions to extract numbers. Here’s a simple example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sample string</span></span>
<span id="cb1-2">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The price is 45 dollars and 50 cents."</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract numbers using regular expressions</span></span>
<span id="cb1-5">numbers <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"[0-9]+"</span>, text)</span>
<span id="cb1-6">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">regmatches</span>(text, numbers)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to numeric</span></span>
<span id="cb1-9">numeric_result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unlist</span>(result))</span>
<span id="cb1-10"></span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(numeric_result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45 50</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ol type="1">
<li><code>gregexpr("[0-9]+", text)</code> finds all sequences of digits in the text.</li>
<li><code>regmatches(text, numbers)</code> extracts these sequences from the text.</li>
<li><code>unlist(result)</code> flattens the list of matches.</li>
<li><code>as.numeric()</code> converts the character strings to numeric values.</li>
</ol>
</section>
<section id="extracting-numbers-with-stringr" class="level2">
<h2 class="anchored" data-anchor-id="extracting-numbers-with-stringr">Extracting Numbers with <code>stringr</code></h2>
<p>The <code>stringr</code> package offers a more user-friendly approach to string manipulation. Here’s how you can extract numbers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sample string</span></span>
<span id="cb3-4">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The price is 45 dollars and 50 cents."</span></span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract numbers using stringr</span></span>
<span id="cb3-7">numbers <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_extract_all</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+"</span>)</span>
<span id="cb3-8"></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to numeric</span></span>
<span id="cb3-10">numeric_result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unlist</span>(numbers))</span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(numeric_result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45 50</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ol type="1">
<li><code>str_extract_all(text, "\\d+")</code> extracts all sequences of digits from the text. <code>\\d+</code> is a regular expression that matches one or more digits.</li>
<li><code>unlist(numbers)</code> and <code>as.numeric()</code> convert the result to numeric, as explained in the base R method.</li>
</ol>
</section>
<section id="extracting-numbers-with-stringi" class="level2">
<h2 class="anchored" data-anchor-id="extracting-numbers-with-stringi">Extracting Numbers with <code>stringi</code></h2>
<p>The <code>stringi</code> package is another excellent tool for string manipulation, providing robust and efficient functions. Here’s an example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringi)</span>
<span id="cb5-2"></span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Sample string</span></span>
<span id="cb5-4">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The price is 45 dollars and 50 cents."</span></span>
<span id="cb5-5"></span>
<span id="cb5-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract numbers using stringi</span></span>
<span id="cb5-7">numbers <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_extract_all_regex</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+"</span>)</span>
<span id="cb5-8"></span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to numeric</span></span>
<span id="cb5-10">numeric_result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unlist</span>(numbers))</span>
<span id="cb5-11"></span>
<span id="cb5-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(numeric_result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 45 50</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ol type="1">
<li><code>stri_extract_all_regex(text, "\\d+")</code> extracts all sequences of digits from the text using regular expressions.</li>
<li>As before, <code>unlist(numbers)</code> and <code>as.numeric()</code> are used to convert the result to numeric values.</li>
</ol>
</section>
</section>
<section id="comparison-and-conclusion" class="level1">
<h1>Comparison and Conclusion</h1>
<ul>
<li><strong>Base R</strong> is flexible and does not require additional packages, but the syntax can be a bit cumbersome.</li>
<li><strong>stringr</strong> simplifies the process with intuitive functions, making the code easier to read and write.</li>
<li><strong>stringi</strong> offers powerful and efficient string operations, suitable for performance-critical tasks.</li>
</ul>
</section>
<section id="try-it-yourself" class="level1">
<h1>Try It Yourself!</h1>
<p>I encourage you to try these methods on your own data. Extracting numbers from strings is a useful skill, especially when working with messy data. Experiment with different strings and see which method you prefer. Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <category>strings</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-11/</guid>
  <pubDate>Tue, 11 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Introduction to My Content Series</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-10/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<hr>
<p>Hello Everyone,</p>
<p>I’m excited to kick off a new content series dedicated to reviewing and exploring the R packages I’ve developed. Over the coming weeks, I’ll be diving into the details, features, and practical applications of each package, providing you with a comprehensive understanding of how they can enhance your data analysis and machine learning projects.</p>
</section>
<section id="what-to-expect" class="level1">
<h1>What to Expect</h1>
<p>Each Monday, I’ll introduce a new package from my suite of R tools. You’ll get an overview of the package’s purpose, its key functions, and the problems it aims to solve. Throughout the week, I’ll provide detailed insights and examples to help you get the most out of these tools.</p>
</section>
<section id="why-this-series" class="level1">
<h1>Why This Series?</h1>
<p>The goal of this series is to share the knowledge and utility of the packages I’ve created, helping you streamline your data workflows, improve your analytical capabilities, and leverage advanced techniques with ease. Whether you’re a seasoned data scientist or just getting started, there’s something here for everyone.</p>
</section>
<section id="overview-of-the-packages" class="level1">
<h1>Overview of the Packages</h1>
<ul>
<li><strong><a href="https://www.spsanderson.com/healthyR/">healthyR</a></strong>: Designed to simplify health analytics, this package offers a range of functions for common tasks in healthcare data analysis.</li>
<li><strong><a href="https://www.spsanderson.com/healthyR.data/">healthyR.data</a></strong>: A companion to healthyR, this package provides datasets specifically tailored for health analytics.</li>
<li><strong><a href="https://www.spsanderson.com/healthyR.ts/">healthyR.ts</a></strong>: Focused on time series analysis in healthcare, healthyR.ts offers tools for modeling, forecasting, and visualizing time-dependent data.</li>
<li><strong><a href="https://www.spsanderson.com/healthyR.ai/">healthyR.ai</a></strong>: Bringing AI to health analytics, this package integrates machine learning algorithms for predictive analytics and decision support.</li>
<li><strong><a href="https://www.spsanderson.com/TidyDensity/">TidyDensity</a></strong>: A tool for density estimation and probabilistic modeling, TidyDensity makes it easy to work with distributions and perform simulations.</li>
<li><strong><a href="https://www.spsanderson.com/tidyAML/">tidyAML</a></strong>: An approachable package for automated machine learning, tidyAML simplifies the process of building and evaluating machine learning models.</li>
</ul>
</section>
<section id="first-up-healthyr" class="level1">
<h1>First Up: healthyR</h1>
<p>This Thursday, we’ll start with an in-depth look at <strong>healthyR</strong>. I’ll share its core functionalities, how it can be used for health analytics, and practical examples to get you started. Each Thursday, I’ll provide practical examples to help you apply the package being discussed that week.</p>
</section>
<section id="get-ready" class="level1">
<h1>Get Ready</h1>
<p>To make the most of this series, I encourage you to install the healthyverse suite of packages. This will ensure you have all the tools at your fingertips as we explore their capabilities together.</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install.packages</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"healthyverse"</span>)</span></code></pre></div>
<p>Stay tuned for more updates, and let’s embark on this journey of enhancing our R skills together!</p>
<p>Best, Steve</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>healthyr</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-10/</guid>
  <pubDate>Mon, 10 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Check if a Character is in a String in R</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-07/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>When working with text data in R, one common task is to check if a character or substring is present within a larger string. R offers multiple ways to accomplish this, ranging from base R functions to packages like <code>stringr</code> and <code>stringi</code>. In this post, we’ll explore how to use <code>grepl()</code> from base R, <code>str_detect()</code> from <code>stringr</code>, and <code>stri_detect_fixed()</code> from <code>stringi</code> to achieve this.</p>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="using-grepl-in-base-r" class="level2">
<h2 class="anchored" data-anchor-id="using-grepl-in-base-r">Using <code>grepl()</code> in Base R</h2>
<p>The <code>grepl()</code> function in base R is a handy tool for detecting patterns within strings. It returns <code>TRUE</code> if the pattern is found and <code>FALSE</code> otherwise.</p>
<p><strong>Syntax:</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grepl</span>(pattern, x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ignore.case =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<ul>
<li><code>pattern</code>: The character string to search for.</li>
<li><code>x</code>: The character vector where the search is performed.</li>
<li><code>ignore.case</code>: Logical value indicating whether the search should be case-insensitive.</li>
<li><code>fixed</code>: Logical value indicating whether to treat the pattern as a fixed string.</li>
</ul>
<section id="example" class="level3">
<h3 class="anchored" data-anchor-id="example">Example:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, World!"</span></span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if 'World' is in the text</span></span>
<span id="cb2-3">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grepl</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"World"</span>, text)</span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if 'world' is in the text, ignoring case</span></span>
<span id="cb4-2">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grepl</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"world"</span>, text, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ignore.case =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="using-str_detect-from-stringr" class="level2">
<h2 class="anchored" data-anchor-id="using-str_detect-from-stringr">Using <code>str_detect()</code> from <code>stringr</code></h2>
<p>The <code>stringr</code> package simplifies string operations with a consistent and user-friendly interface. The <code>str_detect()</code> function checks for the presence of a pattern in a string.</p>
<p><strong>Syntax:</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(string, pattern)</span></code></pre></div>
<ul>
<li><code>string</code>: The character vector to search in.</li>
<li><code>pattern</code>: The pattern to search for.</li>
</ul>
<section id="example-1" class="level3">
<h3 class="anchored" data-anchor-id="example-1">Example:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb7-2"></span>
<span id="cb7-3">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, World!"</span></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if 'World' is in the text</span></span>
<span id="cb7-5">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"World"</span>)</span>
<span id="cb7-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if 'world' is in the text, ignoring case</span></span>
<span id="cb9-2">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(text, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">regex</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"world"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ignore_case =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb9-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="using-stri_detect_fixed-from-stringi" class="level2">
<h2 class="anchored" data-anchor-id="using-stri_detect_fixed-from-stringi">Using <code>stri_detect_fixed()</code> from <code>stringi</code></h2>
<p>The <code>stringi</code> package is a comprehensive suite for string manipulation. The <code>stri_detect_fixed()</code> function is used for detecting fixed patterns within strings.</p>
<p><strong>Syntax:</strong></p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringi)</span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_detect_fixed</span>(str, pattern, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">case_insensitive =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<ul>
<li><code>str</code>: The character vector to search in.</li>
<li><code>pattern</code>: The pattern to search for.</li>
<li><code>case_insensitive</code>: Logical value indicating whether the search should be case-insensitive.</li>
</ul>
<section id="example-2" class="level3">
<h3 class="anchored" data-anchor-id="example-2">Example:</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringi)</span>
<span id="cb12-2"></span>
<span id="cb12-3">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Hello, World!"</span></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if 'World' is in the text</span></span>
<span id="cb12-5">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_detect_fixed</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"World"</span>)</span>
<span id="cb12-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Check if 'world' is in the text, ignoring case</span></span>
<span id="cb14-2">result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_detect_fixed</span>(text, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"world"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">case_insensitive =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb14-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(result)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Detecting characters or substrings within a string is a common task in data analysis and manipulation. R provides powerful tools for this, whether you use base R’s <code>grepl()</code>, <code>stringr</code>’s <code>str_detect()</code>, or <code>stringi</code>’s <code>stri_detect_fixed()</code>. Each method has its strengths, and you can choose the one that best fits your workflow.</p>
<p>Try these examples on your own data and see how they can help in your text processing tasks. Happy coding!</p>
</section>
<section id="resources" class="level1">
<h1>Resources</h1>
<ul>
<li><a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/grep">R Documentation for <code>grepl()</code></a></li>
<li><a href="https://cran.r-project.org/web/packages/stringr/stringr.pdf">stringr Package Documentation</a></li>
<li><a href="https://cran.r-project.org/web/packages/stringi/stringi.pdf">stringi Package Documentation</a></li>
</ul>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <category>strings</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-07/</guid>
  <pubDate>Fri, 07 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Introduction of My Content Series</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-06/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hello, everyone!</p>
<p>I’m excited to introduce a new content series that will be shared across multiple platforms, including my blog, LinkedIn, Mastodon, and Telegram. This series is designed to provide you with valuable insights, practical tips, and deep dives into the tools and techniques I’ve developed and co-authored. Whether you’re a data scientist, analyst, or someone looking to enhance your data manipulation skills, there will be something for everyone.</p>
<p>Here’s what you can expect each week:</p>
<section id="monday-introduction-to-a-package" class="level2">
<h2 class="anchored" data-anchor-id="monday-introduction-to-a-package"><strong>Monday: Introduction to a Package</strong></h2>
<p>On Mondays, I’ll introduce one of the packages I have written. These introductions will cover the package’s purpose, its main features, and how it can help you in your data analysis and visualization tasks. Whether you’re familiar with my work or new to it, these posts will provide a comprehensive overview of each package’s capabilities.</p>
</section>
<section id="tuesday-an-r-function" class="level2">
<h2 class="anchored" data-anchor-id="tuesday-an-r-function"><strong>Tuesday: An R Function</strong></h2>
<p>Tuesdays will be dedicated to exploring a specific R function. I’ll provide a detailed explanation of how the function works, its applications, and some examples to help you understand how to use it effectively in your projects. This will be a great way to expand your R programming skills and learn new techniques.</p>
</section>
<section id="wednesday-vba-and-r" class="level2">
<h2 class="anchored" data-anchor-id="wednesday-vba-and-r"><strong>Wednesday: VBA and R</strong></h2>
<p>On Wednesdays, we’ll explore the integration of VBA and R. These posts will show you how to leverage the power of both tools to automate tasks, enhance your Excel capabilities, and streamline your workflows. If you’re looking to bridge the gap between Excel and R, these sessions will be invaluable.</p>
</section>
<section id="thursday-practical-example" class="level2">
<h2 class="anchored" data-anchor-id="thursday-practical-example"><strong>Thursday: Practical Example</strong></h2>
<p>Thursdays will feature practical examples from the package introduced on Monday. I’ll walk you through real-world scenarios and show you how to apply the package to solve specific problems. These examples will help you see the practical applications of the tools and give you ideas for your own projects.</p>
</section>
<section id="friday-insights-from-extending-excel-with-python-and-r" class="level2">
<h2 class="anchored" data-anchor-id="friday-insights-from-extending-excel-with-python-and-r"><strong>Friday: Insights from “Extending Excel with Python and R”</strong></h2>
<p>Finally, Fridays will be dedicated to insights and snippets from my book, co-authored with David Kun, titled “Extending Excel with Python and R.” We’ll cover various topics from the book, providing you with a sneak peek into its contents and practical tips for extending Excel’s functionality using Python and R.</p>
<p>I am looking forward to sharing this journey with you and hearing your feedback. Make sure to follow along, and don’t hesitate to ask questions or share your thoughts in the comments. Let’s learn and grow together!</p>
<p>Stay tuned for the first post of this series coming next Monday!</p>
<p>Best regards,<br>
Steve</p>
<p><strong>Connect with me:</strong></p>
<ul>
<li>Website: <a href="https://www.spsanderson.com">www.spsanderson.com</a></li>
<li>Blog: <a href="https://www.spsanderson.com/steveondata/">www.spsanderson.com/steveondata/</a></li>
<li>LinkedIn: <a href="https://www.linkedin.com/in/spsanderson">www.linkedin.com/in/spsanderson</a></li>
<li>Mastodon: <a href="https://mstdn.social/@stevensanderson">mstdn.social/<span class="citation" data-cites="stevensanderson">@stevensanderson</span></a></li>
<li>Telegram: <a href="https://t.me/steveondata">t.me/steveondata</a></li>
</ul>


</section>
</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-06/</guid>
  <pubDate>Thu, 06 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Split a Character String and Get the First Element in R</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-05/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hello, R community!</p>
<p>Today, we’re jumping into a common yet powerful task in data manipulation: splitting character strings and extracting the first element. We’ll explore how to accomplish this in base <code>R</code>, as well as using the <code>stringi</code> and <code>stringr</code> packages.</p>
<p>Let’s get started!</p>
<hr>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="using-strsplit-in-base-r" class="level2">
<h2 class="anchored" data-anchor-id="using-strsplit-in-base-r">Using <code>strsplit()</code> in Base R</h2>
<p>Base R provides the <code>strsplit()</code> function for splitting strings. Here’s a quick look at the syntax:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strsplit</span>(x, split, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">perl =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">useBytes =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<ul>
<li><code>x</code>: Character vector to be split.</li>
<li><code>split</code>: The delimiter (separator) to use for splitting.</li>
<li><code>fixed</code>: If TRUE, split is interpreted as a string, not a regular expression.</li>
<li><code>perl</code>: If TRUE, perl-compatible regular expressions can be used.</li>
<li><code>useBytes</code>: If TRUE, the operation is performed byte-wise rather than character-wise.</li>
</ul>
<section id="example-1-splitting-a-single-string" class="level3">
<h3 class="anchored" data-anchor-id="example-1-splitting-a-single-string">Example 1: Splitting a single string</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">string <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple,orange,banana"</span></span>
<span id="cb2-2">split_result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strsplit</span>(string, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb2-3">first_element <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(split_result, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(first_element)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"</code></pre>
</div>
</div>
</section>
<section id="example-2-splitting-a-vector-of-strings" class="level3">
<h3 class="anchored" data-anchor-id="example-2-splitting-a-vector-of-strings">Example 2: Splitting a vector of strings</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">strings <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple,orange,banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cat,dog,mouse"</span>)</span>
<span id="cb4-2">split_results <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strsplit</span>(strings, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb4-3">first_elements <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(split_results, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb4-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(first_elements)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple" "cat"  </code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="using-stringi-package" class="level2">
<h2 class="anchored" data-anchor-id="using-stringi-package">Using <code>stringi</code> Package</h2>
<p>The <code>stringi</code> package offers a powerful function <code>stri_split_fixed()</code> for splitting strings. Let’s look at its syntax:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_split_fixed</span>(str, pattern, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">simplify =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<ul>
<li><code>str</code>: Character vector to be split.</li>
<li><code>pattern</code>: The delimiter for splitting.</li>
<li><code>n</code>: Maximum number of pieces to return.</li>
<li><code>simplify</code>: If TRUE, returns a matrix.</li>
</ul>
<section id="example-1-splitting-a-single-string-1" class="level3">
<h3 class="anchored" data-anchor-id="example-1-splitting-a-single-string-1">Example 1: Splitting a single string</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringi)</span>
<span id="cb7-2">string <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple,orange,banana"</span></span>
<span id="cb7-3">split_result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_split_fixed</span>(string, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb7-4">first_element <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(split_result, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb7-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(first_element)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"</code></pre>
</div>
</div>
</section>
<section id="example-2-splitting-a-vector-of-strings-1" class="level3">
<h3 class="anchored" data-anchor-id="example-2-splitting-a-vector-of-strings-1">Example 2: Splitting a vector of strings</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">strings <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple,orange,banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cat,dog,mouse"</span>)</span>
<span id="cb9-2">split_results <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stri_split_fixed</span>(strings, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb9-3">first_elements <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(split_results, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb9-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(first_elements)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple" "cat"  </code></pre>
</div>
</div>
<hr>
</section>
</section>
<section id="using-stringr-package" class="level2">
<h2 class="anchored" data-anchor-id="using-stringr-package">Using <code>stringr</code> Package</h2>
<p>The <code>stringr</code> package provides <code>str_split_fixed()</code> and <code>str_split()</code> functions. Here’s the syntax for <code>str_split()</code>:</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_split</span>(string, pattern, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Inf</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">simplify =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span></code></pre></div>
<ul>
<li><code>string</code>: Character vector to be split.</li>
<li><code>pattern</code>: The delimiter for splitting.</li>
<li><code>n</code>: Maximum number of pieces to return.</li>
<li><code>simplify</code>: If TRUE, returns a matrix.</li>
</ul>
<section id="example-1-splitting-a-single-string-2" class="level3">
<h3 class="anchored" data-anchor-id="example-1-splitting-a-single-string-2">Example 1: Splitting a single string</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb12-2">string <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple,orange,banana"</span></span>
<span id="cb12-3">split_result <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_split</span>(string, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb12-4">first_element <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(split_result, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb12-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(first_element)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"</code></pre>
</div>
</div>
</section>
<section id="example-2-splitting-a-vector-of-strings-2" class="level3">
<h3 class="anchored" data-anchor-id="example-2-splitting-a-vector-of-strings-2">Example 2: Splitting a vector of strings</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">strings <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple,orange,banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cat,dog,mouse"</span>)</span>
<span id="cb14-2">split_results <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_split</span>(strings, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>)</span>
<span id="cb14-3">first_elements <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(split_results, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb14-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(first_elements)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple" "cat"  </code></pre>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p>Now it’s your turn to practice! Try splitting different strings and extracting the first element using base R, stringi, and stringr. Experiment with various delimiters and see how each function handles them.</p>
<hr>
<p>I look forward to hearing about your experiences with string manipulation in R!</p>
<p>Until next time, happy coding! 🚀</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <category>strings</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-05/</guid>
  <pubDate>Wed, 05 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Unveiling New Tools in the TidyDensity Arsenal: Distribution Parameter Wrangling</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-04/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Greetings, fellow data enthusiasts! Today, we’re thrilled to unveil a fresh wave of functionalities in the ever-evolving TidyDensity package. Buckle up, as we delve into the realm of distribution statistics!</p>
<p>This update brings a bounty of new functions that streamline the process of extracting key parameters from various probability distributions. These functions adhere to the familiar naming convention <code>util_distribution_name_stats_tbl()</code>, making them easily discoverable within your R workflow.</p>
<p>Let’s meet the newcomers:</p>
<ul>
<li><code>util_zero_truncated_negative_binomial_stats_tbl()</code>: Uncovers the secrets of the zero-truncated negative binomial distribution.</li>
<li><code>util_zero_truncated_poisson_stats_tbl()</code>: Demystifies the zero-truncated Poisson distribution.</li>
<li><code>util_zero_truncated_geometric_stats_tbl()</code>: Unveils the hidden characteristics of the zero-truncated geometric distribution.</li>
<li><code>util_pareto1_stats_tbl()</code>: Extracts the essence of the Pareto Type I distribution.</li>
<li><code>util_paralogistic_stats_tbl()</code>: Unlocks the mysteries of the paralogistic distribution.</li>
<li><code>util_inverse_weibull_stats_tbl()</code>: Illuminates the parameters of the inverse Weibull distribution.</li>
<li><code>util_inverse_pareto_stats_tbl()</code>: Provides insights into the inverse Pareto distribution.</li>
<li><code>util_inverse_burr_stats_tbl()</code>: Offers a glimpse into the world of the inverse Burr distribution.</li>
<li><code>util_generalized_pareto_stats_tbl()</code>: Simplifies extracting parameters from the generalized Pareto distribution.</li>
</ul>
<p>Now, you might be wondering, “How do I put these new functions to use?” Fear not, for the answer is as easy as pie!</p>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<p>Let’s explore the zero-truncated binomial distribution. Suppose we’re simulating the number of successes in 10 trials with a success probability of 0.1 (but hey, successes of zero aren’t possible in this scenario!).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(TidyDensity)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Assuming you've installed TidyDensity</span></span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tidy_zero_truncated_binomial</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.prob =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb1-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">util_zero_truncated_binomial_stats_tbl</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb1-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 15
$ tidy_function     &lt;chr&gt; "tidy_zero_truncated_binomial"
$ function_call     &lt;chr&gt; "Zero Truncated Binomial c(10, 0.1)"
$ distribution      &lt;chr&gt; "Zero Truncated Binomial"
$ distribution_type &lt;chr&gt; "discrete"
$ points            &lt;dbl&gt; 50
$ simulations       &lt;dbl&gt; 1
$ mean              &lt;dbl&gt; 1.58
$ mode              &lt;dbl&gt; 1
$ range             &lt;chr&gt; "1 to 4"
$ std_dv            &lt;dbl&gt; 0.8103917
$ coeff_var         &lt;dbl&gt; 0.5129061
$ computed_std_skew &lt;dbl&gt; 1.133051
$ computed_std_kurt &lt;dbl&gt; 3.212143
$ ci_lo             &lt;dbl&gt; 1
$ ci_hi             &lt;dbl&gt; 3</code></pre>
</div>
</div>
<p>This code snippet generates a dataset of zero-truncated binomial values and then utilizes the <code>util_zero_truncated_binomial_stats_tbl()</code> function to extract a summary table containing key parameters like the mean, variance, and quantiles.</p>
</section>
<section id="your-turn-to-explore" class="level1">
<h1>Your Turn to Explore!</h1>
<p>We encourage you to jump in and experiment with these new additions. Explore the documentation for each function (accessible through <code>?util_distribution_name_stats_tbl</code>) to discover their specific functionalities and supported distributions.</p>
<p>With these new tools at your disposal, you’ll be well-equipped to gain deeper insights into your data and unlock the power of various probability distributions in your R adventures!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>tidydensity</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-04/</guid>
  <pubDate>Tue, 04 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>An Overview of the New Parameter Estimate Functions in the TidyDensity Package</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-06-03/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hello, R enthusiasts! I’m excited to share some fantastic updates to the TidyDensity package. These updates introduce a suite of parameter estimate functions designed to make your data analysis more efficient and insightful. Whether you’re dealing with common distributions or more specialized ones, these functions have got you covered.</p>
</section>
<section id="why-parameter-estimation" class="level1">
<h1>Why Parameter Estimation?</h1>
<p>Parameter estimation is crucial when working with statistical distributions. It allows you to infer the parameters of a distribution from your data, providing insights into its underlying structure. This is particularly useful when you want to model real-world phenomena accurately.</p>
</section>
<section id="new-parameter-estimate-functions" class="level1">
<h1>New Parameter Estimate Functions</h1>
<p>Here’s a quick rundown of the newly introduced functions in TidyDensity:</p>
<ol type="1">
<li><strong>util_zero_truncated_negative_binomial_param_estimate()</strong></li>
<li><strong>util_zero_truncated_poisson_param_estimate()</strong></li>
<li><strong>util_f_param_estimate()</strong></li>
<li><strong>util_zero_truncated_geometric_param_estimate()</strong></li>
<li><strong>util_t_param_estimate()</strong></li>
<li><strong>util_pareto1_param_estimate()</strong></li>
<li><strong>util_paralogistic_param_estimate()</strong></li>
<li><strong>util_inverse_weibull_param_estimate()</strong></li>
<li><strong>util_inverse_pareto_param_estimate()</strong></li>
<li><strong>util_inverse_burr_param_estimate()</strong></li>
<li><strong>util_generalized_pareto_param_estimate()</strong></li>
<li><strong>util_generalized_beta_param_estimate()</strong></li>
<li><strong>util_zero_truncated_binomial_param_estimate()</strong></li>
</ol>
<p>Each function is tailored to a specific distribution, providing a streamlined way to estimate its parameters.</p>
</section>
<section id="example-estimating-parameters-of-a-t-distribution" class="level1">
<h1>Example: Estimating Parameters of a t Distribution</h1>
<p>Let’s dive into an example using the <code>util_t_param_estimate()</code> function. Suppose you have data that you believe follows a t distribution. Here’s how you can estimate its parameters:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(TidyDensity)</span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>)</span>
<span id="cb1-6">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rt</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">df =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncp =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)</span>
<span id="cb1-7">output <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">util_t_param_estimate</span>(x)</span>
<span id="cb1-8"></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Display the estimated parameters</span></span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(output<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>parameter_tbl)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 7
  dist_type      samp_size  mean variance method df_est ncp_est
  &lt;chr&gt;              &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 T Distribution       100 0.612    0.949 MME     0.959   0.612
2 T Distribution       100 0.612    0.949 MLE     8.32    0.571</code></pre>
</div>
</div>
<p>In this example, we generated some data from a t distribution with degrees of freedom (df) of 10 and a non-centrality parameter (ncp) of 0.5. Using the <code>util_t_param_estimate()</code> function, we estimated these parameters from the data.</p>
<p>The <code>parameter_tbl</code> in the output contains the estimated values, while <code>combined_data_tbl</code> can be used for visualization.</p>
<section id="visualizing-the-results" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-the-results">Visualizing the Results</h2>
<p>Here’s what the output might look like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Visualize the combined data</span></span>
<span id="cb3-2">output<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>combined_data_tbl <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tidy_combined_autoplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.interactive =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-b3c758cd5e2d5807aa76" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b3c758cd5e2d5807aa76">{"x":{"data":[{"x":[-2.8043390933615084,-2.7288207642452402,-2.6533024351289716,-2.5777841060127034,-2.5022657768964347,-2.4267474477801665,-2.3512291186638978,-2.2757107895476296,-2.200192460431361,-2.1246741313150928,-2.0491558021988241,-1.9736374730825559,-1.8981191439662874,-1.822600814850019,-1.7470824857337506,-1.6715641566174821,-1.5960458275012137,-1.5205274983849453,-1.4450091692686768,-1.3694908401524084,-1.29397251103614,-1.2184541819198715,-1.1429358528036031,-1.0674175236873347,-0.99189919457106646,-0.91638086545479802,-0.84086253633852959,-0.76534420722226093,-0.68982587810599272,-0.61430754898972406,-0.53878921987345585,-0.46327089075718719,-0.38775256164091898,-0.31223423252465077,-0.23671590340838211,-0.1611975742921139,-0.085679245175845242,-0.01016091605957703,0.065357413056691627,0.14087574217295984,0.2163940712892285,0.29191240040549671,0.36743072952176536,0.44294905863803358,0.51846738775430223,0.59398571687057045,0.6695040459868391,0.74502237510310731,0.82054070421937553,0.89605903333564418,0.9715773624519124,1.0470956915681811,1.1226140206844493,1.1981323498007175,1.2736506789169866,1.3491690080332548,1.424687337149523,1.5002056662657912,1.5757239953820603,1.6512423244983285,1.7267606536145967,1.802278982730865,1.8777973118471341,1.9533156409634023,2.0288339700796705,2.1043522991959387,2.1798706283122069,2.255388957428476,2.3309072865447442,2.4064256156610124,2.4819439447772806,2.5574622738935497,2.632980603009818,2.7084989321260862,2.7840172612423544,2.8595355903586235,2.9350539194748917,3.0105722485911599,3.0860905777074281,3.1616089068236972,3.2371272359399654,3.3126455650562336,3.3881638941725019,3.4636822232887701,3.5392005524050392,3.6147188815213074,3.6902372106375756,3.7657555397538438,3.8412738688701129,3.9167921979863811,3.9923105271026493,4.0678288562189175,4.1433471853351866,4.2188655144514549,4.2943838435677231,4.3699021726839913,4.4454205018002595,4.5209388309165286,4.5964571600327968,4.671975489149065],"y":[0.00016159340119922531,0.00031812159289538598,0.00059654305432110734,0.0010649885163847776,0.0018116854971184657,0.002939363982159663,0.004557268418734545,0.0067521910610506735,0.0095640007471001799,0.012970001376627608,0.016870181042633305,0.021093291118968092,0.025419183216136503,0.029634448746876062,0.033593783228044606,0.037272427270657833,0.040802185688078307,0.044482436057626557,0.048733676569874977,0.054022866026005777,0.060770494264310228,0.069255059443431383,0.079559454729632231,0.091473533328998033,0.1046148349727619,0.11851558131682036,0.13277584148593746,0.14722202766926126,0.16201363920853878,0.17764052623849444,0.19479694516546461,0.21416386816236654,0.23617789969248743,0.26074623006336484,0.28718020114031934,0.31426481099915243,0.34042260579186723,0.36394698401954084,0.3833102269127252,0.39747783125757397,0.40598765591390995,0.40901444654750357,0.40728682309965486,0.401944536957836,0.3943232663707808,0.38559753117882634,0.3766197716815099,0.36780719791500149,0.3591394138433428,0.35026340815366164,0.34069350128490838,0.3300047170262288,0.31799350571809243,0.30475663330690284,0.29073327996447795,0.27655514485918586,0.26289819245051976,0.2503021440108959,0.23902561551265888,0.22891668921571434,0.21945891704984938,0.2098955643847612,0.19941124387594042,0.18732365354282041,0.17328375986796635,0.15736663671364631,0.14001280331078464,0.12192517855227837,0.10391331781482883,0.086742666474611319,0.070986419222395264,0.057001288339077923,0.044940908677057037,0.034810543894863745,0.026535069298354166,0.019963502091671442,0.014959107232355174,0.011386441977492195,0.0091052882158540634,0.007969591906098179,0.0077715598322078937,0.0082807128192554889,0.00923125523486866,0.01033763834496281,0.011318438280038607,0.011938218857166644,0.012043773622023846,0.011580407603222601,0.0105939482330485,0.0092101665593809223,0.0076085970111172746,0.0059722544089959801,0.0044530046754936558,0.0031529640628535941,0.002120762526456192,0.0013560854807403982,0.00082353004046132466,0.00047479472788472277,0.00025976625982531733,0.0001349767448308819],"text":["dx:  -2.80433909<br />dy: 1.615934e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.72882076<br />dy: 3.181216e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.65330244<br />dy: 5.965431e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.57778411<br />dy: 1.064989e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.50226578<br />dy: 1.811685e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.42674745<br />dy: 2.939364e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.35122912<br />dy: 4.557268e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.27571079<br />dy: 6.752191e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.20019246<br />dy: 9.564001e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.12467413<br />dy: 1.297000e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -2.04915580<br />dy: 1.687018e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.97363747<br />dy: 2.109329e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.89811914<br />dy: 2.541918e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.82260081<br />dy: 2.963445e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.74708249<br />dy: 3.359378e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.67156416<br />dy: 3.727243e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.59604583<br />dy: 4.080219e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.52052750<br />dy: 4.448244e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.44500917<br />dy: 4.873368e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.36949084<br />dy: 5.402287e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.29397251<br />dy: 6.077049e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.21845418<br />dy: 6.925506e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.14293585<br />dy: 7.955945e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -1.06741752<br />dy: 9.147353e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.99189919<br />dy: 1.046148e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.91638087<br />dy: 1.185156e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.84086254<br />dy: 1.327758e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.76534421<br />dy: 1.472220e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.68982588<br />dy: 1.620136e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.61430755<br />dy: 1.776405e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.53878922<br />dy: 1.947969e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.46327089<br />dy: 2.141639e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.38775256<br />dy: 2.361779e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.31223423<br />dy: 2.607462e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.23671590<br />dy: 2.871802e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.16119757<br />dy: 3.142648e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.08567925<br />dy: 3.404226e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:  -0.01016092<br />dy: 3.639470e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.06535741<br />dy: 3.833102e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.14087574<br />dy: 3.974778e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.21639407<br />dy: 4.059877e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.29191240<br />dy: 4.090144e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.36743073<br />dy: 4.072868e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.44294906<br />dy: 4.019445e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.51846739<br />dy: 3.943233e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.59398572<br />dy: 3.855975e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.66950405<br />dy: 3.766198e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.74502238<br />dy: 3.678072e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.82054070<br />dy: 3.591394e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.89605903<br />dy: 3.502634e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   0.97157736<br />dy: 3.406935e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.04709569<br />dy: 3.300047e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.12261402<br />dy: 3.179935e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.19813235<br />dy: 3.047566e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.27365068<br />dy: 2.907333e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.34916901<br />dy: 2.765551e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.42468734<br />dy: 2.628982e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.50020567<br />dy: 2.503021e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.57572400<br />dy: 2.390256e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.65124232<br />dy: 2.289167e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.72676065<br />dy: 2.194589e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.80227898<br />dy: 2.098956e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.87779731<br />dy: 1.994112e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   1.95331564<br />dy: 1.873237e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.02883397<br />dy: 1.732838e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.10435230<br />dy: 1.573666e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.17987063<br />dy: 1.400128e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.25538896<br />dy: 1.219252e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.33090729<br />dy: 1.039133e-01<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.40642562<br />dy: 8.674267e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.48194394<br />dy: 7.098642e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.55746227<br />dy: 5.700129e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.63298060<br />dy: 4.494091e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.70849893<br />dy: 3.481054e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.78401726<br />dy: 2.653507e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.85953559<br />dy: 1.996350e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   2.93505392<br />dy: 1.495911e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.01057225<br />dy: 1.138644e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.08609058<br />dy: 9.105288e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.16160891<br />dy: 7.969592e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.23712724<br />dy: 7.771560e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.31264557<br />dy: 8.280713e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.38816389<br />dy: 9.231255e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.46368222<br />dy: 1.033764e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.53920055<br />dy: 1.131844e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.61471888<br />dy: 1.193822e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.69023721<br />dy: 1.204377e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.76575554<br />dy: 1.158041e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.84127387<br />dy: 1.059395e-02<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.91679220<br />dy: 9.210167e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   3.99231053<br />dy: 7.608597e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.06782886<br />dy: 5.972254e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.14334719<br />dy: 4.453005e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.21886551<br />dy: 3.152964e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.29438384<br />dy: 2.120763e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.36990217<br />dy: 1.356085e-03<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.44542050<br />dy: 8.235300e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.52093883<br />dy: 4.747947e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.59645716<br />dy: 2.597663e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical","dx:   4.67197549<br />dy: 1.349767e-04<br />interaction(dist_type, sim_number): Empirical.1<br />dist_type: Empirical"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"Empirical","legendgroup":"Empirical","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-82.019215408792434,-79.945975049420127,-77.872734690047835,-75.799494330675529,-73.726253971303237,-71.65301361193093,-69.579773252558624,-67.506532893186332,-65.433292533814026,-63.360052174441734,-61.286811815069427,-59.213571455697128,-57.140331096324829,-55.067090736952522,-52.99385037758023,-50.920610018207924,-48.847369658835625,-46.774129299463326,-44.700888940091026,-42.62764858071872,-40.554408221346421,-38.481167861974122,-36.407927502601822,-34.334687143229523,-32.261446783857224,-30.188206424484918,-28.114966065112618,-26.041725705740319,-23.96848534636802,-21.895244986995721,-19.822004627623414,-17.748764268251122,-15.675523908878816,-13.60228354950651,-11.529043190134217,-9.4558028307619111,-7.382562471389619,-5.3093221120173126,-3.2360817526450063,-1.1628413932727142,0.91039896609959214,2.9836393254718843,5.0568796848441906,7.1301200442164969,9.203360403588789,11.276600762961095,13.349841122333387,15.423081481705694,17.496321841077986,19.569562200450292,21.642802559822599,23.716042919194891,25.789283278567197,27.862523637939489,29.935763997311795,32.009004356684102,34.082244716056394,36.1554850754287,38.228725434800992,40.301965794173299,42.375206153545605,44.448446512917897,46.521686872290189,48.594927231662496,50.668167591034802,52.741407950407108,54.814648309779415,56.887888669151693,58.961129028523999,61.034369387896305,63.107609747268611,65.180850106640918,67.254090466013196,69.327330825385502,71.400571184757808,73.473811544130115,75.547051903502421,77.620292262874699,79.693532622247005,81.766772981619312,83.840013340991618,85.913253700363924,87.986494059736202,90.059734419108509,92.132974778480815,94.206215137853121,96.279455497225428,98.352695856597705,100.42593621597001,102.49917657534232,104.57241693471462,106.64565729408693,108.71889765345921,110.79213801283151,112.86537837220382,114.93861873157613,117.01185909094841,119.08509945032071,121.15833980969302,123.23158016906532],"y":[5.400681076731186e-05,0.0029914702522781502,0.0016709651248298389,8.3379718197355736e-06,3.5191201203241651e-10,1.1963490511597388e-16,0,0,0,0,0,3.3712202498081781e-19,2.3490242523440174e-18,2.4397636777071391e-18,0,0,0,3.5317781111979533e-18,0,0,3.1361954106100565e-18,0,0,1.1849544226799271e-18,6.7460718641218018e-19,0,0,0,0,5.9359927720193076e-12,4.5149741128273236e-07,0.00037708408506424902,0.0040038404536290612,0.0017756088674578123,0.0073031507995830755,0.0011643194115503633,3.4861518562069975e-06,0.00014470617001338369,0.0071069810718099539,0.08802653310990767,0.1802566723818787,0.071848512297957398,0.038437512147469322,0.027256480235889335,0.010537983116262875,0.0030898331696850123,0.0059419763133679877,0.0065501418354738635,0.00088754860628463181,3.313707976786467e-06,0.00083426934207895273,0.0038738129264205634,0.00027678000975389183,0.0034308209926755396,0.0014739900986643155,0.0038471850666867004,0.00085084329047783894,2.2153422141146279e-06,6.7254423665827377e-11,1.6430695805933754e-17,0,0,2.4537116839775637e-18,1.4205701286603919e-19,8.3947714546282447e-19,2.2984280042684754e-18,2.9591729605318866e-18,1.1644005562514131e-18,2.1920253263950596e-18,0,0,0,0,4.4377429761499939e-19,0,0,0,0,1.2208017252462686e-18,7.1686882844284269e-18,2.4552238601619751e-11,1.0717920651741252e-06,0.0005908324138980118,0.0040474734358727608,0.00030132156501066348,2.1151848694727024e-07,1.2895681505885894e-12,1.7459864590567865e-18,3.1490156576152579e-18,9.7630457084656625e-19,4.1608397747989847e-18,4.3226977082848422e-19,3.4005760401687299e-18,1.4837190431323838e-20,1.2119539314569288e-16,3.5191200869879401e-10,8.3379718197381994e-06,0.0016709651248298157,0.0029914702522781467,5.4006810767317674e-05],"text":["dx: -82.01921541<br />dy: 5.400681e-05<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -79.94597505<br />dy: 2.991470e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -77.87273469<br />dy: 1.670965e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -75.79949433<br />dy: 8.337972e-06<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -73.72625397<br />dy: 3.519120e-10<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -71.65301361<br />dy: 1.196349e-16<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -69.57977325<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -67.50653289<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -65.43329253<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -63.36005217<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -61.28681182<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -59.21357146<br />dy: 3.371220e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -57.14033110<br />dy: 2.349024e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -55.06709074<br />dy: 2.439764e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -52.99385038<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -50.92061002<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -48.84736966<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -46.77412930<br />dy: 3.531778e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -44.70088894<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -42.62764858<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -40.55440822<br />dy: 3.136195e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -38.48116786<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -36.40792750<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -34.33468714<br />dy: 1.184954e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -32.26144678<br />dy: 6.746072e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -30.18820642<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -28.11496607<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -26.04172571<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -23.96848535<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -21.89524499<br />dy: 5.935993e-12<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -19.82200463<br />dy: 4.514974e-07<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -17.74876427<br />dy: 3.770841e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -15.67552391<br />dy: 4.003840e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -13.60228355<br />dy: 1.775609e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: -11.52904319<br />dy: 7.303151e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  -9.45580283<br />dy: 1.164319e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  -7.38256247<br />dy: 3.486152e-06<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  -5.30932211<br />dy: 1.447062e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  -3.23608175<br />dy: 7.106981e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  -1.16284139<br />dy: 8.802653e-02<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:   0.91039897<br />dy: 1.802567e-01<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:   2.98363933<br />dy: 7.184851e-02<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:   5.05687968<br />dy: 3.843751e-02<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:   7.13012004<br />dy: 2.725648e-02<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:   9.20336040<br />dy: 1.053798e-02<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  11.27660076<br />dy: 3.089833e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  13.34984112<br />dy: 5.941976e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  15.42308148<br />dy: 6.550142e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  17.49632184<br />dy: 8.875486e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  19.56956220<br />dy: 3.313708e-06<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  21.64280256<br />dy: 8.342693e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  23.71604292<br />dy: 3.873813e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  25.78928328<br />dy: 2.767800e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  27.86252364<br />dy: 3.430821e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  29.93576400<br />dy: 1.473990e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  32.00900436<br />dy: 3.847185e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  34.08224472<br />dy: 8.508433e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  36.15548508<br />dy: 2.215342e-06<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  38.22872543<br />dy: 6.725442e-11<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  40.30196579<br />dy: 1.643070e-17<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  42.37520615<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  44.44844651<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  46.52168687<br />dy: 2.453712e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  48.59492723<br />dy: 1.420570e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  50.66816759<br />dy: 8.394771e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  52.74140795<br />dy: 2.298428e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  54.81464831<br />dy: 2.959173e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  56.88788867<br />dy: 1.164401e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  58.96112903<br />dy: 2.192025e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  61.03436939<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  63.10760975<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  65.18085011<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  67.25409047<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  69.32733083<br />dy: 4.437743e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  71.40057118<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  73.47381154<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  75.54705190<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  77.62029226<br />dy: 0.000000e+00<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  79.69353262<br />dy: 1.220802e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  81.76677298<br />dy: 7.168688e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  83.84001334<br />dy: 2.455224e-11<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  85.91325370<br />dy: 1.071792e-06<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  87.98649406<br />dy: 5.908324e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  90.05973442<br />dy: 4.047473e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  92.13297478<br />dy: 3.013216e-04<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  94.20621514<br />dy: 2.115185e-07<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  96.27945550<br />dy: 1.289568e-12<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx:  98.35269586<br />dy: 1.745986e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 100.42593622<br />dy: 3.149016e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 102.49917658<br />dy: 9.763046e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 104.57241693<br />dy: 4.160840e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 106.64565729<br />dy: 4.322698e-19<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 108.71889765<br />dy: 3.400576e-18<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 110.79213801<br />dy: 1.483719e-20<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 112.86537837<br />dy: 1.211954e-16<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 114.93861873<br />dy: 3.519120e-10<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 117.01185909<br />dy: 8.337972e-06<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 119.08509945<br />dy: 1.670965e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 121.15833981<br />dy: 2.991470e-03<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)","dx: 123.23158017<br />dy: 5.400681e-05<br />interaction(dist_type, sim_number): T Distribution c(0.959, 0.612).1<br />dist_type: T Distribution c(0.959, 0.612)"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)","dash":"solid"},"hoveron":"points","name":"T Distribution c(0.959, 0.612)","legendgroup":"T Distribution c(0.959, 0.612)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[-2.5206883547599608,-2.4540551581078196,-2.387421961455678,-2.3207887648035368,-2.2541555681513952,-2.187522371499254,-2.1208891748471124,-2.0542559781949712,-1.9876227815428296,-1.9209895848906884,-1.8543563882385468,-1.7877231915864056,-1.7210899949342642,-1.6544567982821228,-1.5878236016299814,-1.52119040497784,-1.4545572083256986,-1.3879240116735572,-1.3212908150214158,-1.2546576183692744,-1.188024421717133,-1.1213912250649916,-1.0547580284128502,-0.98812483176070876,-0.92149163510856757,-0.85485843845642617,-0.78822524180428477,-0.72159204515214337,-0.65495884850000197,-0.58832565184786056,-0.52169245519571916,-0.45505925854357754,-0.38842606189143636,-0.32179286523929518,-0.25515966858715355,-0.18852647193501237,-0.12189327528287075,-0.05526007863072957,0.011373118021412054,0.078006314673553234,0.14463951132569486,0.21127270797783604,0.27790590462997766,0.34453910128211884,0.41117229793426047,0.47780549458640165,0.54443869123854327,0.61107188789068445,0.67770508454282563,0.74433828119496726,0.81097147784710844,0.87760467449925006,0.94423787115139124,1.0108710678035329,1.077504264455674,1.1441374611078157,1.2107706577599568,1.2774038544120985,1.3440370510642397,1.4106702477163813,1.4773034443685225,1.5439366410206636,1.6105698376728057,1.6772030343249469,1.7438362309770881,1.8104694276292292,1.8771026242813704,1.9437358209335125,2.0103690175856537,2.0770022142377949,2.143635410889936,2.2102686075420781,2.2769018041942193,2.3435350008463605,2.4101681974985016,2.4768013941506437,2.5434345908027849,2.6100677874549261,2.6767009841070672,2.7433341807592093,2.8099673774113505,2.8766005740634917,2.9432337707156329,3.009866967367774,3.0765001640199161,3.1431333606720573,3.2097665573241985,3.2763997539763396,3.3430329506284817,3.4096661472806229,3.4762993439327641,3.5429325405849053,3.6095657372370473,3.6761989338891885,3.7428321305413297,3.8094653271934709,3.876098523845612,3.9427317204977541,4.0093649171498953,4.0759981138020365],"y":[0.00021719253530887823,0.00040210648023181542,0.0007157038027222006,0.0012332144638392702,0.0020437856021978734,0.0032609301319038568,0.0050296479491535881,0.0074752632216562561,0.010714087744165839,0.014844307003147051,0.019865192363771874,0.025708793305249642,0.032238298590420704,0.039223438695956236,0.046417354687328084,0.053592429834567641,0.060596808827996076,0.067405163159981879,0.074135101920331792,0.081050412766753496,0.088506066400186531,0.096915309476252737,0.10665044687732744,0.11797300141517954,0.13104107695841347,0.14582054774057002,0.16210108659961978,0.179566475081502,0.19777557502446583,0.21623789856469564,0.23447358262182291,0.25204375250764943,0.26862561215759662,0.28399690261108906,0.29805862737510253,0.31085305798591439,0.32246934159362983,0.33303181877446325,0.34268377858698229,0.35150660639238646,0.35952489468744103,0.36674039622761234,0.37310875309324137,0.37856890055674969,0.38310896789267163,0.3867201967528156,0.38939329417170931,0.39115112372135785,0.39196233486361137,0.39171126066831025,0.39025357063218652,0.38735037760536817,0.3826570458650862,0.37588531645393253,0.36673909596131904,0.35493038557842621,0.34040371406662251,0.32322127498181019,0.30357597667683645,0.28194286435330423,0.25891638461660105,0.2351999597162921,0.21158441431722569,0.18880842678542839,0.16754506324217974,0.14826253666398559,0.13120486169632334,0.11644601666112528,0.10381195621986974,0.093003681819044517,0.083717158661718194,0.075655209658855471,0.068623436133634877,0.0625760513380198,0.057561600160008851,0.053666850694774143,0.050980494095152588,0.049486121846591846,0.049008256108310007,0.049246717683974386,0.049768237264410681,0.050091587648246151,0.049769084979048708,0.048449724012351647,0.045980041668464797,0.042369833627546281,0.037800030305705751,0.032602573478737608,0.027145689264022443,0.021803832708384926,0.016881989754254336,0.012591204476480348,0.0090537289486725143,0.0062663988905054631,0.0041722476404421754,0.0026800006968619875,0.0016550809184607124,0.00098181308121180182,0.00056280358030498284,0.00030979030668360131],"text":["dx:  -2.52068835<br />dy: 2.171925e-04<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.45405516<br />dy: 4.021065e-04<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.38742196<br />dy: 7.157038e-04<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.32078876<br />dy: 1.233214e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.25415557<br />dy: 2.043786e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.18752237<br />dy: 3.260930e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.12088917<br />dy: 5.029648e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -2.05425598<br />dy: 7.475263e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.98762278<br />dy: 1.071409e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.92098958<br />dy: 1.484431e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.85435639<br />dy: 1.986519e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.78772319<br />dy: 2.570879e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.72108999<br />dy: 3.223830e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.65445680<br />dy: 3.922344e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.58782360<br />dy: 4.641735e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.52119040<br />dy: 5.359243e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.45455721<br />dy: 6.059681e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.38792401<br />dy: 6.740516e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.32129082<br />dy: 7.413510e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.25465762<br />dy: 8.105041e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.18802442<br />dy: 8.850607e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.12139123<br />dy: 9.691531e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -1.05475803<br />dy: 1.066504e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.98812483<br />dy: 1.179730e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.92149164<br />dy: 1.310411e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.85485844<br />dy: 1.458205e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.78822524<br />dy: 1.621011e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.72159205<br />dy: 1.795665e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.65495885<br />dy: 1.977756e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.58832565<br />dy: 2.162379e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.52169246<br />dy: 2.344736e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.45505926<br />dy: 2.520438e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.38842606<br />dy: 2.686256e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.32179287<br />dy: 2.839969e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.25515967<br />dy: 2.980586e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.18852647<br />dy: 3.108531e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.12189328<br />dy: 3.224693e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:  -0.05526008<br />dy: 3.330318e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.01137312<br />dy: 3.426838e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.07800631<br />dy: 3.515066e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.14463951<br />dy: 3.595249e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.21127271<br />dy: 3.667404e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.27790590<br />dy: 3.731088e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.34453910<br />dy: 3.785689e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.41117230<br />dy: 3.831090e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.47780549<br />dy: 3.867202e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.54443869<br />dy: 3.893933e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.61107189<br />dy: 3.911511e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.67770508<br />dy: 3.919623e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.74433828<br />dy: 3.917113e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.81097148<br />dy: 3.902536e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.87760467<br />dy: 3.873504e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   0.94423787<br />dy: 3.826570e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.01087107<br />dy: 3.758853e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.07750426<br />dy: 3.667391e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.14413746<br />dy: 3.549304e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.21077066<br />dy: 3.404037e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.27740385<br />dy: 3.232213e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.34403705<br />dy: 3.035760e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.41067025<br />dy: 2.819429e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.47730344<br />dy: 2.589164e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.54393664<br />dy: 2.352000e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.61056984<br />dy: 2.115844e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.67720303<br />dy: 1.888084e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.74383623<br />dy: 1.675451e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.81046943<br />dy: 1.482625e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.87710262<br />dy: 1.312049e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   1.94373582<br />dy: 1.164460e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.01036902<br />dy: 1.038120e-01<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.07700221<br />dy: 9.300368e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.14363541<br />dy: 8.371716e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.21026861<br />dy: 7.565521e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.27690180<br />dy: 6.862344e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.34353500<br />dy: 6.257605e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.41016820<br />dy: 5.756160e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.47680139<br />dy: 5.366685e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.54343459<br />dy: 5.098049e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.61006779<br />dy: 4.948612e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.67670098<br />dy: 4.900826e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.74333418<br />dy: 4.924672e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.80996738<br />dy: 4.976824e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.87660057<br />dy: 5.009159e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   2.94323377<br />dy: 4.976908e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.00986697<br />dy: 4.844972e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.07650016<br />dy: 4.598004e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.14313336<br />dy: 4.236983e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.20976656<br />dy: 3.780003e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.27639975<br />dy: 3.260257e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.34303295<br />dy: 2.714569e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.40966615<br />dy: 2.180383e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.47629934<br />dy: 1.688199e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.54293254<br />dy: 1.259120e-02<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.60956574<br />dy: 9.053729e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.67619893<br />dy: 6.266399e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.74283213<br />dy: 4.172248e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.80946533<br />dy: 2.680001e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.87609852<br />dy: 1.655081e-03<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   3.94273172<br />dy: 9.818131e-04<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   4.00936492<br />dy: 5.628036e-04<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)","dx:   4.07599811<br />dy: 3.097903e-04<br />interaction(dist_type, sim_number): T Distribution c(8.32, 0.571).1<br />dist_type: T Distribution c(8.32, 0.571)"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)","dash":"solid"},"hoveron":"points","name":"T Distribution c(8.32, 0.571)","legendgroup":"T Distribution c(8.32, 0.571)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Density Plot","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-92.28175518768532,133.49411994795821],"tickmode":"array","ticktext":["-50","0","50","100"],"tickvals":[-50,0,50,100],"categoryorder":"array","categoryarray":["-50","0","50","100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"dx","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.02045072232737518,0.42946516887487873],"tickmode":"array","ticktext":["0.0","0.1","0.2","0.3","0.4"],"tickvals":[0,0.10000000000000001,0.20000000000000001,0.30000000000000004,0.40000000000000002],"categoryorder":"array","categoryarray":["0.0","0.1","0.2","0.3","0.4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"dy","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Simulation","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"9a81fe7533":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"9a81fe7533","visdat":{"9a81fe7533":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>In the above plot, we visualize the output of the <code>util_t_param_estimate()</code> function from the TidyDensity package. The visualization shows how well the estimated t distribution fits our sample data. The x-axis represents the data values, while the y-axis shows the density. The different colors represent the data and the estimated density functions.</p>
</section>
</section>
<section id="how-to-use-the-new-functions" class="level1">
<h1>How to Use the New Functions</h1>
<p>Each of the new parameter estimate functions follows a similar approach. Here’s a step-by-step guide to get you started:</p>
<ol type="1">
<li><strong>Load your data</strong>: Ensure your data is properly formatted and loaded into R.</li>
<li><strong>Select the appropriate function</strong>: Choose the function that matches the distribution you believe your data follows.</li>
<li><strong>Estimate the parameters</strong>: Use the selected function to estimate the parameters.</li>
<li><strong>Analyze and visualize</strong>: Review the estimated parameters and use the visualization functions to see how well the estimated distribution fits your data.</li>
</ol>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p>I highly encourage you to try these new functions on your own datasets. Whether you’re working with common distributions or tackling more specialized ones, these tools can help you gain deeper insights into your data.</p>
<p>Feel free to experiment and see how these functions perform with different types of data. The more you explore, the better you’ll understand the strengths and applications of each distribution.</p>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>The new parameter estimate functions in TidyDensity open up exciting possibilities for data analysis. By simplifying the process of parameter estimation, they allow you to focus more on interpreting results and making informed decisions.</p>
<p>Give these functions a try and see how they can enhance your analysis workflow. Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>tidydensity</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-06-03/</guid>
  <pubDate>Mon, 03 Jun 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>An Overview of the New AIC Functions in the TidyDensity Package</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-31/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>The latest update the the <code>TidyDensity</code> package introduces several new functions that make it easier to work with data in R. In this article, we’ll take a look at the new AIC functions and how they work.</p>
</section>
<section id="new-functions" class="level1">
<h1>New Functions</h1>
<p>The set of functions that we will go over are the <code>util_dist_aic()</code> functions, where <code>dist</code> is the distribution in question, for example <code>util_negative_binomial_aic()</code>. These functions calculate the Akaike Information Criterion (AIC) for a given distribution and data. The AIC is a measure of the relative quality of a statistical model for a given set of data. The lower the AIC value, the better the model fits the data. Here is a bit about the functions.</p>
<section id="usage" class="level2">
<h2 class="anchored" data-anchor-id="usage">Usage</h2>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">util_negative_binomial_aic</span>()</span></code></pre></div>
</section>
<section id="arguments" class="level2">
<h2 class="anchored" data-anchor-id="arguments">Arguments</h2>
<ul>
<li><code>.x</code>: A numeric vector of data values.</li>
</ul>
</section>
<section id="value" class="level2">
<h2 class="anchored" data-anchor-id="value">Value</h2>
<p>A numeric value representing the AIC for the given data and distribution.</p>
</section>
<section id="details" class="level2">
<h2 class="anchored" data-anchor-id="details">Details</h2>
<p>This function calculates the Akaike Information Criterion (AIC) for a distribution fitted to the provided data.</p>
<p>This function fits a distribution to the provided data. It estimates the parameters of the distribution from the data. Then, it calculates the AIC value based on the fitted distribution.</p>
<p>Initial parameter estimates: The function uses the param estimate family of functions in order to estimate the starting point of the parameters. For example <code>util_negative_binomial_param_estimate()</code>.</p>
<p>Optimization method: Since the parameters are directly calculated from the data, no optimization is needed.</p>
<p>Goodness-of-fit: While AIC is a useful metric for model comparison, it’s recommended to also assess the goodness-of-fit of the chosen model using visualization and other statistical tests.</p>
</section>
<section id="examples" class="level2">
<h2 class="anchored" data-anchor-id="examples">Examples</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(TidyDensity)</span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">123</span>)</span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Generate some data</span></span>
<span id="cb2-5">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)</span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Calculate the AIC for a negative binomial distribution</span></span>
<span id="cb2-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(</span>
<span id="cb2-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" AIC of rnorm() using TidyDensity: "</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">util_normal_aic</span>(x), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>,</span>
<span id="cb2-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AIC of rnorm() using fitdistrplus: "</span>, </span>
<span id="cb2-11">  fitdistrplus<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fitdist</span>(x, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"norm"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>aic</span>
<span id="cb2-12">)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> AIC of rnorm() using TidyDensity:  268.5385 
 AIC of rnorm() using fitdistrplus:  268.5385</code></pre>
</div>
</div>
</section>
<section id="new-aic-functions" class="level2">
<h2 class="anchored" data-anchor-id="new-aic-functions">New AIC Functions</h2>
<p>Here is a listing of all of the new AIC functions:</p>
<ul>
<li><code>util_negative_binomial_aic()</code></li>
<li><code>util_zero_truncated_negative_binomial_aic()</code></li>
<li><code>util_zero_truncated_poisson_aic()</code></li>
<li><code>util_f_aic()</code></li>
<li><code>util_zero_truncated_geometric_aic()</code></li>
<li><code>util_t_aic()</code></li>
<li><code>util_pareto1_aic()</code></li>
<li><code>util_paralogistic_aic()</code></li>
<li><code>util_inverse_weibull_aic()</code></li>
<li><code>util_pareto_aic()</code></li>
<li><code>util_inverse_burr_aic()</code></li>
<li><code>util_generalized_pareto_aic()</code></li>
<li><code>util_generalized_beta_aic()</code></li>
<li><code>util_zero_truncated_binomial_aic()</code></li>
</ul>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Thanks for reading. I hope you find these new functions useful in your work. If you have any questions or feedback, please feel free to reach out. I worked hard to ensure where I could that results would come back identical to what would be calculated from the amazing <code>fitdistrplus</code> package.</p>
<p>Happy Coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>tidydensity</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-31/</guid>
  <pubDate>Fri, 31 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Exciting New Updates to TidyDensity: Enhancing Distribution Analysis!</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-30/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hello, fellow R enthusiasts! I’m thrilled to share some fantastic updates to the TidyDensity package. These updates bring a wealth of new features, functions, and enhancements, making distribution analysis more comprehensive and efficient. Let’s dive into the details!</p>
<section id="new-features" class="level2">
<h2 class="anchored" data-anchor-id="new-features">New Features</h2>
<section id="negative-binomial-distribution" class="level3">
<h3 class="anchored" data-anchor-id="negative-binomial-distribution">Negative Binomial Distribution</h3>
<ul>
<li><strong>util_negative_binomial_aic()</strong>: Calculate the Akaike Information Criterion (AIC) for the negative binomial distribution. This function aids in model selection, helping you determine the best-fitting model for your data.</li>
</ul>
</section>
<section id="zero-truncated-negative-binomial-distribution" class="level3">
<h3 class="anchored" data-anchor-id="zero-truncated-negative-binomial-distribution">Zero-Truncated Negative Binomial Distribution</h3>
<ul>
<li><strong>util_zero_truncated_negative_binomial_param_estimate()</strong>: Estimate the parameters of the zero-truncated negative binomial distribution.</li>
<li><strong>util_zero_truncated_negative_binomial_aic()</strong>: Calculate the AIC for the zero-truncated negative binomial distribution.</li>
<li><strong>util_zero_truncated_negative_binomial_stats_tbl()</strong>: Create a summary table for the zero-truncated negative binomial distribution.</li>
</ul>
</section>
<section id="zero-truncated-poisson-distribution" class="level3">
<h3 class="anchored" data-anchor-id="zero-truncated-poisson-distribution">Zero-Truncated Poisson Distribution</h3>
<ul>
<li><strong>util_zero_truncated_poisson_param_estimate()</strong>: Estimate the parameters of the zero-truncated Poisson distribution.</li>
<li><strong>util_zero_truncated_poisson_aic()</strong>: Calculate the AIC for the zero-truncated Poisson distribution.</li>
<li><strong>util_zero_truncated_poisson_stats_tbl()</strong>: Create a summary table for the zero-truncated Poisson distribution.</li>
</ul>
</section>
<section id="f-distribution" class="level3">
<h3 class="anchored" data-anchor-id="f-distribution">F Distribution</h3>
<ul>
<li><strong>util_f_param_estimate()</strong>: Estimate the parameters for the F distribution.</li>
<li><strong>util_f_aic()</strong>: Calculate the AIC for the F distribution.</li>
</ul>
</section>
<section id="zero-truncated-geometric-distribution" class="level3">
<h3 class="anchored" data-anchor-id="zero-truncated-geometric-distribution">Zero-Truncated Geometric Distribution</h3>
<ul>
<li><strong>util_zero_truncated_geometric_param_estimate()</strong>: Estimate the parameters of the zero-truncated geometric distribution.</li>
<li><strong>util_zero_truncated_geometric_aic()</strong>: Calculate the AIC for the zero-truncated geometric distribution.</li>
<li><strong>util_zero_truncated_geometric_stats_tbl()</strong>: Create a summary table for the zero-truncated geometric distribution.</li>
</ul>
</section>
<section id="triangular-distribution" class="level3">
<h3 class="anchored" data-anchor-id="triangular-distribution">Triangular Distribution</h3>
<ul>
<li><strong>util_triangular_aic()</strong>: Calculate the AIC for the triangular distribution.</li>
</ul>
</section>
<section id="t-distribution" class="level3">
<h3 class="anchored" data-anchor-id="t-distribution">T Distribution</h3>
<ul>
<li><strong>util_t_param_estimate()</strong>: Estimate the parameters of the T distribution.</li>
<li><strong>util_t_aic()</strong>: Calculate the AIC for the T distribution.</li>
</ul>
</section>
<section id="pareto-type-i-distribution" class="level3">
<h3 class="anchored" data-anchor-id="pareto-type-i-distribution">Pareto Type I Distribution</h3>
<ul>
<li><strong>util_pareto1_param_estimate()</strong>: Estimate the parameters of the Pareto Type I distribution.</li>
<li><strong>util_pareto1_aic()</strong>: Calculate the AIC for the Pareto Type I distribution.</li>
<li><strong>util_pareto1_stats_tbl()</strong>: Create a summary table for the Pareto Type I distribution.</li>
</ul>
</section>
<section id="paralogistic-distribution" class="level3">
<h3 class="anchored" data-anchor-id="paralogistic-distribution">Paralogistic Distribution</h3>
<ul>
<li><strong>util_paralogistic_param_estimate()</strong>: Estimate the parameters of the paralogistic distribution.</li>
<li><strong>util_paralogistic_aic()</strong>: Calculate the AIC for the paralogistic distribution.</li>
<li><strong>util_paralogistic_stats_tbl()</strong>: Create a summary table for the paralogistic distribution.</li>
</ul>
</section>
<section id="inverse-weibull-distribution" class="level3">
<h3 class="anchored" data-anchor-id="inverse-weibull-distribution">Inverse Weibull Distribution</h3>
<ul>
<li><strong>util_inverse_weibull_param_estimate()</strong>: Estimate the parameters of the Inverse Weibull distribution.</li>
<li><strong>util_inverse_weibull_aic()</strong>: Calculate the AIC for the Inverse Weibull distribution.</li>
<li><strong>util_inverse_weibull_stats_tbl()</strong>: Create a summary table for the Inverse Weibull distribution.</li>
</ul>
</section>
<section id="inverse-pareto-distribution" class="level3">
<h3 class="anchored" data-anchor-id="inverse-pareto-distribution">Inverse Pareto Distribution</h3>
<ul>
<li><strong>util_inverse_pareto_param_estimate()</strong>: Estimate the parameters of the Inverse Pareto distribution.</li>
<li><strong>util_inverse_pareto_aic()</strong>: Calculate the AIC for the Inverse Pareto distribution.</li>
<li><strong>util_inverse_pareto_stats_tbl()</strong>: Create a summary table for the Inverse Pareto distribution.</li>
</ul>
</section>
<section id="inverse-gamma-distribution" class="level3">
<h3 class="anchored" data-anchor-id="inverse-gamma-distribution">Inverse Gamma Distribution</h3>
<ul>
<li><strong>util_inverse_burr_param_estimate()</strong>: Estimate the parameters of the Inverse Gamma distribution.</li>
<li><strong>util_inverse_burr_aic()</strong>: Calculate the AIC for the Inverse Gamma distribution.</li>
<li><strong>util_inverse_burr_stats_tbl()</strong>: Create a summary table for the Inverse Gamma distribution.</li>
</ul>
</section>
<section id="generalized-pareto-distribution" class="level3">
<h3 class="anchored" data-anchor-id="generalized-pareto-distribution">Generalized Pareto Distribution</h3>
<ul>
<li><strong>util_generalized_pareto_param_estimate()</strong>: Estimate the parameters of the Generalized Pareto distribution.</li>
<li><strong>util_generalized_pareto_aic()</strong>: Calculate the AIC for the Generalized Pareto distribution.</li>
<li><strong>util_generalized_pareto_stats_tbl()</strong>: Create a summary table for the Generalized Pareto distribution.</li>
</ul>
</section>
<section id="generalized-gamma-distribution" class="level3">
<h3 class="anchored" data-anchor-id="generalized-gamma-distribution">Generalized Gamma Distribution</h3>
<ul>
<li><strong>util_generalized_beta_param_estimate()</strong>: Estimate the parameters of the Generalized Gamma distribution.</li>
<li><strong>util_generalized_beta_aic()</strong>: Calculate the AIC for the Generalized Gamma distribution.</li>
<li><strong>util_generalized_beta_stats_tbl()</strong>: Create a summary table for the Generalized Gamma distribution.</li>
</ul>
</section>
<section id="zero-truncated-binomial-distribution" class="level3">
<h3 class="anchored" data-anchor-id="zero-truncated-binomial-distribution">Zero-Truncated Binomial Distribution</h3>
<ul>
<li><strong>util_zero_truncated_binomial_stats_tbl()</strong>: Create a summary table for the Zero Truncated binomial distribution.</li>
<li><strong>util_zero_truncated_binomial_param_estimate()</strong>: Estimate the parameters of the Zero Truncated binomial distribution.</li>
<li><strong>util_zero_truncated_binomial_aic()</strong>: Calculate the AIC for the Zero Truncated binomial distribution.</li>
</ul>
</section>
</section>
<section id="minor-improvements-and-fixes" class="level2">
<h2 class="anchored" data-anchor-id="minor-improvements-and-fixes">Minor Improvements and Fixes</h2>
<ul>
<li><strong>util_negative_binomial_param_estimate()</strong>: Updated to use <code>optim()</code> for parameter estimation, enhancing accuracy and efficiency.</li>
<li><strong>quantile_normalize()</strong>: Added names to columns when <code>.return_tibble = TRUE</code> for better readability and usability.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>These updates significantly expand the functionality of TidyDensity, providing more tools for robust distribution analysis. Whether you’re working with standard or specialized distributions, these new functions and improvements will streamline your workflow and enhance your analytical capabilities.</p>
<p>I encourage you to explore these new features and see how they can benefit your projects. As always, your feedback is invaluable, so please share your thoughts and experiences with these updates. Happy coding!</p>


</section>
</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-30/</guid>
  <pubDate>Thu, 30 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Introducing get_provider_meta_data() in healthyR.data</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-29/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hello, R enthusiasts!</p>
<p>Today, I’m excited to introduce a new function in the <strong>healthyR.data</strong> package: <code>get_provider_meta_data()</code>. This function is excellent for anyone working with healthcare datasets, making it easy to fetch and filter metadata from the Centers for Medicare &amp; Medicaid Services (CMS) repository.</p>
</section>
<section id="overview" class="level1">
<h1>Overview</h1>
<p>The <code>get_provider_meta_data()</code> function simplifies the process of retrieving and managing metadata for healthcare datasets. By allowing users to filter data based on various criteria, it streamlines data management and enhances analytical capabilities.</p>
</section>
<section id="syntax-and-arguments" class="level1">
<h1>Syntax and Arguments</h1>
<p>The function syntax is straightforward and highly customizable:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_provider_meta_data</span>(</span>
<span id="cb1-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.identifier =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.title =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.description =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.issued =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.modified =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.released =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.theme =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.media_type =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span></span>
<span id="cb1-11">)</span></code></pre></div>
<p>Here’s a breakdown of the arguments:</p>
<ul>
<li><strong>.identifier</strong>: A dataset identifier to filter the data.</li>
<li><strong>.title</strong>: A title to filter the data.</li>
<li><strong>.description</strong>: A description to filter the data.</li>
<li><strong>.keyword</strong>: A keyword to filter the data.</li>
<li><strong>.issued</strong>: A date when the dataset was issued to filter the data.</li>
<li><strong>.modified</strong>: A date when the dataset was modified to filter the data.</li>
<li><strong>.released</strong>: A date when the dataset was released to filter the data.</li>
<li><strong>.theme</strong>: A theme to filter the data.</li>
<li><strong>.media_type</strong>: A media type to filter the data.</li>
</ul>
</section>
<section id="what-it-returns" class="level1">
<h1>What It Returns</h1>
<p>The function returns a tidy tibble containing metadata about the datasets. This tibble includes the following columns:</p>
<ul>
<li><strong>identifier</strong></li>
<li><strong>title</strong></li>
<li><strong>description</strong></li>
<li><strong>keyword</strong></li>
<li><strong>issued</strong></li>
<li><strong>modified</strong></li>
<li><strong>released</strong></li>
<li><strong>theme</strong></li>
<li><strong>media_type</strong></li>
<li><strong>download_url</strong></li>
<li><strong>contact_fn</strong></li>
<li><strong>contact_email</strong></li>
<li><strong>publisher_name</strong></li>
</ul>
</section>
<section id="details" class="level1">
<h1>Details</h1>
<p>When you call <code>get_provider_meta_data()</code>, it fetches JSON data from the CMS metadata URL. The function then processes this data by: 1. Selecting relevant columns. 2. Unnesting nested lists. 3. Cleaning column names. 4. Processing dates and media types for enhanced usability.</p>
</section>
<section id="practical-example" class="level1">
<h1>Practical Example</h1>
<p>Let’s walk through an example to see how <code>get_provider_meta_data()</code> works in action.</p>
<p>Suppose we want to retrieve metadata for a dataset based upong a specific data identifier? Here’s how we can do it:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(healthyR.data)</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyr)</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Retrieve metadata for a datset with identifier "3614-1eef"</span></span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_provider_meta_data</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.identifier =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3614-1eef"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 16
$ identifier      &lt;chr&gt; "3614-1eef"
$ title           &lt;chr&gt; "Addiction Medicine Office Visit Costs"
$ description     &lt;chr&gt; "Returns addiction medicine office visit costs per zip…
$ keyword         &lt;list&gt; "Addiction Medicine"
$ issued          &lt;date&gt; 2022-07-11
$ modified        &lt;date&gt; 2022-07-11
$ released        &lt;date&gt; 2023-09-28
$ landing_page    &lt;chr&gt; "https://data.medicare.gov/provider-data/dataset/3614-…
$ theme           &lt;list&gt; "Physician office visit costs"
$ access_level    &lt;chr&gt; "public"
$ archive_exclude &lt;lgl&gt; NA
$ contact_fn      &lt;chr&gt; "PPL Dataset"
$ contact_email   &lt;chr&gt; "PPL_Dataset@cms.hhs.gov"
$ publisher_name  &lt;chr&gt; "Centers for Medicare &amp; Medicaid Services (CMS)"
$ download_url    &lt;chr&gt; "https://data.cms.gov/provider-data/sites/default/file…
$ media_type      &lt;chr&gt; "text/csv"</code></pre>
</div>
</div>
<p>In this example, we are filtering the metadata based on the dataset identifier “3614-1eef”. The <code>glimpse()</code> function allows us to view the structure of the resulting tibble.</p>
<p>Now, what if we want to filter data that meets a certain keyword? Here’s how we can do that:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">provider_data_tbl <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_provider_meta_data</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"medic"</span>)</span>
<span id="cb4-2"></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Let's see all the titles that contain the keyword "medic"</span></span>
<span id="cb4-4">provider_data_tbl[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span>]]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Addiction Medicine Office Visit Costs"                                     
 [2] "Emergency Medicine Office Visit Costs"                                     
 [3] "Geriatric Medicine Office Visit Costs"                                     
 [4] "Internal Medicine Office Visit Costs"                                      
 [5] "Medical Genetics and Genomics Office Visit Costs"                          
 [6] "Medical Oncology Office Visit Costs"                                       
 [7] "Medical Toxicology Office Visit Costs"                                     
 [8] "Nuclear Medicine Office Visit Costs"                                       
 [9] "Osteopathic Manipulative Medicine Office Visit Costs"                      
[10] "Pediatric Medicine Office Visit Costs"                                     
[11] "Physical Medicine and Rehabilitation Office Visit Costs"                   
[12] "Preventive Medicine Office Visit Costs"                                    
[13] "Sleep Medicine Office Visit Costs"                                         
[14] "Sports Medicine Office Visit Costs"                                        
[15] "Undersea and Hyperbaric Medicine Office Visit Costs"                       
[16] "Medical Equipment Suppliers"                                               
[17] "Home Health Care - Patient Survey (HHCAHPS) 2022Q4 to 2023Q3"              
[18] "Home Health Care - Patient Survey (HHCAHPS) National Data 2022Q4 to 2023Q3"
[19] "Home Health Care - Patient Survey (HHCAHPS) State Data 2022Q4 to 2023Q3"   
[20] "Home Health Care - Patient Survey (HHCAHPS) Measure Dates 2022Q4 to 2023Q3"
[21] "Medicare Spending Per Beneficiary - Hospital Additional Decimal Places"    
[22] "Hospital Value-Based Purchasing (HVBP) - Efficiency Scores"                
[23] "Medicare Hospital Spending by Claim"                                       
[24] "Medicare Spending Per Beneficiary - Hospital"                              
[25] "Medicare Spending Per Beneficiary - National"                              
[26] "Medicare Spending Per Beneficiary - State"                                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Now let's group them by theme</span></span>
<span id="cb6-2">provider_data_tbl <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb6-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">count</span>(theme, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sort =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb6-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unnest</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(theme))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  theme                            n
  &lt;chr&gt;                        &lt;int&gt;
1 Physician office visit costs    15
2 Hospitals                        6
3 Home health services             4
4 Supplier directory               1</code></pre>
</div>
</div>
<p>In this example, the metadata is filtered based on the keyword “medic”. We then extract the titles containing the keyword and group them by theme to see the distribution of themes in the filtered data. Notice that we filtered the keyword not on a full word but on a partial match, which can be useful for broad searches.</p>
</section>
<section id="benefits-of-using-get_provider_meta_data" class="level1">
<h1>Benefits of Using <code>get_provider_meta_data()</code></h1>
<p>This function is particularly useful for:</p>
<ul>
<li><strong>Data Scientists and Analysts</strong>: Quickly finding relevant datasets without manually searching through large repositories.</li>
<li><strong>Healthcare Researchers</strong>: Accessing comprehensive metadata to support research and analysis.</li>
<li><strong>Developers</strong>: Integrating CMS metadata retrieval into applications or workflows with minimal effort.</li>
</ul>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>The <code>get_provider_meta_data()</code> function is a robust tool for anyone working with healthcare data. It not only saves time but also provides a cleaner, more efficient way to manage and analyze dataset metadata.</p>
<p>Give it a try and see how it can enhance your data workflows. Happy coding!</p>
<p>Feel free to share your experiences and any creative ways you’re using this function in the comments below. Until next time, keep exploring and innovating with R!</p>
<hr>
<p>Steve</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>healthyrdata</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-29/</guid>
  <pubDate>Wed, 29 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Unveiling the Power of get_cms_meta_data() in healthyR.data</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-28/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Hey, R users! 🌟 Today, we’re going to look at a great new addition to the <strong>healthyR.data</strong> package—the <code>get_cms_meta_data()</code> function! This function is a helpful tool for retrieving and analyzing metadata from CMS (Centers for Medicare &amp; Medicaid Services) datasets. Whether you’re a healthcare analyst, data scientist, or R programming fan, you’ll find this function very useful. Let’s break it down and explore how it works.</p>
<section id="overview-of-get_cms_meta_data" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-get_cms_meta_data">Overview of <code>get_cms_meta_data()</code></h2>
<p>The <code>get_cms_meta_data()</code> function lets you retrieve metadata from CMS datasets easily. You can customize your search using various parameters, ensuring you get precisely the data you need. Here’s the syntax:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_cms_meta_data</span>(</span>
<span id="cb1-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.title =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.modified_date =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.identifier =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.data_version =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"current"</span>,</span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.media_type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"all"</span></span>
<span id="cb1-8">)</span></code></pre></div>
<section id="arguments" class="level3">
<h3 class="anchored" data-anchor-id="arguments">Arguments:</h3>
<ul>
<li><code>.title</code>: Search by title.</li>
<li><code>.modified_date</code>: Search by modified date (format: “YYYY-MM-DD”).</li>
<li><code>.keyword</code>: Search by keyword.</li>
<li><code>.identifier</code>: Search by identifier.</li>
<li><code>.data_version</code>: Choose between “current”, “archive”, or “all”. Default is “current”.</li>
<li><code>.media_type</code>: Filter by media type (“all”, “csv”, “API”, “other”). Default is “all”.</li>
</ul>
</section>
<section id="return-value" class="level3">
<h3 class="anchored" data-anchor-id="return-value">Return Value:</h3>
<p>A tibble containing data links and relevant metadata about the datasets.</p>
</section>
<section id="details" class="level3">
<h3 class="anchored" data-anchor-id="details">Details:</h3>
<p>The function fetches JSON data from the CMS data URL and extracts relevant fields to create a tidy tibble. It selects specific columns, handles nested lists by unnesting them, cleans column names, and processes dates and media types to make the data more useful for analysis. The columns in the returned tibble include:</p>
<ul>
<li><code>title</code></li>
<li><code>description</code></li>
<li><code>landing_page</code></li>
<li><code>modified</code></li>
<li><code>keyword</code></li>
<li><code>described_by</code></li>
<li><code>fn</code></li>
<li><code>has_email</code></li>
<li><code>identifier</code></li>
<li><code>start</code></li>
<li><code>end</code></li>
<li><code>references</code></li>
<li><code>distribution_description</code></li>
<li><code>distribution_title</code></li>
<li><code>distribution_modified</code></li>
<li><code>distribution_start</code></li>
<li><code>distribution_end</code></li>
<li><code>media_type</code></li>
<li><code>data_link</code></li>
</ul>
</section>
</section>
<section id="practical-examples" class="level2">
<h2 class="anchored" data-anchor-id="practical-examples">Practical Examples</h2>
<p>Let’s see the <code>get_cms_meta_data()</code> function in action with a couple of examples.</p>
<section id="example-1-basic-usage" class="level3">
<h3 class="anchored" data-anchor-id="example-1-basic-usage">Example 1: Basic Usage</h3>
<p>First, we’ll load the necessary libraries and fetch some metadata:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Library Loads</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(healthyR.data)</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get data</span></span>
<span id="cb2-6">cms_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_cms_meta_data</span>()</span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>(cms_data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 107
Columns: 19
$ title                    &lt;chr&gt; "Accountable Care Organization Participants",…
$ description              &lt;chr&gt; "The Accountable Care Organization Participan…
$ landing_page             &lt;chr&gt; "https://data.cms.gov/medicare-shared-savings…
$ modified                 &lt;date&gt; 2024-01-29, 2024-04-23, 2024-01-12, 2024-01-…
$ keyword                  &lt;list&gt; &lt;"Medicare", "Value-Based Care", "Coordinate…
$ described_by             &lt;chr&gt; "https://data.cms.gov/resources/accountable-c…
$ fn                       &lt;chr&gt; "Shared Savings Program - CM", "Shared Saving…
$ has_email                &lt;chr&gt; "SharedSavingsProgram@cms.hhs.gov", "SharedSa…
$ identifier               &lt;chr&gt; "https://data.cms.gov/data-api/v1/dataset/976…
$ start                    &lt;date&gt; 2014-01-01, 2017-01-01, 2021-01-01, 2021-01-…
$ end                      &lt;date&gt; 2024-12-31, 2024-12-31, 2021-12-31, 2021-12-…
$ references               &lt;chr&gt; "https://data.cms.gov/resources/acos-aco-part…
$ distribution_description &lt;chr&gt; "latest", "latest", "latest", "latest", "late…
$ distribution_title       &lt;chr&gt; "Accountable Care Organization Participants",…
$ distribution_modified    &lt;date&gt; 2024-01-29, 2024-04-23, 2024-01-12, 2024-01-…
$ distribution_start       &lt;date&gt; 2024-01-01, 2024-01-01, 2021-01-01, 2021-01-…
$ distribution_end         &lt;date&gt; 2024-12-31, 2024-12-31, 2021-12-31, 2021-12-…
$ media_type               &lt;chr&gt; "API", "API", "API", "API", "API", "API", "AP…
$ data_link                &lt;chr&gt; "https://data.cms.gov/data-api/v1/dataset/976…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Attributes</span></span>
<span id="cb4-2">atb <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">attributes</span>(cms_data)</span>
<span id="cb4-3">atb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>names</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "title"                    "description"             
 [3] "landing_page"             "modified"                
 [5] "keyword"                  "described_by"            
 [7] "fn"                       "has_email"               
 [9] "identifier"               "start"                   
[11] "end"                      "references"              
[13] "distribution_description" "distribution_title"      
[15] "distribution_modified"    "distribution_start"      
[17] "distribution_end"         "media_type"              
[19] "data_link"               </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">atb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>class</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "cms_meta_data" "tbl_df"        "tbl"           "data.frame"   </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">atb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>url</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "https://data.cms.gov/data.json"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">atb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>date_retrieved</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2024-05-28 10:20:18 EDT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">atb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>parameters</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$.data_version
[1] "current"

$.media_type
[1] "all"

$.title
NULL

$.modified_date
NULL

$.keyword
NULL

$.identifier
NULL</code></pre>
</div>
</div>
<p>In this example, we’re simply calling <code>get_cms_meta_data()</code> without any parameters. This fetches the default dataset metadata. The <code>glimpse()</code> function from the <code>dplyr</code> package provides a quick overview of the data structure.</p>
</section>
<section id="example-2-custom-search-by-keyword-and-title" class="level3">
<h3 class="anchored" data-anchor-id="example-2-custom-search-by-keyword-and-title">Example 2: Custom Search by Keyword and Title</h3>
<p>Now, let’s refine our search by specifying a keyword and title:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_cms_meta_data</span>(</span>
<span id="cb14-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nation"</span>,</span>
<span id="cb14-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Market Saturation &amp; Utilization State-County"</span></span>
<span id="cb14-4">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb14-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 19
$ title                    &lt;chr&gt; "Market Saturation &amp; Utilization State-County"
$ description              &lt;chr&gt; "The Market Saturation and Utilization State-…
$ landing_page             &lt;chr&gt; "https://data.cms.gov/summary-statistics-on-u…
$ modified                 &lt;date&gt; 2024-04-02
$ keyword                  &lt;list&gt; &lt;"National", "States &amp; Territories", "Countie…
$ described_by             &lt;chr&gt; "https://data.cms.gov/resources/market-satur…
$ fn                       &lt;chr&gt; "Market Saturation - CPI"
$ has_email                &lt;chr&gt; "MarketSaturation@cms.hhs.gov"
$ identifier               &lt;chr&gt; "https://data.cms.gov/data-api/v1/dataset/89…
$ start                    &lt;date&gt; 2023-10-01
$ end                      &lt;date&gt; 2023-12-31
$ references               &lt;chr&gt; "https://data.cms.gov/resources/market-satura…
$ distribution_description &lt;chr&gt; "latest"
$ distribution_title       &lt;chr&gt; "Market Saturation &amp; Utilization StateCounty"
$ distribution_modified    &lt;date&gt; 2024-04-02
$ distribution_start       &lt;date&gt; 2023-10-01
$ distribution_end         &lt;date&gt; 2023-12-31
$ media_type               &lt;chr&gt; "API"
$ data_link                &lt;chr&gt; "https://data.cms.gov/data-api/v1/dataset/890…</code></pre>
</div>
</div>
<p>In this example, we filter the metadata by the keyword “nation” and the title “Market Saturation &amp; Utilization State-County”. The pipe operator (<code>|&gt;</code>) is used to pass the result directly into the <code>glimpse()</code> function for a quick preview.</p>
</section>
</section>
<section id="breaking-down-the-code" class="level2">
<h2 class="anchored" data-anchor-id="breaking-down-the-code">Breaking Down the Code</h2>
<p>Let’s break down the code blocks to understand what they’re doing:</p>
<section id="basic-usage" class="level3">
<h3 class="anchored" data-anchor-id="basic-usage">Basic Usage</h3>
<ol type="1">
<li><p><strong>Load Libraries</strong>:</p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(healthyR.data)</span>
<span id="cb16-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span></code></pre></div>
<p>We load the <code>healthyR.data</code> package to access the <code>get_cms_meta_data()</code> function and the <code>dplyr</code> package for data manipulation.</p></li>
<li><p><strong>Fetch Metadata</strong>:</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">cms_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_cms_meta_data</span>()</span></code></pre></div>
<p>We call <code>get_cms_meta_data()</code> without any parameters to get the default dataset metadata.</p></li>
<li><p><strong>Preview Data</strong>:</p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>(cms_data)</span></code></pre></div>
<p>The <code>glimpse()</code> function gives us a quick look at the structure and contents of the fetched metadata.</p></li>
</ol>
</section>
<section id="custom-search" class="level3">
<h3 class="anchored" data-anchor-id="custom-search">Custom Search</h3>
<ol type="1">
<li><p><strong>Custom Search Call</strong>:</p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_cms_meta_data</span>(</span>
<span id="cb19-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nation"</span>,</span>
<span id="cb19-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Market Saturation &amp; Utilization State-County"</span></span>
<span id="cb19-4">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb19-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glimpse</span>()</span></code></pre></div>
<p>Here, we call <code>get_cms_meta_data()</code> with specific parameters for keyword and title to narrow down our search. The result is passed to <code>glimpse()</code> using the pipe operator for an immediate preview.</p></li>
</ol>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The <code>get_cms_meta_data()</code> function is a versatile and flexible tool for accessing CMS metadata, making your data analysis tasks more efficient and effective. Whether you’re looking for specific datasets or just exploring the available metadata, this function has got you covered.</p>
<p>Try out <code>get_cms_meta_data()</code> in your next R project and explore the potential of CMS data with ease! Happy coding! 🚀</p>


</section>
</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>healthyrdata</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-28/</guid>
  <pubDate>Tue, 28 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Update to healthyR.data 1.1.0</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-24/</link>
  <description><![CDATA[ 





<section id="announcing-the-latest-updates-to-the-healthyr.data-r-package" class="level1">
<h1>Announcing the Latest Updates to the healthyR.data R Package</h1>
<p>I’m excited to share the latest updates to the healthyR.data R package! This release brings new functionality and minor improvements, all aimed at making your data management tasks easier and more efficient. Here’s a breakdown of what’s new:</p>
<section id="new-functions" class="level2">
<h2 class="anchored" data-anchor-id="new-functions">New Functions</h2>
<section id="get_cms_meta_data" class="level3">
<h3 class="anchored" data-anchor-id="get_cms_meta_data"><code>get_cms_meta_data()</code></h3>
<p>This new function is designed to retrieve metadata from the Centers for Medicare &amp; Medicaid Services (CMS). Whether you’re working on health research, policy analysis, or clinical studies, this function provides a straightforward way to access essential CMS data.</p>
<p><a href="https://www.spsanderson.com/healthyR.data/reference/get_cms_meta_data.html">Learn more about <code>get_cms_meta_data()</code></a></p>
<p>Syntax:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_cms_meta_data</span>(</span>
<span id="cb1-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.title =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.modified_date =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.identifier =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb1-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.data_version =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"current"</span>,</span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.media_type =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"all"</span></span>
<span id="cb1-8">)</span></code></pre></div>
</section>
<section id="get_provider_meta_data" class="level3">
<h3 class="anchored" data-anchor-id="get_provider_meta_data"><code>get_provider_meta_data()</code></h3>
<p>Similarly, the <code>get_provider_meta_data()</code> function allows you to fetch metadata related to healthcare providers. This can be particularly useful for projects that require comprehensive information about provider attributes and characteristics.</p>
<p><a href="https://www.spsanderson.com/healthyR.data/reference/get_provider_meta_data.html">Learn more about <code>get_provider_meta_data()</code></a></p>
<p>Syntax:</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">get_provider_meta_data</span>(</span>
<span id="cb2-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.identifier =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.title =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.description =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.keyword =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.issued =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.modified =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.released =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.theme =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span>,</span>
<span id="cb2-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.media_type =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NULL</span></span>
<span id="cb2-11">)</span></code></pre></div>
</section>
<section id="fetch_cms_data-and-fetch_provider_data" class="level3">
<h3 class="anchored" data-anchor-id="fetch_cms_data-and-fetch_provider_data"><code>fetch_cms_data()</code> and <code>fetch_provider_data()</code></h3>
<p>We’ve also added <code>fetch_cms_data()</code> and <code>fetch_provider_data()</code>, two powerful functions for fetching actual data from CMS and healthcare providers, respectively. These functions are perfect for those who need to integrate large datasets into their workflows seamlessly.</p>
<p><a href="https://www.spsanderson.com/healthyR.data/reference/fetch_cms_data.html">Learn more about <code>fetch_cms_data()</code></a></p>
<p><a href="https://www.spsanderson.com/healthyR.data/reference/fetch_provider_data.html">Learn more about <code>fetch_provider_data()</code></a></p>
<p>Syntax:</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fetch_cms_data</span>(.data_link)</span></code></pre></div>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fetch_provider_data</span>(.data_link)</span></code></pre></div>
</section>
</section>
<section id="minor-fixes-and-improvements" class="level2">
<h2 class="anchored" data-anchor-id="minor-fixes-and-improvements">Minor Fixes and Improvements</h2>
<section id="bug-fix-in-current_hosp_data" class="level3">
<h3 class="anchored" data-anchor-id="bug-fix-in-current_hosp_data">Bug Fix in <code>current_hosp_data()</code></h3>
<p>We’ve addressed a bug related to directory file paths in the <code>current_hosp_data()</code> function. This fix ensures smoother operation and better reliability when managing hospital data.</p>
<p><a href="https://www.spsanderson.com/healthyR.data/reference/current_hosp_data.html">Learn more about <code>current_hosp_data()</code></a></p>
</section>
</section>
<section id="no-breaking-changes" class="level2">
<h2 class="anchored" data-anchor-id="no-breaking-changes">No Breaking Changes</h2>
<p>I’m pleased to report that this update does not include any breaking changes. You can upgrade to the latest version without worrying about compatibility issues with your existing code.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>These enhancements to the healthyR.data package are all about providing more robust tools for healthcare data analysis. I hope these new functions and fixes will improve your workflows and make your data management tasks more efficient.</p>
<p>As always, I welcome your feedback and suggestions. Happy coding!</p>
<p>Best regards, Steve Sanderson</p>
<hr>
<p>Feel free to reach out if you have any questions or need further assistance with these new features. Your feedback is invaluable in helping us improve healthyR.data continuously.</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>healthyrdata</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-24/</guid>
  <pubDate>Fri, 24 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Drop or Select Rows with a Specific String in R</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-23/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p><em>Good morning, everyone!</em></p>
<p>Today, we’re going to talk about how to handle rows in your dataset that contain a specific string. This is a common task in data cleaning and can be easily accomplished using both base R and the <code>dplyr</code> package. We’ll go through examples for each method and break down the code so you can understand and apply it to your own data.</p>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="using-base-r" class="level2">
<h2 class="anchored" data-anchor-id="using-base-r">Using Base R</h2>
<p>First, let’s see how to select and drop rows containing a specific string using base R. We’ll use the <code>grep()</code> function for this.</p>
<section id="example-data" class="level3">
<h3 class="anchored" data-anchor-id="example-data">Example Data</h3>
<p>Let’s create a simple data frame to work with:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb1-2">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,</span>
<span id="cb1-3">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">name =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cherry"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elderberry"</span>),</span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stringsAsFactors =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb1-5">)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id       name
1  1      apple
2  2     banana
3  3     cherry
4  4       date
5  5 elderberry</code></pre>
</div>
</div>
</section>
<section id="selecting-rows-with-a-specific-string" class="level3">
<h3 class="anchored" data-anchor-id="selecting-rows-with-a-specific-string">Selecting Rows with a Specific String</h3>
<p>Suppose we want to select rows where the name contains the letter “a”. We can use <code>grep()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">selected_rows <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> data[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span>, data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>name), ]</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(selected_rows)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id   name
1  1  apple
2  2 banana
4  4   date</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>grep("a", data$name)</code> searches for the letter “a” in the <code>name</code> column and returns the indices of the rows that match.</li>
<li><code>data[grep("a", data$name), ]</code> uses these indices to subset the original data frame.</li>
</ul>
</section>
<section id="dropping-rows-with-a-specific-string" class="level3">
<h3 class="anchored" data-anchor-id="dropping-rows-with-a-specific-string">Dropping Rows with a Specific String</h3>
<p>To drop rows that contain the letter “a”, we can use the <code>-grep()</code> notation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">dropped_rows <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> data[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span>, data<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>name), ]</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(dropped_rows)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id       name
3  3     cherry
5  5 elderberry</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>-grep("a", data$name)</code> returns the indices of the rows that do not match the search term.</li>
<li><code>data[-grep("a", data$name), ]</code> subsets the original data frame by excluding these rows.</li>
</ul>
</section>
</section>
<section id="using-dplyr" class="level2">
<h2 class="anchored" data-anchor-id="using-dplyr">Using dplyr</h2>
<p>The <code>dplyr</code> package makes these tasks even more straightforward with its intuitive functions.</p>
<section id="example-data-1" class="level3">
<h3 class="anchored" data-anchor-id="example-data-1">Example Data</h3>
<p>We’ll use the same data frame as before. First, make sure you have <code>dplyr</code> installed and loaded:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#install.packages("dplyr")</span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span></code></pre></div>
</div>
</section>
<section id="selecting-rows-with-a-specific-string-1" class="level3">
<h3 class="anchored" data-anchor-id="selecting-rows-with-a-specific-string-1">Selecting Rows with a Specific String</h3>
<p>Using <code>dplyr</code>, we can select rows containing “a” with the <code>filter()</code> function combined with <code>str_detect()</code> from the <code>stringr</code> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)</span>
<span id="cb8-2"></span>
<span id="cb8-3">selected_rows_dplyr <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(name, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span>))</span>
<span id="cb8-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(selected_rows_dplyr)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id   name
1  1  apple
2  2 banana
3  4   date</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>%&gt;%</code> is the pipe operator, allowing us to chain functions together.</li>
<li><code>filter(str_detect(name, "a"))</code> filters rows where the <code>name</code> column contains the letter “a”.</li>
</ul>
</section>
<section id="dropping-rows-with-a-specific-string-1" class="level3">
<h3 class="anchored" data-anchor-id="dropping-rows-with-a-specific-string-1">Dropping Rows with a Specific String</h3>
<p>To drop rows containing “a” using <code>dplyr</code>, we use <code>filter()</code> with the negation operator <code>!</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">dropped_rows_dplyr <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(name, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span>))</span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(dropped_rows_dplyr)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id       name
1  3     cherry
2  5 elderberry</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>!str_detect(name, "a")</code> negates the condition, filtering out rows where the <code>name</code> column contains the letter “a”.</li>
</ul>
</section>
</section>
</section>
<section id="summary" class="level1">
<h1>Summary</h1>
<p>Both base R and <code>dplyr</code> provide powerful ways to select and drop rows based on specific strings. The <code>grep()</code> function in base R and the combination of <code>filter()</code> and <code>str_detect()</code> in <code>dplyr</code> are versatile tools for your data manipulation needs.</p>
<p>Give these examples a try with your own datasets! Experimenting with different strings and data structures will help reinforce these concepts and improve your data manipulation skills.</p>
<p>Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-23/</guid>
  <pubDate>Thu, 23 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Split a Number into Digits in R Using gsub() and strsplit()</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-22/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Splitting numbers into individual digits can be a handy trick in data analysis and manipulation. Today, we’ll explore how to achieve this using base R functions, specifically <code>gsub()</code> and <code>strsplit()</code>. Let’s walk through the process step by step, explain the syntax of each function, and provide some examples for clarity.</p>
</section>
<section id="syntax" class="level1">
<h1>Syntax</h1>
<section id="understanding-gsub-and-strsplit" class="level2">
<h2 class="anchored" data-anchor-id="understanding-gsub-and-strsplit">Understanding <code>gsub()</code> and <code>strsplit()</code></h2>
<p>First, let’s get familiar with the two main functions we’ll be using:</p>
<ol type="1">
<li><strong><code>gsub(pattern, replacement, x)</code></strong>:
<ul>
<li><strong><code>pattern</code></strong>: A regular expression describing the pattern to be matched.</li>
<li><strong><code>replacement</code></strong>: The string to replace the matched pattern.</li>
<li><strong><code>x</code></strong>: The input vector, which is usually a character string.</li>
</ul></li>
</ol>
<p>The <code>gsub()</code> function replaces all occurrences of the pattern in <code>x</code> with the <code>replacement</code>.</p>
<ol start="2" type="1">
<li><strong><code>strsplit(x, split)</code></strong>:
<ul>
<li><strong><code>x</code></strong>: The input vector, which is usually a character string.</li>
<li><strong><code>split</code></strong>: The delimiter on which to split the input string.</li>
</ul></li>
</ol>
<p>The <code>strsplit()</code> function splits the elements of a character vector <code>x</code> into substrings based on the delimiter specified in <code>split</code>.</p>
</section>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="splitting-a-number-into-digits" class="level2">
<h2 class="anchored" data-anchor-id="splitting-a-number-into-digits">Splitting a Number into Digits</h2>
<p>Let’s go through a few examples to see how we can split numbers into digits using these functions.</p>
<section id="example-1-basic-splitting-of-a-single-number" class="level3">
<h3 class="anchored" data-anchor-id="example-1-basic-splitting-of-a-single-number">Example 1: Basic Splitting of a Single Number</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 1: Convert the number to a character string</span></span>
<span id="cb1-2">number <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12345</span></span>
<span id="cb1-3">number_str <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(number)</span>
<span id="cb1-4">number_str</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "12345"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 2: Use gsub() to insert a delimiter (space) between each digit</span></span>
<span id="cb3-2">number_with_spaces <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.)"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1 "</span>, number_str)</span>
<span id="cb3-3">number_with_spaces</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1 2 3 4 5 "</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 3: Use strsplit() to split the string on the delimiter</span></span>
<span id="cb5-2">digits <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strsplit</span>(number_with_spaces, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>)[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]]</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Step 4: Convert the result back to numeric</span></span>
<span id="cb5-5">digits_numeric <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(digits)</span>
<span id="cb5-6"></span>
<span id="cb5-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the result</span></span>
<span id="cb5-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(digits_numeric)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
</div>
<p><strong>Explanation</strong>:</p>
<ol type="1">
<li>We convert the number to a character string using <code>as.character()</code>.</li>
<li>We use <code>gsub("(.)", "\\1 ", number_str)</code> to insert a space between each digit. The pattern <code>(.)</code> matches any character, and <code>\\1</code> refers to the matched character followed by a space.</li>
<li>We split the string on spaces using <code>strsplit(number_with_spaces, " ")</code>.</li>
<li>Finally, we convert the resulting character vector back to numeric using <code>as.numeric()</code>.</li>
</ol>
</section>
<section id="example-2-splitting-multiple-numbers-in-a-vector" class="level3">
<h3 class="anchored" data-anchor-id="example-2-splitting-multiple-numbers-in-a-vector">Example 2: Splitting Multiple Numbers in a Vector</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Vector of numbers</span></span>
<span id="cb7-2">numbers <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6789</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5432</span>)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Function to split a single number into digits</span></span>
<span id="cb7-5">split_number <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">function</span>(number) {</span>
<span id="cb7-6">  number_str <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(number)</span>
<span id="cb7-7">  number_with_spaces <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(.)"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1 "</span>, number_str)</span>
<span id="cb7-8">  digits <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">strsplit</span>(number_with_spaces, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>)[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]]</span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(digits)</span>
<span id="cb7-10">}</span>
<span id="cb7-11"></span>
<span id="cb7-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Apply the function to each number in the vector</span></span>
<span id="cb7-13">split_digits <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lapply</span>(numbers, split_number)</span>
<span id="cb7-14"></span>
<span id="cb7-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the result</span></span>
<span id="cb7-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(split_digits)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 6 7 8 9

[[2]]
[1] 5 4 3 2</code></pre>
</div>
</div>
<p><strong>Explanation</strong>:</p>
<ol type="1">
<li>We define a vector of numbers.</li>
<li>We create a function <code>split_number</code> that takes a number and splits it into digits using the same steps as in Example 1.</li>
<li>We apply this function to each number in the vector using <code>lapply()</code>.</li>
<li>The result is a list where each element is a vector of digits for each number in the original vector.</li>
</ol>
</section>
</section>
</section>
<section id="try-it-yourself" class="level1">
<h1>Try It Yourself!</h1>
<p>Now that we’ve gone through the examples, it’s your turn to give it a try! Experiment with different numbers, vectors, and even customize the splitting function to handle special cases or additional formatting. The more you practice, the more comfortable you’ll become with these handy base R functions.</p>
<p>Happy Coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-22/</guid>
  <pubDate>Wed, 22 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Split a Vector into Chunks in R</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-21/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>In data analysis, there are times when you need to split a vector into smaller chunks. Whether you’re managing large datasets or preparing data for parallel processing, breaking down vectors can be incredibly useful. In this post, we’ll explore how to achieve this in R using base R, <code>dplyr</code>, and <code>data.table</code>.</p>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="using-base-r" class="level2">
<h2 class="anchored" data-anchor-id="using-base-r">Using Base R</h2>
<p>Base R provides a straightforward way to split a vector into chunks using the <code>split</code> function and a combination of other basic functions.</p>
<section id="example-1-splitting-a-vector-into-chunks" class="level3">
<h3 class="anchored" data-anchor-id="example-1-splitting-a-vector-into-chunks">Example 1: Splitting a Vector into Chunks</h3>
<p>Let’s say we have a vector <code>x</code> and we want to split it into chunks of size 3.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb1-2">chunk_size <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb1-3">split_vector <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">split</span>(x, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ceiling</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq_along</span>(x) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> chunk_size))</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(split_vector)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$`1`
[1] 1 2 3

$`2`
[1] 4 5 6

$`3`
[1] 7 8 9

$`4`
[1] 10</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>x &lt;- 1:10</code>: Creates a vector <code>x</code> with values from 1 to 10.</li>
<li><code>chunk_size &lt;- 3</code>: Defines the size of each chunk.</li>
<li><code>seq_along(x)</code>: Generates a sequence of the same length as <code>x</code>.</li>
<li><code>ceiling(seq_along(x) / chunk_size)</code>: Divides the sequence by the chunk size and uses <code>ceiling</code> to round up to the nearest integer, creating a grouping factor.</li>
<li><code>split(x, ...)</code>: Splits the vector based on the grouping factor.</li>
</ul>
</section>
</section>
<section id="using-dplyr" class="level2">
<h2 class="anchored" data-anchor-id="using-dplyr">Using <code>dplyr</code></h2>
<p>The <code>dplyr</code> package, part of the tidyverse, offers a more readable and pipe-friendly approach to splitting vectors.</p>
<section id="example-2-splitting-a-vector-into-chunks" class="level3">
<h3 class="anchored" data-anchor-id="example-2-splitting-a-vector-into-chunks">Example 2: Splitting a Vector into Chunks</h3>
<p>Here’s how you can do it with <code>dplyr</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb3-2"></span>
<span id="cb3-3">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb3-4">chunk_size <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb3-5">split_vector <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ceiling</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">row_number</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> chunk_size)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(group) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">chunk =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(.)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pull</span>(chunk)</span>
<span id="cb3-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(split_vector)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1 2 3

[[2]]
[1] 4 5 6

[[3]]
[1] 7 8 9

[[4]]
[1] 10</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>as.data.frame()</code>: Converts the vector to a data frame.</li>
<li><code>mutate(group = ceiling(row_number() / chunk_size))</code>: Adds a grouping column.</li>
<li><code>group_by(group)</code>: Groups the data by the newly created group column.</li>
<li><code>summarise(chunk = list(.))</code>: Summarizes the groups into list columns using the <code>.</code> placeholder.</li>
<li><code>pull(chunk)</code>: Extracts the list column as a vector of chunks.</li>
</ul>
</section>
<section id="example-3-splitting-a-vector-using-group_split" class="level3">
<h3 class="anchored" data-anchor-id="example-3-splitting-a-vector-using-group_split">Example 3: Splitting a Vector using <code>group_split()</code></h3>
<p><code>group_split()</code> is another handy function from <code>dplyr</code> to split data into groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb5-2">chunk_size <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb5-3">split_vector <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ceiling</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">row_number</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> chunk_size)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_split</span>(group)</span>
<span id="cb5-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(split_vector)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;list_of&lt;
  tbl_df&lt;
    .    : integer
    group: double
  &gt;
&gt;[4]&gt;
[[1]]
# A tibble: 3 × 2
      . group
  &lt;int&gt; &lt;dbl&gt;
1     1     1
2     2     1
3     3     1

[[2]]
# A tibble: 3 × 2
      . group
  &lt;int&gt; &lt;dbl&gt;
1     4     2
2     5     2
3     6     2

[[3]]
# A tibble: 3 × 2
      . group
  &lt;int&gt; &lt;dbl&gt;
1     7     3
2     8     3
3     9     3

[[4]]
# A tibble: 1 × 2
      . group
  &lt;int&gt; &lt;dbl&gt;
1    10     4</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>as.data.frame()</code>: Converts the vector to a data frame.</li>
<li><code>mutate(group = ceiling(row_number() / chunk_size))</code>: Adds a grouping column.</li>
<li><code>group_split(group)</code>: Splits the data frame into a list of data frames based on the group column.</li>
</ul>
</section>
</section>
<section id="using-data.table" class="level2">
<h2 class="anchored" data-anchor-id="using-data.table">Using <code>data.table</code></h2>
<p><code>data.table</code> is known for its efficiency with large datasets. Here’s how you can split a vector using <code>data.table</code>.</p>
<section id="example-4-splitting-a-vector-into-chunks" class="level3">
<h3 class="anchored" data-anchor-id="example-4-splitting-a-vector-into-chunks">Example 4: Splitting a Vector into Chunks</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb7-2"></span>
<span id="cb7-3">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb7-4">chunk_size <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb7-5">dt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.table</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x)</span>
<span id="cb7-6">dt[, group <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ceiling</span>(.I <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> chunk_size)]</span>
<span id="cb7-7">split_vector <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt[, .(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">chunk =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(x)), by <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> group]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>chunk</span>
<span id="cb7-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(split_vector)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 1 2 3

[[2]]
[1] 4 5 6

[[3]]
[1] 7 8 9

[[4]]
[1] 10</code></pre>
</div>
</div>
<p><strong>Explanation:</strong></p>
<ul>
<li><code>data.table(x = x)</code>: Converts the vector to a <code>data.table</code>.</li>
<li><code>group := ceiling(.I / chunk_size)</code>: Creates a group column using the row index <code>.I</code>.</li>
<li><code>.(chunk = list(x)), by = group</code>: Groups by the group column and creates list columns.</li>
<li><code>$chunk</code>: Extracts the list column.</li>
</ul>
</section>
</section>
</section>
<section id="your-turn" class="level1">
<h1>Your Turn!</h1>
<p>These examples illustrate different ways to split vectors into chunks in R using base R, <code>dplyr</code>, and <code>data.table</code>. Each method has its own strengths, and you might prefer one over the others depending on your workflow and dataset size. Try these methods on your own data and see how they work for you. Experimenting with different chunk sizes and vector lengths can also help you understand the mechanics behind each approach better.</p>
<p>Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-21/</guid>
  <pubDate>Tue, 21 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>How to Remove Specific Elements from a Vector in R</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-20/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Working with vectors is one of the fundamental aspects of R programming. Sometimes, you need to remove specific elements from a vector to clean your data or prepare it for analysis. This post will guide you through several methods to achieve this, using base R, <code>dplyr</code>, and <code>data.table</code>. We’ll look at examples for both numeric and character vectors and explain the code in a straightforward manner. By the end, you’ll have a clear understanding of how to manipulate your vectors efficiently. Let’s dive in!</p>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="using-base-r" class="level2">
<h2 class="anchored" data-anchor-id="using-base-r">Using Base R</h2>
<p>Base R provides straightforward methods to remove elements from vectors. Let’s start with some examples.</p>
<section id="numeric-vector" class="level3">
<h3 class="anchored" data-anchor-id="numeric-vector">Numeric Vector</h3>
<p>Suppose you have a numeric vector and you want to remove specific numbers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a numeric vector</span></span>
<span id="cb1-2">numeric_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Remove the numbers 3 and 7</span></span>
<span id="cb1-5">numeric_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> numeric_vec[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>numeric_vec <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)]</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the updated vector</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(numeric_vec)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 4 5 6 8 9</code></pre>
</div>
</div>
<p><strong>Explanation</strong>: - <code>numeric_vec %in% c(3, 7)</code> checks if each element in <code>numeric_vec</code> is in the set of numbers {3, 7}. - <code>!numeric_vec %in% c(3, 7)</code> negates the condition, giving <code>TRUE</code> for elements not in {3, 7}. - <code>numeric_vec[!]</code> selects the elements that meet the condition.</p>
</section>
<section id="character-vector" class="level3">
<h3 class="anchored" data-anchor-id="character-vector">Character Vector</h3>
<p>Now let’s work with a character vector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a character vector</span></span>
<span id="cb3-2">char_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cherry"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elderberry"</span>)</span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Remove "banana" and "date"</span></span>
<span id="cb3-5">char_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> char_vec[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>char_vec <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>)]</span>
<span id="cb3-6"></span>
<span id="cb3-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the updated vector</span></span>
<span id="cb3-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(char_vec)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"      "cherry"     "elderberry"</code></pre>
</div>
</div>
<p>The process is similar: we use logical indexing to exclude the unwanted elements.</p>
</section>
</section>
<section id="using-dplyr" class="level2">
<h2 class="anchored" data-anchor-id="using-dplyr">Using dplyr</h2>
<p>The <code>dplyr</code> package is part of the tidyverse and provides powerful tools for data manipulation. While it is often used with data frames, we can also use it to work with vectors by converting them to tibbles.</p>
<section id="numeric-vector-1" class="level3">
<h3 class="anchored" data-anchor-id="numeric-vector-1">Numeric Vector</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb5-2"></span>
<span id="cb5-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a numeric vector</span></span>
<span id="cb5-4">numeric_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)</span>
<span id="cb5-5"></span>
<span id="cb5-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to tibble</span></span>
<span id="cb5-7">numeric_tibble <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> numeric_vec)</span>
<span id="cb5-8"></span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Remove the numbers 3 and 7</span></span>
<span id="cb5-10">numeric_tibble <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> numeric_tibble <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>))</span>
<span id="cb5-12"></span>
<span id="cb5-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract the updated vector</span></span>
<span id="cb5-14">numeric_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pull</span>(numeric_tibble, value)</span>
<span id="cb5-15"></span>
<span id="cb5-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the updated vector</span></span>
<span id="cb5-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(numeric_vec)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 4 5 6 8 9</code></pre>
</div>
</div>
<p><strong>Explanation</strong>: - Convert the vector to a tibble. - Use <code>filter(!value %in% c(3, 7))</code> to remove rows where the value is in {3, 7}. - Use <code>pull</code> to convert the tibble back to a vector.</p>
</section>
<section id="character-vector-1" class="level3">
<h3 class="anchored" data-anchor-id="character-vector-1">Character Vector</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a character vector</span></span>
<span id="cb7-2">char_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cherry"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elderberry"</span>)</span>
<span id="cb7-3"></span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to tibble</span></span>
<span id="cb7-5">char_tibble <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> char_vec)</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Remove "banana" and "date"</span></span>
<span id="cb7-8">char_tibble <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> char_tibble <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>))</span>
<span id="cb7-10"></span>
<span id="cb7-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract the updated vector</span></span>
<span id="cb7-12">char_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pull</span>(char_tibble, value)</span>
<span id="cb7-13"></span>
<span id="cb7-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the updated vector</span></span>
<span id="cb7-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(char_vec)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"      "cherry"     "elderberry"</code></pre>
</div>
</div>
<p>The <code>filter</code> function from <code>dplyr</code> allows for efficient removal of unwanted elements.</p>
</section>
</section>
<section id="using-data.table" class="level2">
<h2 class="anchored" data-anchor-id="using-data.table">Using data.table</h2>
<p>The <code>data.table</code> package is known for its speed and efficiency, especially with large datasets. Let’s see how we can use it to remove elements from vectors.</p>
<section id="numeric-vector-2" class="level3">
<h3 class="anchored" data-anchor-id="numeric-vector-2">Numeric Vector</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a numeric vector</span></span>
<span id="cb9-4">numeric_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)</span>
<span id="cb9-5"></span>
<span id="cb9-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to data.table</span></span>
<span id="cb9-7">dt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.table</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> numeric_vec)</span>
<span id="cb9-8"></span>
<span id="cb9-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Remove the numbers 3 and 7</span></span>
<span id="cb9-10">dt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)]</span>
<span id="cb9-11"></span>
<span id="cb9-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract the updated vector</span></span>
<span id="cb9-13">numeric_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value</span>
<span id="cb9-14"></span>
<span id="cb9-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the updated vector</span></span>
<span id="cb9-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(numeric_vec)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 4 5 6 8 9</code></pre>
</div>
</div>
<p><strong>Explanation</strong>: - We convert the vector to a <code>data.table</code> object. - Use the <code>!value %in% c(3, 7)</code> condition within the <code>[]</code> to filter the table. - Extract the updated vector using <code>dt$value</code>.</p>
</section>
<section id="character-vector-2" class="level3">
<h3 class="anchored" data-anchor-id="character-vector-2">Character Vector</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a character vector</span></span>
<span id="cb11-2">char_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cherry"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"elderberry"</span>)</span>
<span id="cb11-3"></span>
<span id="cb11-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Convert to data.table</span></span>
<span id="cb11-5">dt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.table</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> char_vec)</span>
<span id="cb11-6"></span>
<span id="cb11-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Remove "banana" and "date"</span></span>
<span id="cb11-8">dt <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span>value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"date"</span>)]</span>
<span id="cb11-9"></span>
<span id="cb11-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Extract the updated vector</span></span>
<span id="cb11-11">char_vec <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value</span>
<span id="cb11-12"></span>
<span id="cb11-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Print the updated vector</span></span>
<span id="cb11-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(char_vec)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "apple"      "cherry"     "elderberry"</code></pre>
</div>
</div>
<p>Using <code>data.table</code> involves a few more steps, but it is very efficient, especially with large vectors.</p>
</section>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Removing specific elements from vectors is a common task in data manipulation. Whether you prefer using base R, <code>dplyr</code>, or <code>data.table</code>, each method offers a straightforward way to achieve this. Try these examples with your own data and see which method you find most intuitive.</p>
<p>Happy coding! Feel free to share your experiences and any questions you have in the comments below.</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-20/</guid>
  <pubDate>Mon, 20 May 2024 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Mastering gregexpr() in R: A Comprehensive Guide</title>
  <dc:creator>Steven P. Sanderson II, MPH</dc:creator>
  <link>https://www.spsanderson.com/steveondata/posts/2024-05-17/</link>
  <description><![CDATA[ 





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>If you’ve ever worked with text data in R, you know how important it is to have powerful tools for pattern matching. One such tool is the <code>gregexpr()</code> function. This function is incredibly useful when you need to find all occurrences of a pattern within a string. Today, we’ll go into how <code>gregexpr()</code> works, explore its syntax, and go through several examples to make things clear.</p>
</section>
<section id="understanding-gregexpr-syntax" class="level1">
<h1>Understanding <code>gregexpr()</code> Syntax</h1>
<p>The <code>gregexpr()</code> function stands for “global regular expression,” and it’s designed to locate all matches of a pattern within a text string. Here’s the basic syntax:</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(</span>
<span id="cb1-2">  pattern, </span>
<span id="cb1-3">  text, </span>
<span id="cb1-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ignore.case =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, </span>
<span id="cb1-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">perl =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, </span>
<span id="cb1-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>, </span>
<span id="cb1-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">useBytes =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span></span>
<span id="cb1-8">  )</span></code></pre></div>
<ul>
<li><strong>pattern</strong>: The regular expression pattern you want to search for.</li>
<li><strong>text</strong>: The text string or vector of text strings to be searched.</li>
<li><strong>ignore.case</strong>: A logical value indicating whether to ignore case. Default is <code>FALSE</code>.</li>
<li><strong>perl</strong>: A logical value indicating whether to use Perl-compatible regex. Default is <code>FALSE</code>.</li>
<li><strong>fixed</strong>: A logical value indicating whether the pattern is a fixed string. Default is <code>FALSE</code>.</li>
<li><strong>useBytes</strong>: A logical value indicating whether to perform byte-by-byte matching. Default is <code>FALSE</code>.</li>
</ul>
</section>
<section id="examples" class="level1">
<h1>Examples</h1>
<section id="example-1-basic-usage" class="level2">
<h2 class="anchored" data-anchor-id="example-1-basic-usage">Example 1: Basic Usage</h2>
<p>Let’s start with a simple example. Suppose we want to find all occurrences of the letter “a” in the string “banana”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"banana"</span></span>
<span id="cb2-2">pattern <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span></span>
<span id="cb2-3">matches <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(pattern, text)</span>
<span id="cb2-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(matches)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 2 4 6
attr(,"match.length")
[1] 1 1 1
attr(,"index.type")
[1] "chars"
attr(,"useBytes")
[1] TRUE</code></pre>
</div>
</div>
<p>This will return a list with the starting positions of each match. Here, the numbers <code>2</code>, <code>4</code>, and <code>6</code> indicate the positions of “a” in the string “banana”.</p>
</section>
<section id="example-2-ignoring-case" class="level2">
<h2 class="anchored" data-anchor-id="example-2-ignoring-case">Example 2: Ignoring Case</h2>
<p>What if we want to search for the pattern without considering case? We can set <code>ignore.case = TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BaNaNa"</span></span>
<span id="cb4-2">pattern <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"a"</span></span>
<span id="cb4-3">matches <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(pattern, text, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ignore.case =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb4-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(matches)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] 2 4 6
attr(,"match.length")
[1] 1 1 1
attr(,"index.type")
[1] "chars"
attr(,"useBytes")
[1] TRUE</code></pre>
</div>
</div>
<p>Even though our string has uppercase “A” and lowercase “a”, the function treats them the same because we set <code>ignore.case = TRUE</code>.</p>
</section>
<section id="example-3-using-perl-compatible-regex" class="level2">
<h2 class="anchored" data-anchor-id="example-3-using-perl-compatible-regex">Example 3: Using Perl-Compatible Regex</h2>
<p>Sometimes, we need more advanced pattern matching. By setting <code>perl = TRUE</code>, we can use Perl-compatible regular expressions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cat, bat, rat"</span></span>
<span id="cb6-2">pattern <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"[bcr]at"</span></span>
<span id="cb6-3">matches <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(pattern, text, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">perl =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(matches)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1]  1  6 11
attr(,"match.length")
[1] 3 3 3
attr(,"index.type")
[1] "chars"
attr(,"useBytes")
[1] TRUE</code></pre>
</div>
</div>
<p>This will find all occurrences of “bat”, “cat”, and “rat”. The positions <code>1</code>, <code>6</code>, and <code>11</code> correspond to the starting positions of “cat”, “bat”, and “rat” respectively.</p>
</section>
<section id="example-4-fixed-string-matching" class="level2">
<h2 class="anchored" data-anchor-id="example-4-fixed-string-matching">Example 4: Fixed String Matching</h2>
<p>If you want to search for a fixed substring rather than a regex pattern, set <code>fixed = TRUE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"batman and catwoman"</span></span>
<span id="cb8-2">pattern <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"man"</span></span>
<span id="cb8-3">matches <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(pattern, text, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fixed =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb8-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(matches)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1]  4 17
attr(,"match.length")
[1] 3 3
attr(,"index.type")
[1] "chars"
attr(,"useBytes")
[1] TRUE</code></pre>
</div>
</div>
<p>This will match the substring “man” exactly. The output will show the starting positions of each match along with the length of the match.</p>
</section>
<section id="example-5-extracting-matches" class="level2">
<h2 class="anchored" data-anchor-id="example-5-extracting-matches">Example 5: Extracting Matches</h2>
<p>You can extract the matched substrings using the <code>regmatches()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">text <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"apple, banana, cherry"</span></span>
<span id="cb10-2">pattern <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"[a-z]{5}"</span></span>
<span id="cb10-3">matches <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gregexpr</span>(pattern, text)</span>
<span id="cb10-4">extracted <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">regmatches</span>(text, matches)</span>
<span id="cb10-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">print</span>(extracted)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "apple" "banan" "cherr"</code></pre>
</div>
</div>
<p>This will extract all substrings of length 5 from the text. The output will be a list of the matched substrings.</p>
</section>
</section>
<section id="wrapping-up" class="level1">
<h1>Wrapping Up</h1>
<p>The <code>gregexpr()</code> function is a powerful tool for pattern matching in R. With its flexibility and various options, you can tailor it to fit your needs perfectly. Try using it in your own projects and see how it can simplify your text processing tasks.</p>
<p>Feel free to experiment with different patterns and options. The best way to get comfortable with <code>gregexpr()</code> is by practicing.</p>
<p>Happy coding!</p>


</section>

 ]]></description>
  <category>code</category>
  <category>rtip</category>
  <category>operations</category>
  <guid>https://www.spsanderson.com/steveondata/posts/2024-05-17/</guid>
  <pubDate>Fri, 17 May 2024 04:00:00 GMT</pubDate>
</item>
</channel>
</rss>
