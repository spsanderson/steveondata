{
  "hash": "341e57a4a1f024b617442d043da393c1",
  "result": {
    "markdown": "---\ntitle: \"How to Subset Data Frame in R by Multiple Conditions\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2024-03-07\"\ncategories: [code, rtip, operations, dplyr, datatable]\n---\n\n\n# Introduction\n\nIn data analysis with R, subsetting data frames based on multiple conditions is a common task. It allows us to extract specific subsets of data that meet certain criteria. In this blog post, we will explore how to subset a data frame using three different methods: base R's `subset()` function, dplyr's `filter()` function, and the data.table package.\n\n# Examples\n\n## Using Base R's subset() Function\n\nBase R provides a handy function called `subset()` that allows us to subset data frames based on one or more conditions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the mtcars dataset\ndata(mtcars)\n\n# Subset data frame using subset() function\nsubset_mtcars <- subset(mtcars, mpg > 20 & cyl == 4)\n\n# View the resulting subset\nprint(subset_mtcars)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                mpg cyl  disp  hp drat    wt  qsec vs am gear carb\nDatsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1\nMerc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2\nMerc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2\nFiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1\nHonda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2\nToyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1\nToyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1\nFiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1\nPorsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2\nLotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2\nVolvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2\n```\n:::\n:::\n\n\nIn the above code, we first load the `mtcars` dataset. Then, we use the `subset()` function to create a subset of the data frame where the miles per gallon (`mpg`) is greater than 20 and the number of cylinders (`cyl`) is equal to 4. Finally, we print the resulting subset.\n\n## Using dplyr's filter() Function\n\ndplyr is a powerful package for data manipulation, and it provides the `filter()` function for subsetting data frames based on conditions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the dplyr package\nlibrary(dplyr)\n\n# Subset data frame using filter() function\nfilter_mtcars <- mtcars %>%\n  filter(mpg > 20, cyl == 4)\n\n# View the resulting subset\nprint(filter_mtcars)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                mpg cyl  disp  hp drat    wt  qsec vs am gear carb\nDatsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1\nMerc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2\nMerc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2\nFiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1\nHonda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2\nToyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1\nToyota Corona  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1\nFiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1\nPorsche 914-2  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2\nLotus Europa   30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2\nVolvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2\n```\n:::\n:::\n\n\nIn this code snippet, we load the dplyr package and use the `%>%` operator, also known as the pipe operator, to pipe the `mtcars` dataset into the `filter()` function. We specify the conditions within the `filter()` function to create the subset, and then print the resulting subset.\n\n## Using data.table Package\n\nThe data.table package is known for its speed and efficiency in handling large datasets. We can use data.table's syntax to subset data frames as well.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the data.table package\nlibrary(data.table)\n\n# Convert mtcars to data.table\ndt_mtcars <- as.data.table(mtcars)\n\n# Subset data frame using data.table syntax\ndt_subset_mtcars <- dt_mtcars[mpg > 20 & cyl == 4]\n\n# Convert back to data frame (optional)\nsubset_mtcars_dt <- as.data.frame(dt_subset_mtcars)\n\n# View the resulting subset\nprint(subset_mtcars_dt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    mpg cyl  disp  hp drat    wt  qsec vs am gear carb\n1  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1\n2  24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2\n3  22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2\n4  32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1\n5  30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2\n6  33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1\n7  21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1\n8  27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1\n9  26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2\n10 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2\n11 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2\n```\n:::\n:::\n\n\nIn this code block, we first load the data.table package and convert the `mtcars` data frame into a data.table using the `as.data.table()` function. Then, we subset the data using data.table's syntax, specifying the conditions within square brackets. Optionally, we can convert the resulting subset back to a data frame using `as.data.frame()` function before printing it.\n\n# Conclusion\n\nIn this blog post, we learned three different methods for subsetting data frames in R by multiple conditions. Whether you prefer base R's `subset()` function, dplyr's `filter()` function, or data.table's syntax, there are multiple ways to achieve the same result. I encourage you to try out these methods on your own datasets and explore the flexibility and efficiency they offer in data manipulation tasks. Happy coding!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}