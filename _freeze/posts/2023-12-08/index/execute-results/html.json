{
  "hash": "53a515b729c17b73cf3f3427c78d07a2",
  "result": {
    "markdown": "---\ntitle: \"Exploring TidyAML: Simplifying Regression Analysis in R\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2023-12-08\"\ncategories: [rtip, regression]\n---\n\n\n# Introduction\n\nIf you're a data enthusiast diving into the world of regression analysis in R, you've likely encountered the challenges of managing code complexity and juggling different modeling engines. The good news is that there's a powerful tool to streamline your regression workflow â€“ the tidyAML R package.\n\n# Getting Started with TidyAML\n\nBefore we dive into the script, let's make sure you have the necessary libraries installed. Fire up your R console and install the tidyAML package along with its dependencies:\n\n```R\ninstall.packages(\"tidyAML\")\n```\n\nNow, let's explore a script that leverages tidyAML for quick and efficient regression analysis. Here's a breakdown of the key components:\n\n# Intial Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyAML)\nlibrary(tidyverse)\nlibrary(tidymodels)\ntidymodels_prefer()\nlibrary(multilevelmod)\nlibrary(earth)\nlibrary(randomForest)\nlibrary(rpart)\nlibrary(lightgbm)\nlibrary(baguette)\n```\n:::\n\n\n## Setting Up the Recipe\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- mtcars\nrecipe <- recipe(mpg ~ ., data = df)\n```\n:::\n\n\nIn this snippet, we're creating a recipe for our regression analysis. The response variable (`mpg`) is modeled against all other variables in the `mtcars` dataset.\n\n## Fast Regression with TidyAML\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfr_tbl <- fast_regression(\n  .data = df,\n  .rec_obj = recipe,\n  .parsnip_fns = c(\"linear_reg\", \"mars\", \"bag_mars\", \"rand_forest\",\n                   \"boost_tree\", \"bag_tree\"),\n  .parsnip_eng = c(\"lm\", \"gee\", \"glm\", \"gls\", \"earth\", \"rpart\", \"lightgbm\")\n)\n```\n:::\n\n\nThis is where the magic happens. The `fast_regression` function performs regression using various modeling functions (`linear_reg`, `mars`, etc.) and engines (`lm`, `gee`, etc.) specified. It's a versatile approach to quickly explore different models.\n\n## Visualizing Residuals\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfr_tbl |>\n  mutate(res = map(fitted_wflw, \\(x) x |> \n                     broom::augment(new_data = df))) |>\n  unnest(cols = res) |>\n  mutate(pfe = paste0(.parsnip_engine, \" - \", .parsnip_fns)) |>\n  mutate(.res = mpg - .pred) |>\n  ggplot(aes(x = pfe, y = .res, fill = pfe)) +\n    geom_boxplot() +\n    theme_minimal() +\n    labs(title = \"Residuals by Fitted Model\",\n       subtitle = \"Residuals are mpg - .pred\",\n       x = \"Model\",\n       y = \"Residuals\",\n       fill = \"Engine + Function\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nThis block of code generates a boxplot visualizing residuals by model. Residuals are the differences between observed and predicted values. The plot helps you assess how well your models are performing.\n\n# Try It Yourself!\n\nNow that you've seen the power of tidyAML in action, it's time to try it yourself. Install the package, load your data, and adapt the script to your specific use case. TidyAML provides a clean and efficient way to explore different regression models, making your analysis more manageable and insightful.\n\n```R\ninstall.packages(\"tidyAML\")\nlibrary(tidyAML)\n# Your data loading and analysis code here\n```\n\nHappy coding, and may your regression analyses be tidy and insightful!",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}