{
  "hash": "7a41cbdcc3a1c3d6cab332c5280646cb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"lapply vs. sapply in R: What's the Difference?\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2024-08-21\"\ncategories: [code, rtip, lapply, sapply]\ntoc: TRUE\nkeywords: Explore the differences between lapply() and sapply() in R with practical examples. Learn when to use each function and how they simplify data operations.\n---\n\n\n# Introduction\n\n# lapply vs. sapply in R: What’s the Difference?\n\nIn the world of R programming, understanding the difference between `lapply()` and `sapply()` can make your coding life much easier. These two functions are part of R's powerful *apply family*, which allows you to perform operations over a list or vector with ease. But when should you use `lapply()` and when is `sapply()` the better choice? Let’s explore!\n\n## What is `lapply()`?\n\nThe `lapply()` function in R applies a function to each element of a list (or vector) and returns a list. It’s a versatile tool, especially when you need to preserve the structure of your output as a list.\n\nHere’s a quick example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example list\nmy_list <- list(a = 1:5, b = 6:10, c = 11:15)\n\n# Applying a function to each element of the list using lapply\nresult <- lapply(my_list, sum)\n\n# Print the result\nprint(result)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$a\n[1] 15\n\n$b\n[1] 40\n\n$c\n[1] 65\n```\n\n\n:::\n:::\n\n\n**Explanation:**\n\n- We created a list `my_list` containing three elements: vectors of numbers.\n- Using `lapply()`, we applied the `sum()` function to each element in the list.\n- The output, `result`, is a list where each element is the sum of the numbers in the original list.\n\nThis is what `lapply()` is all about: it gives you a list, no matter what.\n\n## What is `sapply()`?\n\nOn the other hand, `sapply()` is a simplified version of `lapply()`. It tries to simplify the result into a vector or matrix when possible, making your output more readable in certain situations.\n\nLet’s look at the same example using `sapply()`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Applying a function to each element of the list using sapply\nresult <- sapply(my_list, sum)\n\n# Print the result\nprint(result)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n a  b  c \n15 40 65 \n```\n\n\n:::\n:::\n\n\n**Explanation:**\n\n- This time, we used `sapply()` instead of `lapply()`.\n- The output is now a simple vector, where each element corresponds to the sum of the numbers in the original list.\n\nNotice how `sapply()` simplifies the result into a vector? This is particularly useful when you want your output to be more concise and less complex.\n\n### Key Differences\n\n- **Output Type:** `lapply()` always returns a list, while `sapply()` attempts to return a vector or matrix if possible. If it can’t, it will fall back to returning a list.\n- **Usage:** Use `lapply()` when you need to maintain the structure of your output as a list. Choose `sapply()` when you prefer a simplified result, like a vector or matrix.\n\n## Practical Example: Mean Calculation\n\nLet’s go through another example to see the differences more clearly:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example list of numeric vectors\ndata <- list(a = c(4, 6, 8), b = c(10, 15, 20), c = c(25, 30, 35))\n\n# Using lapply to calculate the mean of each vector\nmean_lapply <- lapply(data, mean)\nprint(mean_lapply)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$a\n[1] 6\n\n$b\n[1] 15\n\n$c\n[1] 30\n```\n\n\n:::\n\n```{.r .cell-code}\n# Using sapply to calculate the mean of each vector\nmean_sapply <- sapply(data, mean)\nprint(mean_sapply)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n a  b  c \n 6 15 30 \n```\n\n\n:::\n:::\n\n\n**Explanation:**\n\n- We have a list `data` with three numeric vectors.\n- `lapply(data, mean)` returns a list, where each element is the mean of the corresponding vector.\n- `sapply(data, mean)` returns a vector, simplifying the output.\n\nThis example clearly shows how `lapply()` and `sapply()` handle the output differently. If you need the output as a list, go for `lapply()`. If a vector suits your needs, `sapply()` is the better option.\n\n# Conclusion\n\nBoth `lapply()` and `sapply()` are handy functions in R that help you avoid writing loops. The choice between them depends on the output format you desire. `lapply()` will always give you a list, while `sapply()` tries to simplify the result.\n\nWhy not try out both functions with your own data? Experiment with different scenarios to see how each one behaves. And remember, the best way to master these tools is to practice!\n\nI’d love to hear your thoughts on this topic. Have you encountered situations where one function worked better than the other? Drop your comments below, and let’s discuss!\n\n---\n\nHappy Coding!\n\n\n```{=html}\n<script src=\"https://giscus.app/client.js\"\n        data-repo=\"spsanderson/steveondata\"\n        data-repo-id=\"R_kgDOIIxnLw\"\n        data-category=\"Comments\"\n        data-category-id=\"DIC_kwDOIIxnL84ChTk8\"\n        data-mapping=\"url\"\n        data-strict=\"0\"\n        data-reactions-enabled=\"1\"\n        data-emit-metadata=\"0\"\n        data-input-position=\"top\"\n        data-theme=\"dark\"\n        data-lang=\"en\"\n        data-loading=\"lazy\"\n        crossorigin=\"anonymous\"\n        async>\n</script>\n```\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}