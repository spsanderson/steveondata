{
  "hash": "5f6d1d0af03c58afc7022d247da90532",
  "result": {
    "markdown": "---\ntitle: \"Demystifying Odds Ratios in Logistic Regression: Your R Recipe for Loan Defaults\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2023-12-15\"\ncategories: [rtip, regression]\n---\n\n\n# Introduction\n\nEver wondered why some individuals default on loans while others don't? Logistic regression can shed light on this, and calculating odds ratios in R is the secret sauce. So, strap on your data aprons, folks, and let's cook up some insights!\n\n# What are Odds Ratios?\n\nImagine a loan officer flipping a coin to decide whether to approve your loan. Odds ratios tell you how much more likely one factor (like your income) makes the \"heads\" (approval) side appear compared to another (like your student status).\n\nIn logistic regression, odds ratios compare the odds of an event (loan default, in our case) for two groups defined by a specific variable. They're like multipliers: greater than 1 means something increases the chances of default, while less than 1 means it decreases them.\n\n# The R Recipe (with ISLR Flavor)\n\n1. **Gather your ingredients:** Load the ISLR package and the `Default` dataset. This data tells us whether individuals defaulted on loans, their student status, bank balance, and income.\n2. **Whip up the model:** Use the `glm()` function with `family='binomial'` to fit a logistic regression model that predicts loan defaults based on student status, balance, and income. Think of it as the base for your delicious insights.\n3. **Extract the spices:** Use the `summary()` function to access the estimated coefficients for each variable. These are the secret ingredients that give your model flavor.\n4. **Unleash the magic of exponentiation:** Apply the `exp()` function to transform the coefficients back to the odds ratio scale. Remember, logistic regression operates on log-odds, so we need to break the code.\n5. **Savor the results:** Analyze the odds ratios. Are they greater than 1? Those factors increase default odds. Less than 1? They decrease them. A value near 1 suggests little to no effect.\n\n# Example Time\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load ISLR package and data\nlibrary(ISLR)\n\nhead(Default)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  default student   balance    income\n1      No      No  729.5265 44361.625\n2      No     Yes  817.1804 12106.135\n3      No      No 1073.5492 31767.139\n4      No      No  529.2506 35704.494\n5      No      No  785.6559 38463.496\n6      No     Yes  919.5885  7491.559\n```\n:::\n\n```{.r .cell-code}\n# Fit the model\nmodel <- glm(default~student+balance+income, family='binomial', data=Default)\n\n#disable scientific notation for model summary\noptions(scipen=999)\n\n# Extract and exponentiate coefficients\nodds_ratios <- exp(coef(model))\n\n# Print the odds ratios\ncat(\"Odds ratios:\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nOdds ratios:\n```\n:::\n\n```{.r .cell-code}\nprint(odds_ratios)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  (Intercept)    studentYes       balance        income \n0.00001903854 0.52373166965 1.00575299051 1.00000303345 \n```\n:::\n\n```{.r .cell-code}\ncat(\"Odds ratios with confidence intervals:\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nOdds ratios with confidence intervals:\n```\n:::\n\n```{.r .cell-code}\nexp(cbind(Odds_Ratio = coef(model), confint(model)))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWaiting for profiling to be done...\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n               Odds_Ratio          2.5 %       97.5 %\n(Intercept) 0.00001903854 0.000007074481 0.0000487808\nstudentYes  0.52373166965 0.329882707270 0.8334223982\nbalance     1.00575299051 1.005308940686 1.0062238757\nincome      1.00000303345 0.999986952969 1.0000191246\n```\n:::\n:::\n\n\nInterpretation time! Being a student decreases default with log odds by -0.646, while higher income leaves log odds basically flat.\n\n**Go Forth and Experiment!**\n\nThis is just the tip of the iceberg! Play around with different models, variables, and visualizations using RStudio. Remember, the more you experiment, the better you'll understand the magic of odds ratios and logistic regression. Now, go forth and analyze!\n\n**Bonus Tip:** Check out the `confint()` function to calculate confidence intervals for your odds ratios. This adds another layer of spice to your statistical analysis!\n\nSo, there you have it! Odds ratios in R, made easy with the ISLR package and a dash of culinary magic. Remember, the key ingredients are understanding, practice, and a sprinkle of creativity. Bon appÃ©tit, data chefs!\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}