{
  "hash": "55d8219d24fd34dd21f4dd851db2f3e9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"How to Generate Random Numbers in R With Examples\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2025-05-26\"\ncategories: [code, rtip]\ntoc: TRUE\ndescription: \"Learn how to generate random numbers in R with this comprehensive guide! Explore various functions like runif(), rnorm(), and sample(), and discover best practices for reproducibility. Packed with practical examples, visualizations, and tips for statistical analysis, this article is perfect for R programmers looking to enhance their data generation skills.\"\nkeywords: [Programming, Random Numbers in R, R Programming, Generate Random Data R, R Random Functions, Statistical Analysis R, R Normal Distribution, R Uniform Distribution, R Random Integer Generation, Monte Carlo Simulation R, Set Seed R, How to Generate Random Numbers in R for Data Analysis, Using rnorm and runif Functions in R Programming, Visualizing Random Number Distributions in R, Best Practices for Random Number Generation in R, Reproducibility in R Random Number Generation Techniques]\n---\n\n\n\n> Random number generation is a basic skill for statistics, simulations, and data analysis in R. This guide should help you get famililar with some of those basics.\n\n# Introduction\n\nRandom number generation is a basic component of many statistical analyses, simulations, and data science workflows in R. Whether you're running Monte Carlo simulations, creating sample datasets, or implementing statistical algorithms, knowing how to generate random numbers efficiently is a valuable skill. This article will walk you through the most common methods for generating random numbers in R, with practical examples and visualizations to help you understand the concepts better.\n\n# Understanding Random Number Generation in R\n\nR provides a powerful suite of functions for generating random numbers from various probability distributions. These functions are prefixed with `r` (for random), followed by the abbreviated name of the distribution. For example, `rnorm()` generates random numbers from a normal distribution, while `runif()` generates random numbers from a uniform distribution.\n\n# Basic Random Number Generation\n\n## Uniform Distribution with runif()\n\nThe `runif()` function generates random numbers from a uniform distribution where each number in the specified range has an equal probability of being chosen.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 5 random numbers between 0 and 1\nrunif(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9631528 0.6473717 0.8502536 0.5132711 0.3478398\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 10 random numbers between 10 and 20\nrunif(10, min = 10, max = 20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 18.06993 14.80453 15.20832 16.79679 16.00856 10.91564 18.10421 19.74378\n [9] 12.87939 15.08066\n```\n\n\n:::\n:::\n\n\n\n## Normal Distribution with rnorm()\n\nThe `rnorm()` function generates random numbers from a normal (Gaussian) distribution with a specified mean and standard deviation.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 5 random numbers from a normal distribution with mean 0 and sd 1\nrnorm(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.3169287 0.4466374 0.5926026 1.7024986 1.5120444\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 10 random numbers with mean 100 and sd 20\nrnorm(10, mean = 100, sd = 20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 109.83534  93.56975 113.24464 128.31562 103.70459  87.70473  89.19045\n [8]  92.77541  80.40960 128.66981\n```\n\n\n:::\n:::\n\n\n\n## Random Integers with sample()\n\nThe `sample()` function is perfect for generating random integers or sampling from a specific set of values.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 5 random integers between 1 and 100\nsample(1:100, 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 81 70 98 46 89\n```\n\n\n:::\n\n```{.r .cell-code}\n# Sample with replacement (allowing repeated values)\nsample(1:10, 15, replace = TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 8 9 5 4 7 4 8 3 7 5 4 9 1 4 8\n```\n\n\n:::\n:::\n\n\n\n# Setting Seeds for Reproducibility\n\nWhen working with random numbers, it's often essential to make your results reproducible. The `set.seed()` function allows you to get the same sequence of \"random\" numbers each time you run your code.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set a seed for reproducibility\nset.seed(123)\n# Generate random numbers\nrunif(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2875775 0.7883051 0.4089769 0.8830174 0.9404673\n```\n\n\n:::\n\n```{.r .cell-code}\n# Run again with the same seed for the same results\nset.seed(123)\nrunif(5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.2875775 0.7883051 0.4089769 0.8830174 0.9404673\n```\n\n\n:::\n:::\n\n\n\n# Visualizing Random Distributions\n\nVisualizing random number distributions helps you understand their properties better. Here's a comparison of different random distributions:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow = c(2, 2))\n# Uniform Distribution\nhist(runif(1000, min = 0, max = 1), breaks = 30, \n     main = \"Uniform Distribution\", xlab = \"Value\", col = \"lightblue\")\n\n# Normal Distribution\nhist(rnorm(1000, mean = 0, sd = 1), breaks = 30, \n     main = \"Normal Distribution\", xlab = \"Value\", col = \"lightgreen\")\n\n# Random Sampling\nhist(sample(1:100, 1000, replace = TRUE), breaks = 30, \n     main = \"Random Sampling\", xlab = \"Value\", col = \"lightcoral\")\n\n# Probability Density Functions Comparison\nx <- seq(-4, 4, length.out = 100)\nplot(x, dnorm(x), type = \"l\", col = \"blue\", lwd = 2, ylim = c(0, 1), \n     main = \"Probability Density Functions Comparison\", xlab = \"Value\",\n     ylab = \"Density\")\nlines(x, dnorm(x, mean = 1, sd = 0.5), col = \"red\", lwd = 2)\nlines(x, dnorm(x, mean = -1, sd = 0.5), col = \"green\", lwd = 2)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mfrow = c(1, 1))\n```\n:::\n\n\n\nThe plots above show:\n\n1. **Uniform Distribution**: A flat distribution where all values in the range have equal probability\n2. **Normal Distribution**: The classic bell-shaped curve with most values clustered around the mean\n3. **Random Sampling**: The result of random sampling with replacement\n4. **Probability Density Functions Comparison**: A comparison of different probability distributions\n\n# Advanced Random Number Generation\n\nR provides functions for generating random numbers from many other probability distributions. Here are some of the most commonly used ones:\n\n## Binomial Distribution (rbinom)\n\nUseful for modeling success/failure scenarios with a fixed number of trials.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 10 random numbers from a binomial distribution \n# with 20 trials and probability 0.5\nrbinom(10, size = 20, prob = 0.5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 18 14 14 11 11 14  8 11  7 10\n```\n\n\n:::\n:::\n\n\n\n## Poisson Distribution (rpois)\n\nPerfect for modeling the number of events occurring in a fixed time period.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate 10 random numbers from a Poisson distribution with lambda = 5\nrpois(10, lambda = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] 6 1 3 2 7 4 6 6 3 4\n```\n\n\n:::\n:::\n\n\n\n## Other Useful Distributions\n\nR supports many other probability distributions, including:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gamma distribution\nrgamma(5, shape = 2, scale = 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.0359106 0.4800262 1.5689731 0.9516189 1.6413728\n```\n\n\n:::\n\n```{.r .cell-code}\n# Beta distribution\nrbeta(5, shape1 = 2, shape2 = 5)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.16886543 0.36738431 0.26962401 0.27630634 0.04024299\n```\n\n\n:::\n\n```{.r .cell-code}\n# Chi-squared distribution\nrchisq(5, df = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8795775 2.8472263 1.0508443 1.6913313 1.1525831\n```\n\n\n:::\n:::\n\n\n\n# Visualizing Advanced Distributions\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow = c(2, 2))\n\n# Gamma Distribution\nhist(rgamma(1000, shape = 2, scale = 1), breaks = 30, \n     main = \"Gamma Distribution\", xlab = \"Value\", col = \"lightblue\")\n\n# Beta Distribution\nhist(rbeta(1000, shape1 = 2, shape2 = 5), breaks = 30, \n     main = \"Beta Distribution\", xlab = \"Value\", col = \"lightgreen\")\n\n# Poisson Distribution\nhist(rpois(1000, lambda = 5), breaks = 30, \n     main = \"Poisson Distribution\", xlab = \"Value\", col = \"lightcoral\")\n\n# Chi-square Distribution\nhist(rchisq(1000, df = 3), breaks = 30, \n     main = \"Chi-square Distribution\", xlab = \"Value\", col = \"lightyellow\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mfrow = c(1, 1))\n```\n:::\n\n\n\n\nThe plots above show the theoretical distributions (red lines) compared to randomly sampled data (histograms) for:\n\n1. **Gamma Distribution**: Useful for modeling waiting times\n2. **Beta Distribution**: Often used for modeling probabilities or proportions\n3. **Poisson Distribution**: Models count data or rare events\n4. **Chi-square Distribution**: Used in hypothesis testing\n\n# Common Pitfalls and Best Practices\n\n## Pitfall 1: Not Setting a Seed\n\nIf you don't set a seed, you'll get different random numbers each time you run your code, which can make debugging difficult and results irreproducible.\n\n## Best Practice: Always Set a Seed for Reproducibility\n\n```r\nset.seed(42)  # Choose any number you like\n```\n\n## Pitfall 2: Using the Same Seed in Parallel Processing\n\nWhen using parallel processing, setting the same seed in each parallel worker can lead to correlated random numbers.\n\n## Best Practice: Use Parallel-Safe RNG Methods\n\n```r\nlibrary(parallel)\ncl <- makeCluster(4)\nclusterSetRNGStream(cl, iseed = 42)\n```\n\n## Pitfall 3: Ignoring the Properties of the Distribution\n\nUsing the wrong distribution for your data can lead to incorrect results.\n\n## Best Practice: Select the Appropriate Distribution\n\nChoose the distribution that best models your data:\n\n- Use `rnorm()` for continuous, symmetric data\n- Use `rpois()` for count data\n- Use `rbinom()` for binary outcomes\n\n# Your Turn! Interactive Section\n\nNow, let's put your knowledge into practice with a simple exercise.\n\n**Exercise**: Generate 1000 random numbers from a normal distribution with mean 50 and standard deviation 10. Then calculate their mean and standard deviation to verify they are close to the expected values.\n\n<details>\n<summary>Click here for Solution!</summary>\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Set seed for reproducibility\nset.seed(123)\n\n# Generate 1000 random numbers from normal distribution\nrandom_numbers <- rnorm(1000, mean = 50, sd = 10)\n\n# Calculate mean and standard deviation\nmean(random_numbers)  # Should be close to 50\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 50.16128\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(random_numbers)    # Should be close to 10\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9.91695\n```\n\n\n:::\n:::\n\n\n\nThe mean should be approximately 50, and the standard deviation should be approximately 10, with small variations due to randomness.\n</details>\n\n# Quick Takeaways\n\n- **Function Pattern**: Random number generators in R follow the pattern r + distribution name (e.g., `rnorm`, `runif`)\n- **Reproducibility**: Use `set.seed()` to make your random numbers reproducible\n- **Common Distributions**:\n  - `runif()` for uniform distribution\n  - `rnorm()` for normal distribution\n  - `sample()` for random sampling\n  - `rbinom()` for binomial distribution\n  - `rpois()` for Poisson distribution\n- **Visualization**: Always visualize your random numbers to verify their distribution\n- **Parameters**: Each distribution function has specific parameters that control its shape\n\n# Conclusion\n\nRandom number generation is a powerful tool in R programming that enables everything from simple sampling to complex statistical simulations. By understanding the different distribution functions and their parameters, you can generate the precise type of random data you need for your analyses.\n\nNow that you have a solid foundation in generating random numbers in R, try incorporating these techniques into your next data analysis project or statistical simulation. Remember to set a seed for reproducibility, choose the appropriate distribution for your data, and visualize your results to ensure they meet your expectations.\n\n**Ready to level up your R programming skills?** Share this article with your colleagues and let us know in the comments which random number generation techniques you find most useful in your work.\n\n# FAQs\n\n# 1. Why do I get different random numbers each time I run my code?\n\nIf you don't set a seed using `set.seed()`, R will generate different random numbers each time. To get reproducible results, always set a seed at the beginning of your script.\n\n## 2. Which function should I use to generate random integers?\n\nUse the `sample()` function to generate random integers. For example, `sample(1:100, 10)` generates 10 random integers between 1 and 100.\n\n## 3. How do I generate random numbers from a custom probability distribution?\n\nYou can use the `sample()` function with custom probabilities. For example:\n```r\nsample(1:6, 10, replace = TRUE, prob = c(0.1, 0.1, 0.1, 0.1, 0.1, 0.5))\n```\nThis will generate random numbers from 1 to 6, with 6 being five times more likely to appear than the other numbers.\n\n## 4. What's the difference between sampling with and without replacement?\n\nWhen sampling with replacement (`replace = TRUE`), the same value can be selected multiple times. Without replacement (`replace = FALSE`), each value can only be selected once.\n\n## 5. How can I check if my random numbers follow the expected distribution?\n\nUse visualization techniques like histograms, density plots, or Q-Q plots to verify your random numbers follow the expected distribution:\n\n```r\nhist(rnorm(1000), breaks = 30)  # Histogram for normal distribution\nqqnorm(rnorm(1000))  # Q-Q plot for normal distribution\n```\n\n# References\n\n1. **Official R Documentation**\n   - R Core Team (2023). \"Introduction to R: A Programming Environment for Data Analysis and Graphics\"  \n     [https://cran.r-project.org/doc/manuals/r-release/R-intro.html](https://cran.r-project.org/doc/manuals/r-release/R-intro.html)\n\n2. **R Random Number Generation Tutorial**\n   - GeeksforGeeks (2023). \"How to Generate Random Numbers in R\"  \n     [https://www.geeksforgeeks.org/how-to-generate-random-numbers-in-r/](https://www.geeksforgeeks.org/how-to-generate-random-numbers-in-r/)\n\n3. **Statistical Applications of Random Numbers**\n   - Statology (2023). \"Random Number Generation in R\"  \n     [https://www.statology.org/r-random-number/](https://www.statology.org/r-random-number/)\n\n4. **Academic Resources on Random Number Generation**\n   - MIT OpenCourseWare (2022). \"R Tutorial B: Random Numbers\"  \n     [https://ocw.mit.edu/courses/18-05-introduction-to-probability-and-statistics-spring-2022/pages/r-tutorial-b-random-numbers/](https://ocw.mit.edu/courses/18-05-introduction-to-probability-and-statistics-spring-2022/pages/r-tutorial-b-random-numbers/)\n\n5. **Random Number Generators in R**\n   - Wikibooks (2023). \"R Programming/Random Number Generation\"  \n     [https://en.wikibooks.org/wiki/R_Programming/Random_Number_Generation](https://en.wikibooks.org/wiki/R_Programming/Random_Number_Generation)\n\n6. **Practical Applications of Random Numbers**\n   - Ducat India (2023). \"Random Number Generator in R\"  \n     [https://tutorials.ducatindia.com/r-programming/random-number-generator-in-r](https://tutorials.ducatindia.com/r-programming/random-number-generator-in-r)\n\n------------------------------------------------------------------------\n\nHappy Coding! ðŸš€\n\n![Random Numbers in R](todays_post.png)\n\n------------------------------------------------------------------------\n\n*You can connect with me at any one of the below*:\n\n*Telegram Channel here*: <https://t.me/steveondata>\n\n*LinkedIn Network here*: <https://www.linkedin.com/in/spsanderson/>\n\n*Mastadon Social here*: [https://mstdn.social/\\@stevensanderson](https://mstdn.social/@stevensanderson)\n\n*RStats Network here*: [https://rstats.me/\\@spsanderson](https://rstats.me/@spsanderson)\n\n*GitHub Network here*: <https://github.com/spsanderson>\n\n*Bluesky Network here*: <https://bsky.app/profile/spsanderson.com>\n\n*My Book: Extending Excel with Python and R* here: <https://packt.link/oTyZJ>\n\n*You.com Referral Link*: <https://you.com/join/EHSLDTL6>\n\n------------------------------------------------------------------------\n\n\n\n```{=html}\n<script src=\"https://giscus.app/client.js\"\n        data-repo=\"spsanderson/steveondata\"\n        data-repo-id=\"R_kgDOIIxnLw\"\n        data-category=\"Comments\"\n        data-category-id=\"DIC_kwDOIIxnL84ChTk8\"\n        data-mapping=\"url\"\n        data-strict=\"0\"\n        data-reactions-enabled=\"1\"\n        data-emit-metadata=\"0\"\n        data-input-position=\"top\"\n        data-theme=\"dark\"\n        data-lang=\"en\"\n        data-loading=\"lazy\"\n        crossorigin=\"anonymous\"\n        async>\n</script>\n```\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}