{
  "hash": "52da4ff2d7cddeb57d043104fb1e9ce8",
  "result": {
    "markdown": "---\ntitle: \"Simplifying Date Manipulation: How to Get Week Numbers in R\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2024-02-06\"\ncategories: [code, rtip, timeseries]\n---\n\n\n# Introduction\n\nWhen working with dates in R, you may need to extract the week number for any given date. This can be useful for doing time series analysis or visualizations by week.\n\nIn this post, I'll demonstrate how to get the week number from dates in R using both base R and the lubridate package. I'll provide simple examples so you can try it yourself.\n\n## Using Base R \n\nIn base R, the `strftime()` function is used to format dates and extract different date components like day, month, year etc. \n\nThe syntax for `strftime()` is:\n\n```\nstrftime(x, format, tz = \"\")\n```\n\nWhere:\n\n- `x`: is the date object  \n- `format`: is the format string specifying which date components to extract\n- `tz`: is an optional time zone string \n\nTo get the week number, we need to use `\"%V\"` in the format string. This tells `strftime()` to return the ISO 8601 standard week number. \n\nLet's see an example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndate <- as.Date(\"2023-01-15\")\n\nstrftime(date, format = \"%V\") \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"02\"\n```\n:::\n:::\n\n\nThis returns the week number as a string. In this case, it's the second week of the year.\n\nWe passed the date object to `strftime()` along with the format string containing `\"%V\"`.\n\nLet's try another example on a vector of dates:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndates <- as.Date(c(\"2023-01-15\", \"2023-02-28\", \"2023-12-31\"))\n\nstrftime(dates, format = \"%V\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"02\" \"09\" \"52\"\n```\n:::\n:::\n\n\nThis returns the week number for each date. So with base R, we can use `strftime()` and `%V` to easily extract week numbers from dates.\n\n## Using lubridate\n\nThe lubridate package provides a wrapper function called `week()` to get the week number from a date.\n\nThe syntax for `week()` is simple:\n\n```\nweek(x)\n```\n\nWhere x is the date object.\n\nLet's see an example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(lubridate)\n\ndate <- ymd(\"2023-01-15\")\n\nweek(date)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3\n```\n:::\n:::\n\n\nThis returns a numeric value representing the week number. In this case, it's the third week of the year.\n\nFor a vector of dates:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndates <- ymd(c(\"2023-01-15\", \"2023-02-28\", \"2023-12-31\"))\n\nweek(dates) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  3  9 53\n```\n:::\n:::\n\n\nSo `week()` makes it easy to extract the week number from dates in lubridate. You will also notice that `strftime()` returns \"52\" for the last date of the year, while `week()` returns \"53\". This is because `week()` follows the ISO 8601 standard for week numbers.\n\n## Wrap Up\n\nTo quickly recap the key points:\n\n- Base R: `strftime(date, format = \"%V\")`  \n- lubridate: `week(date)`\n\nI encourage you to try these functions out on some sample dates in R. Being able to wrangle dates is an important skill for handling temporal data.\n\nLet me know if you have any other questions!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}